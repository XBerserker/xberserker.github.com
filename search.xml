<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
    
    <entry>
      <title><![CDATA[MapStruct å®è·µ]]></title>
      <url>http://tech.noexception.cn/2022/05/22/learn-in-mapstruct/</url>
      <content type="html"><![CDATA[<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ee6bc3c7e2ce44e19473cd3ee0aeaf16~tplv-k3u1fbpfcp-zoom-crop-mark:1304:1304:1304:734.awebp?"  style="margin-left: auto; 
    margin-right:auto; 
    display:block;" ><br />
</img></p>
<div><i>ä¸åšæ— ç”¨åŠŸ</i></div>
<a id="more"></a>
<h2 id="ä¸€-èƒŒæ™¯"><a class="markdownIt-Anchor" href="#ä¸€-èƒŒæ™¯"></a> ä¸€ã€èƒŒæ™¯</h2>
<h2 id="äºŒ-mapstruct-ä¹‹å‰"><a class="markdownIt-Anchor" href="#äºŒ-mapstruct-ä¹‹å‰"></a> äºŒã€MapStruct ä¹‹å‰</h2>
<h2 id="ä¸‰-åŠŸèƒ½ç‚¹ä»‹ç»"><a class="markdownIt-Anchor" href="#ä¸‰-åŠŸèƒ½ç‚¹ä»‹ç»"></a> ä¸‰ã€åŠŸèƒ½ç‚¹ä»‹ç»</h2>
<h2 id="å››-é¡¹ç›®å®è·µ"><a class="markdownIt-Anchor" href="#å››-é¡¹ç›®å®è·µ"></a> å››ã€é¡¹ç›®å®è·µ</h2>
]]></content>
      
        
        <tags>
            
            <tag> java </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[ã€Šä»é›¶å¼€å§‹å†™ Canvas å¼•æ“ã€‹â€”â€”æåæ ‡ç³»ä½œä¸š]]></title>
      <url>http://tech.noexception.cn/2022/05/21/start-write-canvas-engine/</url>
      <content type="html"><![CDATA[<p>æ²‰æ·€</p>
<a id="more"></a>]]></content>
      
        
        <tags>
            
            <tag> canvas </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[äºŒçº§åŸŸåä»¥åŠ Docker å®¹å™¨äº’ç›¸è®¿é—®]]></title>
      <url>http://tech.noexception.cn/2022/04/08/subdomain/</url>
      <content type="html"><![CDATA[<h2 id="äºŒçº§åŸŸå"><a class="markdownIt-Anchor" href="#äºŒçº§åŸŸå"></a> äºŒçº§åŸŸå</h2>
<h3 id="èµ·å› "><a class="markdownIt-Anchor" href="#èµ·å› "></a> èµ·å› </h3>
<p>ç”±äºåœ¨ä¸€å°æœåŠ¡å™¨ä¸Šéƒ¨ç½²äº†å¤šä¸ªä¸åŒçš„åº”ç”¨/æœåŠ¡ï¼Œä¹‹å‰æ˜¯ä½¿ç”¨åŸŸå+ç«¯å£å·çš„æ–¹å¼æ¥åŒºåˆ†åº”ç”¨ã€‚ä½†æ˜¯è¿™ç§æ–¹å¼åœ¨åº”ç”¨æˆ–æœåŠ¡å¤šäº†ä»¥åï¼Œå°±ä¸å¥½ä½¿äº†ï¼Œå¯¹äºä¸ªäººæ¥è¯´ï¼Œéœ€è¦è®°ä¸Šåº”ç”¨æˆ–æœåŠ¡å¯¹åº”çš„ç«¯å£å·ä»¥åŠæœåŠ¡çš„åŸŸååç¼€ã€‚<br />
äºæ˜¯å°±æœ‰äº†è¿™ç¯‡æ–‡ç« è®°å½•ã€‚</p>
<h3 id="åœ¨-nginx-é…ç½®å­åŸŸå"><a class="markdownIt-Anchor" href="#åœ¨-nginx-é…ç½®å­åŸŸå"></a> åœ¨ Nginx é…ç½®å­åŸŸå</h3>
<ul>
<li>åœ¨ Nginx ä¸­é…ç½®éœ€è¦çš„å­åŸŸåï¼ˆæˆ‘ä¹ æƒ¯å°†æ¯ä¸€ä¸ªå­åŸŸåçš„é…ç½®åˆ†å¼€æ¥ï¼Œä¸€ä¸ªå­åŸŸåå¯¹åº”ä¸€ä¸ªå­—é…ç½®æ–‡ä»¶ï¼‰
<ul>
<li>åœ¨ Nginx é»˜è®¤é…ç½®æ–‡ä»¶ http èŠ‚ç‚¹ä¸‹é…ç½®ï¼š<code>include /path/to/config/*.conf</code></li>
</ul>
</li>
<li><code>Portainer</code> é…ç½®ï¼š</li>
</ul>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># portainer.conf</span></span><br><span class="line"><span class="attr">server</span> <span class="string">&#123;</span></span><br><span class="line">    <span class="attr">listen</span>       <span class="string">80;</span></span><br><span class="line">    <span class="attr">listen</span>  <span class="string">[::]:80;</span></span><br><span class="line">    <span class="attr">server_name</span>  <span class="string">docker.noexception.cn;</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">location</span> <span class="string">/ &#123;</span></span><br><span class="line">        <span class="attr">proxy_redirect</span> <span class="string">off;</span></span><br><span class="line">        <span class="attr">proxy_set_header</span> <span class="string">host $host;</span></span><br><span class="line">        <span class="attr">proxy_set_header</span> <span class="string">x-real-ip $remote_addr;</span></span><br><span class="line">        <span class="attr">proxy_set_header</span> <span class="string">x-forwarded-for $proxy_add_x_forwarded_for;</span></span><br><span class="line">        <span class="attr">proxy_pass</span> <span class="string">http://portainer:9000/;</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br><span class="line"><span class="attr">&#125;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>å®šæ—¶ä»»åŠ¡é…ç½®ï¼š</li>
</ul>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># tasks.conf</span></span><br><span class="line"><span class="attr">server</span> <span class="string">&#123;</span></span><br><span class="line">    <span class="attr">listen</span>       <span class="string">80;</span></span><br><span class="line">    <span class="attr">listen</span>  <span class="string">[::]:80;</span></span><br><span class="line">    <span class="attr">server_name</span>  <span class="string">tasks.noexception.cn;</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">location</span> <span class="string">^~ /xxl-job-admin &#123;</span></span><br><span class="line">        <span class="attr">proxy_redirect</span> <span class="string">off;</span></span><br><span class="line">        <span class="attr">proxy_set_header</span> <span class="string">host $host;</span></span><br><span class="line">        <span class="attr">proxy_set_header</span> <span class="string">x-real-ip $remote_addr;</span></span><br><span class="line">        <span class="attr">proxy_set_header</span> <span class="string">x-forwarded-for $proxy_add_x_forwarded_for;</span></span><br><span class="line">        <span class="attr">proxy_pass</span> <span class="string">http://xxl-job-admin:7397/xxl-job-admin/;</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">location</span> <span class="string">/ &#123;</span></span><br><span class="line">        <span class="attr">proxy_redirect</span> <span class="string">off;</span></span><br><span class="line">        <span class="attr">proxy_set_header</span> <span class="string">host $host;</span></span><br><span class="line">        <span class="attr">proxy_set_header</span> <span class="string">x-real-ip $remote_addr;</span></span><br><span class="line">        <span class="attr">proxy_set_header</span> <span class="string">x-forwarded-for $proxy_add_x_forwarded_for;</span></span><br><span class="line">        <span class="attr">proxy_pass</span> <span class="string">http://xxl-job-admin:7397/xxl-job-admin/;</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br><span class="line"><span class="attr">&#125;</span></span><br></pre></td></tr></table></figure>
<h3 id="é…ç½®åŸŸåè§£æ"><a class="markdownIt-Anchor" href="#é…ç½®åŸŸåè§£æ"></a> é…ç½®åŸŸåè§£æ</h3>
<p><img src="https://s1.328888.xyz/2022/05/30/5QXZP.png" alt="5QXZP.png" /></p>
<ul>
<li>åœ¨åŸŸåç®¡ç†ç•Œé¢ä¸­ï¼Œæ·»åŠ ä¸€æ¡è§£æè®°å½•ï¼š
<ul>
<li>è®°å½•ç±»å‹ä¸º<code>A</code>ï¼Œ</li>
<li>ä¸»æœºè®°å½•ä¸º: å­åŸŸåï¼ˆå¦‚ï¼šdockerï¼‰ï¼Œ</li>
<li>è®°å½•å€¼ä¸ºæœåŠ¡å™¨çš„IPåœ°å€ï¼Œ</li>
<li>æäº¤ä¿å­˜ã€‚</li>
</ul>
</li>
</ul>
<h2 id="æ€»ç»“"><a class="markdownIt-Anchor" href="#æ€»ç»“"></a> æ€»ç»“</h2>
<ul>
<li><strong>æ•´ä¸ªé…ç½®è¿‡ç¨‹å¹¶ä¸å¤æ‚ï¼Œæ¦‚å†µæ¥è¯´å°±æ˜¯ä¸‰æ­¥ï¼š</strong>
<ol>
<li>éƒ¨ç½²åº”ç”¨ï¼›</li>
<li>æ·»åŠ  Nginx é…ç½®ï¼ˆå¦‚ portainer.confï¼‰ï¼›</li>
<li>åœ¨åŸŸåè§£æé¡µé¢ä¸­ï¼Œæ·»åŠ å­åŸŸåçš„è§£æè®°å½•ã€‚</li>
</ol>
</li>
</ul>
<h2 id="è¡¥å……"><a class="markdownIt-Anchor" href="#è¡¥å……"></a> è¡¥å……ï¼š</h2>
<h3 id="1-å…³äºåœ¨-docker-ä¸­é…ç½®å¥½å­åŸŸååå‘ç°æ— æ³•è®¿é—®çš„æƒ…å†µ"><a class="markdownIt-Anchor" href="#1-å…³äºåœ¨-docker-ä¸­é…ç½®å¥½å­åŸŸååå‘ç°æ— æ³•è®¿é—®çš„æƒ…å†µ"></a> 1. å…³äºåœ¨ Docker ä¸­ï¼Œé…ç½®å¥½å­åŸŸååï¼Œå‘ç°æ— æ³•è®¿é—®çš„æƒ…å†µã€‚</h3>
<ul>
<li><strong>åŸå› ï¼š</strong> æ˜¯å› ä¸º docker çš„ç½‘ç»œç­–ç•¥é»˜è®¤æƒ…å†µä¸‹ï¼Œå®¹å™¨ä¸å®¹å™¨ä¹‹é—´æ˜¯æ— æ³•ç›¸äº’è®¿é—®çš„ï¼Œåœ¨å¯åŠ¨å®¹å™¨çš„æ—¶å€™ï¼Œå¾—ç»™å¥¹ä»¬æŒ‡å®šå¥½ç½‘ç»œç»„ã€‚</li>
</ul>
<p>// TODOâ€¦</p>
]]></content>
      
        
        <tags>
            
            <tag> Docker </tag>
            
            <tag> Nginx </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[2022 æ–°å¹´è®¡åˆ’]]></title>
      <url>http://tech.noexception.cn/2022/01/17/2022-new-page/</url>
      <content type="html"><![CDATA[<p><em>å‚ä¸å°½å¤©ä¸‹ä¹‹ç†</em></p>
<a id="more"></a>
<h2 id="2022-å¹´éœ€è¦å®Œæˆçš„æŠ€æœ¯ä½“ç³»"><a class="markdownIt-Anchor" href="#2022-å¹´éœ€è¦å®Œæˆçš„æŠ€æœ¯ä½“ç³»"></a> 2022 å¹´éœ€è¦å®Œæˆçš„æŠ€æœ¯ä½“ç³»ï¼š</h2>
<ol>
<li>Netty ç½‘ç»œæ¡†æ¶åŠé¡¹ç›®å®è·µï¼›</li>
<li>ç³»ç»ŸäºŒçº§ç¼“å­˜æ¡†æ¶ï¼›</li>
<li>Idea æ’ä»¶å¼€å‘ï¼›</li>
</ol>
<h2 id="è®¡åˆ’æå‡çš„æŠ€èƒ½ç‚¹"><a class="markdownIt-Anchor" href="#è®¡åˆ’æå‡çš„æŠ€èƒ½ç‚¹"></a> è®¡åˆ’æå‡çš„æŠ€èƒ½ç‚¹ï¼š</h2>
<ol>
<li>æ·±å…¥ç†è§£åŠå®è·µè®¾è®¡æ¨¡å¼å’Œè®¾è®¡åŸåˆ™ï¼›</li>
<li>ç»§ç»­åŠ å¼ºæ•°æ®ç»“æ„ä¸ç®—æ³•ï¼Œæ¯å‘¨ä¸€ç»ƒï¼›</li>
</ol>
<h2 id="å¾…æå‡çš„è½¯æŠ€èƒ½"><a class="markdownIt-Anchor" href="#å¾…æå‡çš„è½¯æŠ€èƒ½"></a> å¾…æå‡çš„è½¯æŠ€èƒ½ï¼š</h2>
<ol>
<li>æå‡æ²Ÿé€šèƒ½åŠ›ï¼›</li>
<li>å–„äºå€¾å¬ï¼Œå˜å¾—æ›´ Considerateï¼›</li>
<li>ä¸€å¹´å†…ï¼Œè‡³å°‘çœ‹å®Œä¸€æœ¬éæŠ€æœ¯ç±»ä¹¦ç±ï¼›</li>
</ol>
<h2 id="ç¬¬äºŒæŠ€èƒ½çš„å­¦ä¹ è§„åˆ’"><a class="markdownIt-Anchor" href="#ç¬¬äºŒæŠ€èƒ½çš„å­¦ä¹ è§„åˆ’"></a> ç¬¬äºŒæŠ€èƒ½çš„å­¦ä¹ è§„åˆ’ï¼š</h2>
<ol>
<li>ä» Solidity å…¥é—¨åŒºå—é“¾å¼€å‘</li>
<li>äº†è§£åŒºå—é“¾æ¸¸æˆå¼€å‘</li>
</ol>
]]></content>
      
        
        <tags>
            
            <tag> è®¡åˆ’ </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[æ¯æ—¥æ€»ç»“æ‰“å¡-2021/12/15]]></title>
      <url>http://tech.noexception.cn/2021/12/15/sign-20211215/</url>
      <content type="html"><![CDATA[<p><em>è§ä¸å°½å¤©ä¸‹ä¹‹äº‹</em></p>
<a id="more"></a>
<h3 id="sæƒ…æ™¯"><a class="markdownIt-Anchor" href="#sæƒ…æ™¯"></a> Sæƒ…æ™¯</h3>
<ul>
<li>æœ€è¿‘è¿™æ®µæ—¶é—´çš„å†…å®¹ä¸»è¦æ˜¯ï¼š
<ol>
<li>æ¯å¤©å­¦ä¹ ä¸€èŠ‚æŠ½å¥–é¡¹ç›®çš„å†…å®¹ï¼Œå½“å‰è¿›åº¦ï¼š<code>ç¬¬13èŠ‚</code>ï¼›</li>
<li>æŸ¥æ‰¾å¹¶å­¦ä¹ å¦‚ä½•å®ç°ä¸€ä¸ªäºŒçº§ç¼“å­˜æ¡†æ¶ï¼›</li>
<li>é›¶ç¢çš„å·¥ä½œä¸Šçš„äº‹æƒ…ã€‚</li>
</ol>
</li>
</ul>
<h3 id="tä»»åŠ¡"><a class="markdownIt-Anchor" href="#tä»»åŠ¡"></a> Tä»»åŠ¡</h3>
<ul>
<li>æäº¤ä»Šå¤©çš„ Lottery é¡¹ç›®å­¦ä¹ ä»£ç ä½œä¸š</li>
<li>è¿™ä¸¤å¤©æ‰¾åˆ°äº†ä¸€ä¸ªäºŒçº§ç¼“å­˜çš„å¼€æºé¡¹ç›®ï¼š<a href="https://gitee.com/ld/J2Cache" target="_blank" rel="noopener">J2Cache</a>ï¼Œclone åˆ°æœ¬åœ°</li>
</ul>
<h3 id="aè¡ŒåŠ¨"><a class="markdownIt-Anchor" href="#aè¡ŒåŠ¨"></a> Aè¡ŒåŠ¨</h3>
<ul>
<li>å…³äº Lottery é¡¹ç›®çš„ä½œä¸šï¼Œç»Ÿä¸€ push åˆ°äº†å½“å‰é¡¹ç›®ç›®å½•ä¸‹çš„ <code>idea-plugin/mylottery</code> ä¸‹ï¼Œä»¥ä¸€ä¸ª git submodule çš„å½¢å¼æ•´ç†åœ¨å½“å‰è¿™ä¸ª<a href="https://codechina.csdn.net/CreativeAlliance/lottery-102-999" target="_blank" rel="noopener">ä»“åº“</a>ä¸­ã€‚</li>
<li>æŠŠ <code>J2Cache</code> æºç  clone åˆ°æœ¬åœ°ï¼Œé€šè¿‡å®˜æ–¹çš„å•å…ƒæµ‹è¯•ï¼Œè¿›è¡Œå•æ­¥è°ƒè¯•ï¼Œé¦–å…ˆæƒ³äº†è§£ä¸‹ï¼Œå¤§ç¥å†™çš„äºŒçº§ç¼“å­˜æ¡†æ¶çš„ä¸»è¦æµç¨‹å¤§ä½“ä¸Šæ˜¯æ€ä¹ˆæ ·çš„ï¼›</li>
<li>ä»Šæ™šä¸‹ç­çš„æ—¶å€™ï¼Œé¡ºå¸¦ä¹Ÿå» star äº†é˜¿é‡Œå®¶çš„ <code>JetCache</code> ä¹Ÿæ˜¯ä¸€ä¸ªäºŒçº§ç¼“å­˜æ¡†æ¶ï¼Œæœ¬æƒ³æŸ¥æŸ¥è¿™ä¸¤ä¸ªæ¡†æ¶çš„å·®åˆ«ï¼Œä½†æ˜¯ç½‘ä¸Šèƒ½å¤Ÿæœç´¢åˆ°çš„èµ„æ–™ç›¸å½“æœ‰é™ã€‚æš‚æ—¶å…ˆç ”ç©¶é€ <code>J2Cache</code> å…ˆå§ï¼Œé¥­è¦ä¸€å£ä¸€å£åƒï¼Œè·¯è¦ä¸€æ­¥ä¸€æ­¥èµ°ã€‚</li>
</ul>
<h3 id="rç»“æœ"><a class="markdownIt-Anchor" href="#rç»“æœ"></a> Rç»“æœ</h3>
<ul>
<li>å…³äº J2Cache å®˜æ–¹æµ‹è¯•ç±»ä»£ç è°ƒè¯•ï¼Œç›®å‰çœ‹åˆ°ç¼“å­˜çš„é…ç½®åŠ è½½ä»¥åŠç¼“å­˜çš„åˆå§‹åŒ–æµç¨‹ã€‚è‡ªä»åˆ·å®Œå‚…å“¥çš„ ã€Šæ‰‹æ’¸Springä¸“æ ã€‹ä»¥åï¼Œçœ‹è¿™äº›æºç ä¼¼ä¹æ²¡æœ‰ä»¥å‰é‚£ä¹ˆåƒåŠ›äº†ï¼Œè‡ªå·±ä¹Ÿå¾ˆæƒŠè®¶ã€‚åšæŒï¼</li>
<li><strong>æ—¥æ‹±ä¸€å’ï¼ŒåŠŸä¸å”æ</strong></li>
</ul>
]]></content>
      
        
        <tags>
            
            <tag> æ‰“å¡ </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[ç¼“å­˜æ¡†æ¶è®¾è®¡æ€è·¯]]></title>
      <url>http://tech.noexception.cn/2021/12/12/cache/</url>
      <content type="html"><![CDATA[<p><em>è¯»ä¸å°½å¤©ä¸‹ä¹‹ä¹¦</em></p>
<a id="more"></a>
<h2 id="éœ€è¦è§£å†³çš„é—®é¢˜ç‚¹"><a class="markdownIt-Anchor" href="#éœ€è¦è§£å†³çš„é—®é¢˜ç‚¹"></a> éœ€è¦è§£å†³çš„é—®é¢˜ç‚¹</h2>
<h3 id="1-åˆ†å¸ƒå¼ç¼“å­˜åŒæ­¥"><a class="markdownIt-Anchor" href="#1-åˆ†å¸ƒå¼ç¼“å­˜åŒæ­¥"></a> 1. åˆ†å¸ƒå¼ç¼“å­˜åŒæ­¥</h3>
<h4 id="é—®é¢˜"><a class="markdownIt-Anchor" href="#é—®é¢˜"></a> é—®é¢˜ï¼š</h4>
<ol>
<li>åœ¨é«˜å¹¶å‘çš„åœºæ™¯ä¸‹ï¼Œå¦‚ä½•ä¿è¯åˆ†å¸ƒå¼åœºæ™¯ä¸‹å„ä¸ªèŠ‚ç‚¹ä¸­æœ¬åœ°ç¼“å­˜çš„ä¸€è‡´æ€§é—®é¢˜ï¼Ÿ</li>
</ol>
<h4 id="è§£å†³æ€è·¯"><a class="markdownIt-Anchor" href="#è§£å†³æ€è·¯"></a> è§£å†³æ€è·¯ï¼š</h4>
<ol>
<li>åŒæ­¥çš„ç›®çš„æ˜¯ä¸ºäº†å°½å¯èƒ½ä¿è¯åˆ†å¸ƒå¼ç¼“å­˜çš„ä¸€è‡´æ€§ã€‚é€šè¿‡<code>å‘å¸ƒè®¢é˜…åŠŸèƒ½</code>æ¥å®ç°åˆ†å¸ƒå¼ç¼“å­˜ä¸‹ä¸åŒèŠ‚ç‚¹çš„ç¼“å­˜åŒæ­¥ã€‚</li>
<li>æ•°æ®å˜æ›´é€šçŸ¥ + å®šæœŸåˆ·æ–°è¿‡æœŸç¼“å­˜çš„ç­–ç•¥ï¼Œå°½å¯èƒ½çš„ä¿è¯ç¼“å­˜çš„ä¸€è‡´æ€§ã€‚å¯ä»¥é€šè¿‡<code>Redis</code> + <code>Kafka</code>çš„å‘å¸ƒè®¢é˜…åŠŸèƒ½å®ç°ã€‚</li>
<li>æ¡†æ¶ç•™å¥½æ‰©å±•ç‚¹ï¼Œå¯ä»¥å¿«é€Ÿä¾¿æ·çš„æ‰©å±•å…¶ä»– MQ æ¥å®ç°ç¼“å­˜åŒæ­¥ã€‚</li>
<li>ä½¿ç”¨ç¼“å­˜ï¼Œå¿…å®šä¼šå­˜åœ¨ä¸ä¸€è‡´çš„æƒ…å†µï¼Œæ— æ³•ä¿è¯å¼ºä¸€è‡´æ€§ã€‚</li>
</ol>
<h3 id="2-ç¼“å­˜æ›´æ–°"><a class="markdownIt-Anchor" href="#2-ç¼“å­˜æ›´æ–°"></a> 2. ç¼“å­˜æ›´æ–°</h3>
<h4 id="é—®é¢˜-2"><a class="markdownIt-Anchor" href="#é—®é¢˜-2"></a> é—®é¢˜ï¼š</h4>
<ol>
<li>ç¼“å­˜æ›´æ–°åŒ…å«äº†<code>æœ¬åœ°ç¼“å­˜</code>ä»¥åŠ<code>Redis</code>çš„æ“ä½œï¼ŒåŒæ—¶é€šçŸ¥å…¶ä»–ç¼“å­˜èŠ‚ç‚¹è¿›è¡Œ<code>ç¼“å­˜æ›´æ–°</code>æ“ä½œï¼›</li>
</ol>
<h4 id="è§£å†³æ€è·¯-2"><a class="markdownIt-Anchor" href="#è§£å†³æ€è·¯-2"></a> è§£å†³æ€è·¯ï¼š</h4>
<ol>
<li><strong>ä¸»åŠ¨æ›´æ–°</strong>
<ul>
<li>è·å–ç¼“å­˜æ—¶ï¼Œè‹¥ç¼“å­˜ä¸å­˜åœ¨æˆ–ç¼“å­˜å·²è¿‡æœŸï¼Œåˆ™é‡æ–°åŠ è½½ç¼“å­˜ï¼›</li>
<li>æºæ•°æ®å˜æ›´åï¼Œè°ƒç”¨<code>ç¼“å­˜åˆ·æ–°</code>æ¥å£é‡æ–°åŠ è½½ç¼“å­˜ï¼ˆæ­¤æ—¶åªå¯¹å·²å­˜åœ¨çš„ key é‡æ–°åŠ è½½ï¼‰</li>
</ul>
</li>
<li><strong>è‡ªåŠ¨æ›´æ–°</strong>
<ul>
<li>å®šæœŸåˆ·æ–°è¿‡æœŸç¼“å­˜ï¼Œå°½å¯èƒ½ä¿è¯åˆ†å¸ƒå¼ç¼“å­˜çš„ä¸€è‡´æ€§ï¼›</li>
</ul>
</li>
</ol>
<h3 id="3-ç¼“å­˜æ·˜æ±°"><a class="markdownIt-Anchor" href="#3-ç¼“å­˜æ·˜æ±°"></a> 3. ç¼“å­˜æ·˜æ±°</h3>
<h4 id="é—®é¢˜-3"><a class="markdownIt-Anchor" href="#é—®é¢˜-3"></a> é—®é¢˜ï¼š</h4>
<ul>
<li>é€šçŸ¥å…¶ä»–ç¼“å­˜èŠ‚ç‚¹è¿›è¡Œ<code>ç¼“å­˜æ·˜æ±°</code></li>
</ul>
<h4 id="è§£å†³æ€è·¯-3"><a class="markdownIt-Anchor" href="#è§£å†³æ€è·¯-3"></a> è§£å†³æ€è·¯ï¼š</h4>
<ol>
<li><strong>ä¸»åŠ¨æ·˜æ±°</strong></li>
</ol>
<ul>
<li>è·å–ç¼“å­˜æ—¶ï¼Œæ£€æŸ¥ç¼“å­˜æ˜¯å¦è¿‡æœŸï¼Œå¦‚æœè¿‡æœŸåˆ™æ·˜æ±°ç¼“å­˜ï¼›</li>
<li>ç»“åˆ<code>@CacheEvict</code>åœ¨æºæ•°æ®ä¿®æ”¹å‰æˆ–ä¿®æ”¹åï¼Œæ·˜æ±°ç¼“å­˜ï¼›</li>
<li>æ•°æ®æºå˜æ›´åï¼Œè°ƒç”¨åˆ·æ–°ç¼“å­˜æ¥å£ï¼Œè¿›è¡Œç¼“å­˜æ·˜æ±°ï¼›</li>
</ul>
<ol start="2">
<li><strong>è‡ªåŠ¨æ·˜æ±°</strong></li>
</ol>
<ul>
<li>åˆ©ç”¨<code>Redis</code>çš„ç¼“å­˜æ·˜æ±°ç­–ç•¥ç®¡ç†</li>
<li>ç¼“å­˜æ·˜æ±°ç®—æ³•</li>
</ul>
<h3 id="4-ç¼“å­˜é¢„çƒ­"><a class="markdownIt-Anchor" href="#4-ç¼“å­˜é¢„çƒ­"></a> 4. ç¼“å­˜é¢„çƒ­</h3>
<h4 id="é—®é¢˜-4"><a class="markdownIt-Anchor" href="#é—®é¢˜-4"></a> é—®é¢˜ï¼š</h4>
<h4 id="è§£å†³æ€è·¯-4"><a class="markdownIt-Anchor" href="#è§£å†³æ€è·¯-4"></a> è§£å†³æ€è·¯ï¼š</h4>
<ol>
<li><strong>æ‰‹åŠ¨é¢„çƒ­</strong></li>
</ol>
<ul>
<li>å¯¹æ ‡æ³¨äº†ç¼“å­˜æ³¨è§£çš„å¦‚<code>@Cacheable</code>æˆ–è€…<code>@CachePut</code>çš„ä¸šåŠ¡æ¥å£è¿›è¡Œç¼“å­˜é¢„çƒ­ã€‚</li>
</ul>
<ol start="2">
<li><strong>è‡ªåŠ¨é¢„çƒ­</strong></li>
</ol>
<ul>
<li>åœ¨ç³»ç»Ÿå¯åŠ¨å®Œæ¯•åï¼Œè°ƒç”¨ä¸šåŠ¡æ¥å£å°†æ•°æ®åŠ è½½åˆ°ç¼“å­˜ä¸­ã€‚</li>
</ul>
<h3 id="5-çƒ­ç‚¹æ•°æ®"><a class="markdownIt-Anchor" href="#5-çƒ­ç‚¹æ•°æ®"></a> 5. çƒ­ç‚¹æ•°æ®</h3>
<h4 id="é—®é¢˜-5"><a class="markdownIt-Anchor" href="#é—®é¢˜-5"></a> é—®é¢˜ï¼š</h4>
<ul>
<li>ç¼“å­˜é›†ç¾¤ä¸­çš„æŸä¸ª key ç¬é—´è¢«æ•°ä¸‡ç”šè‡³åä¸‡çš„å¹¶å‘è¯·æ±‚æ‰“çˆ†</li>
</ul>
<h4 id="è§£å†³æ€è·¯-5"><a class="markdownIt-Anchor" href="#è§£å†³æ€è·¯-5"></a> è§£å†³æ€è·¯ï¼š</h4>
<ol>
<li>é‡‡ç”¨æœ¬åœ°ç¼“å­˜æ¥ç¼“è§£ç¼“å­˜é›†ç¾¤å’Œæ•°æ®åº“é›†ç¾¤çš„å‹åŠ›ã€‚ä½¿ç”¨äºŒçº§ç¼“å­˜çš„å½¢å¼è§£å†³ã€‚</li>
<li>åº”ç”¨å±‚é¢åšé™æµç†”æ–­æœºåˆ¶ï¼Œä¿æŠ¤åé¢çš„ç¼“å­˜é›†ç¾¤å’Œæ•°æ®åº“é›†ç¾¤å¯ç”¨ã€‚</li>
</ol>
<h3 id="6-ç¼“å­˜é›ªå´©"><a class="markdownIt-Anchor" href="#6-ç¼“å­˜é›ªå´©"></a> 6. ç¼“å­˜é›ªå´©</h3>
<h4 id="é—®é¢˜-6"><a class="markdownIt-Anchor" href="#é—®é¢˜-6"></a> é—®é¢˜ï¼š</h4>
<ul>
<li>ç”±äºå¤§é‡ç¼“å­˜å¤±æ•ˆï¼Œå¯¼è‡´å¤§é‡è¯·æ±‚æ‰“åˆ°æ•°æ®åº“ä¸Šï¼Œå¯¼è‡´æ•°æ®åº“çš„ CPU å’Œå†…å­˜å‹åŠ›å˜å¤§ï¼Œä»è€Œå‡ºç°ä¸€ç³»åˆ—è¿é”ååº”ï¼Œé€ æˆæ•´ä¸ªç³»ç»Ÿå´©æºƒã€‚</li>
</ul>
<h4 id="è§£å†³æ€è·¯-6"><a class="markdownIt-Anchor" href="#è§£å†³æ€è·¯-6"></a> è§£å†³æ€è·¯ï¼š</h4>
<ul>
<li><code>Caffeine</code> é»˜è®¤ä½¿ç”¨å¼‚æ­¥æœºåˆ¶åŠ è½½ç¼“å­˜æ•°æ®ï¼Œå¯æœ‰æ•ˆé˜²æ­¢ç¼“å­˜å‡»ç©¿ï¼ˆé˜²æ­¢åŒä¸€ä¸ª key æˆ–ä¸åŒ key è¢«å‡»ç©¿çš„åœºæ™¯ï¼‰</li>
<li>å°†ç¼“å­˜å±‚è®¾è®¡æˆé«˜å¯ç”¨ï¼Œé˜²æ­¢ç¼“å­˜å¤§é¢ç§¯æ•…éšœ</li>
<li>åˆ©ç”¨æœ¬åœ°ç¼“å­˜ï¼Œä¸€å®šç¨‹åº¦ä¸Šä¿è¯æœåŠ¡çš„å¯ç”¨æ€§ã€‚ä½†ä¸»è¦è¿˜æ˜¯é€šè¿‡å¯¹æºæœåŠ¡çš„è®¿é—®è¿›è¡Œé™æµã€ç†”æ–­ã€é™çº§ç­‰æ‰‹æ®µã€‚</li>
<li>æå‰å‹æµ‹ï¼Œé¡¹ç›®ä¸Šçº¿å‰ï¼Œæ¼”ç»ƒç¼“å­˜å±‚å®•æœºåï¼Œåº”ç”¨ä»¥åŠåç«¯çš„è´Ÿè½½æƒ…å†µä»¥åŠå¯èƒ½å‡ºç°çš„é—®é¢˜ï¼Œå¯¹é«˜å¯ç”¨æå‰é¢„æ¼”ï¼Œæå‰å‘ç°é—®é¢˜ã€‚</li>
</ul>
<h3 id="7-ç¼“å­˜å‡»ç©¿"><a class="markdownIt-Anchor" href="#7-ç¼“å­˜å‡»ç©¿"></a> 7. ç¼“å­˜å‡»ç©¿</h3>
<h4 id="é—®é¢˜-7"><a class="markdownIt-Anchor" href="#é—®é¢˜-7"></a> é—®é¢˜ï¼š</h4>
<ul>
<li>åœ¨å¹³å¸¸é«˜å¹¶å‘çš„ç³»ç»Ÿä¸­ï¼Œå¤§é‡çš„è¯·æ±‚åŒæ—¶æŸ¥è¯¢ä¸€ä¸ª key æ—¶ï¼Œæ­¤æ—¶è¿™ä¸ª key æ­£å¥½å¤±æ•ˆäº†ï¼Œå°±ä¼šå¯¼è‡´å¤§é‡çš„è¯·æ±‚éƒ½æ‰“åˆ°æ•°æ®åº“ä¸Šé¢å»ï¼Œè¿™ç§ç°è±¡å°±æ˜¯<strong>ç¼“å­˜å‡»ç©¿</strong></li>
</ul>
<h4 id="è§£å†³æ€è·¯-7"><a class="markdownIt-Anchor" href="#è§£å†³æ€è·¯-7"></a> è§£å†³æ€è·¯ï¼š</h4>
<ul>
<li>è§£å†³æ€è·¯åŒ<code>ç¼“å­˜é›ªå´©</code>ï¼Œåˆ©ç”¨<code>Caffeine</code>é»˜è®¤ä½¿ç”¨å¼‚æ­¥æœºåˆ¶åŠ è½½ç¼“å­˜æ•°æ®ï¼Œå¯ä»¥æœ‰æ•ˆçš„é˜²æ­¢ç¼“å­˜å‡»ç©¿ã€‚</li>
</ul>
<h3 id="8-ç¼“å­˜ç©¿é€"><a class="markdownIt-Anchor" href="#8-ç¼“å­˜ç©¿é€"></a> 8. ç¼“å­˜ç©¿é€</h3>
<h4 id="é—®é¢˜-8"><a class="markdownIt-Anchor" href="#é—®é¢˜-8"></a> é—®é¢˜ï¼š</h4>
<ul>
<li>è¯·æ±‚æ ¹æœ¬ä¸å­˜åœ¨çš„æ•°æ®ï¼Œä¹Ÿå°±æ˜¯åœ¨ç¼“å­˜å’Œæ•°æ®åº“ä¸­éƒ½æŸ¥ä¸åˆ°è¿™æ¡æ•°æ®ï¼Œä½†æ˜¯è¯·æ±‚æ¯æ¬¡éƒ½ä¼šæ‰“åˆ°æ•°æ®åº“ä¸Šé¢å»ã€‚è¿™ç§æŸ¥è¯¢ä¸å­˜åœ¨æ•°æ®çš„ç°è±¡å°±æ˜¯<strong>ç¼“å­˜ç©¿é€</strong>ã€‚</li>
</ul>
<h4 id="è§£å†³æ€è·¯-8"><a class="markdownIt-Anchor" href="#è§£å†³æ€è·¯-8"></a> è§£å†³æ€è·¯ï¼š</h4>
<ul>
<li>é€šè¿‡å¯¹ä¸å­˜åœ¨çš„ key ç¼“å­˜ç©ºå€¼ï¼Œæ¥é˜²æ­¢ç¼“å­˜ç©¿é€ã€‚</li>
<li>ä¹Ÿå¯ä»¥é€šè¿‡ä½¿ç”¨<code>BloomFilter</code>æ¥å¯¹ key è¿›è¡Œè¿‡æ»¤ã€‚</li>
<li>å¯¹äºé«˜å¹¶å‘ç³»ç»Ÿï¼Œå¯ä»¥ç»“åˆ Hystrix æˆ– Sentinelæ¥åšåº”ç”¨çº§åˆ«çš„é™æµå’Œé™çº§ï¼Œä»¥ä¿æŠ¤ä¸‹æ¸¸ç³»ç»Ÿä¸ä¼šè¢«å¤§é‡çš„è¯·æ±‚ç»™æ‰“æ­»ã€‚</li>
</ul>
]]></content>
      
        
        <tags>
            
            <tag> ç¼“å­˜è®¾è®¡ </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[æ¯æ—¥æ€»ç»“æ‰“å¡-2021/12/10]]></title>
      <url>http://tech.noexception.cn/2021/12/10/sign-1210/</url>
      <content type="html"><![CDATA[<p>æ—¥è®°è·¬æ­¥ï¼Œå¯è‡³åƒé‡Œ</p>
<a id="more"></a>
<h3 id="s-æƒ…æ™¯"><a class="markdownIt-Anchor" href="#s-æƒ…æ™¯"></a> S-æƒ…æ™¯</h3>
<ul>
<li>é¡¹ç›®è„šæ‰‹æ¶çš„ä»£ç ç”Ÿæˆå™¨å·²ç»å¼€å‘å®Œäº†ï¼Œå‘¨äº”å¼€å‘ï¼Œå¼€å§‹äº†è§£ideaæ’ä»¶å¼€å‘ï¼Œè®¡åˆ’å…ˆå†™ä¸€ä¸ªæé†’å–æ°´çš„æ’ä»¶ã€‚å¤šå–æ°´ï¼Œå¤šä¸Šå•æ‰€ï¼Œå¤šèµ°åŠ¨èµ°åŠ¨ï¼Œå¯¹èº«ä½“å¥½ï¼Œå“ˆå“ˆå“ˆã€‚</li>
<li>å…¶æ¬¡å°±æ˜¯åç«¯è„šæ‰‹æ¶é¡¹ç›®ï¼Œéœ€è¦ä¸€ä¸ªç¼“å­˜æ¨¡å—ï¼Œäºæ˜¯å‡†å¤‡å¼€å‘ï¼Œå¼€å§‹æ’¸ä¸€ä¸ªç¼“å­˜ä¸­é—´ä»¶ã€‚</li>
</ul>
<h3 id="t-ä»»åŠ¡"><a class="markdownIt-Anchor" href="#t-ä»»åŠ¡"></a> T-ä»»åŠ¡</h3>
<ul>
<li>IDEA-Plugin ç« èŠ‚ï¼Œä½¿ç”¨ Gradle åˆ›å»ºæ’ä»¶é¡¹ç›®ï¼›</li>
<li>å°†æ’ä»¶é¡¹ç›® helloworld è·‘é€šï¼›</li>
<li>å°†ç¼“å­˜æ¨¡å—åŒ…è£…ç§¤ä¸€ä¸ªstarterï¼Œåœ¨éœ€è¦çš„é¡¹ç›®ä¸­ï¼Œå¼•å…¥pomä¾èµ–ï¼›</li>
</ul>
<h3 id="a-è¡ŒåŠ¨"><a class="markdownIt-Anchor" href="#a-è¡ŒåŠ¨"></a> A-è¡ŒåŠ¨</h3>
<ul>
<li>åç«¯è„šæ‰‹æ¶é¡¹ç›®ï¼Œä»£ç ç”Ÿæˆå·¥å…·å·²ç»æ’¸å®Œäº†ï¼›</li>
<li>ä½¿ç”¨ gradle æ„å»º Idea-Plugin æ’ä»¶é¡¹ç›®ï¼Œå¹¶è·‘é€š Helloworldï¼›</li>
<li>åç»­æŠŠä½œä¸šé¡¹ç›®åŒæ­¥ä¸Šä¼ è‡³ <a href="https://codechina.csdn.net/CreativeAlliance/lottery-102-999.git" target="_blank" rel="noopener">https://codechina.csdn.net/CreativeAlliance/lottery-102-999.git</a></li>
</ul>
]]></content>
      
        
        <tags>
            
            <tag> æ‰“å¡ </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[2021å¹´çš„ç¬¬ä¸€ç¯‡æ€»ç»“]]></title>
      <url>http://tech.noexception.cn/2021/11/27/202111summary/</url>
      <content type="html"><![CDATA[<p>æ¸©æ•…è€ŒçŸ¥æ–°</p>
<a id="more"></a>
<h2 id="åšäº†ä»€ä¹ˆ"><a class="markdownIt-Anchor" href="#åšäº†ä»€ä¹ˆ"></a> åšäº†ä»€ä¹ˆ</h2>
<ol>
<li>å®Œæˆã€Šæ‰‹æ’¸ Spring ä¸“æ ã€‹<em><a href="https://codechina.csdn.net/lvtao0626/container-mini" target="_blank" rel="noopener">container-mini</a></em>ï¼›</li>
<li>å¼€å§‹å°è¯•åŸºäº<code>Spring</code>å¼€å‘ä¸­é—´ä»¶ï¼Œå¦‚ï¼šæœåŠ¡é™æµå™¨ã€ç¼“å­˜ä¸­é—´ä»¶ï¼›</li>
<li>åœ¨é¡¹ç›®ä¸­å¼•å…¥<code>drools</code>è§„åˆ™å¼•æ“ï¼›</li>
<li>ç¼–å†™äº†ä¸€ä¸ª CURD ä»£ç ç”Ÿæˆçš„å°å·¥å…·*<a href="https://gitee.com/big-lance/fast-code" target="_blank" rel="noopener">fast-code</a>*ï¼›</li>
</ol>
<h2 id="æ²¡å®Œæˆçš„äº‹"><a class="markdownIt-Anchor" href="#æ²¡å®Œæˆçš„äº‹"></a> æ²¡å®Œæˆçš„äº‹</h2>
<ol>
<li>æ¯å‘¨ç®—æ³•æ‰“å¡è®¡åˆ’æ€»æ˜¯æ–­æ–­ç»­ç»­â€¦ğŸ˜”</li>
<li>æ¢³ç† Java åç«¯æŠ€æœ¯æ ˆçŸ¥è¯†æœªå®Œæˆï¼›</li>
</ol>
<h2 id="ä¸‹ä¸€æ­¥è®¡åˆ’"><a class="markdownIt-Anchor" href="#ä¸‹ä¸€æ­¥è®¡åˆ’"></a> ä¸‹ä¸€æ­¥è®¡åˆ’</h2>
<p>â€¦</p>
]]></content>
      
        
        <tags>
            
            <tag> æ€»ç»“ </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[ä»¥ Spring MVC æ¨¡å¼ç¼–å†™ MongoDB çš„ CURD]]></title>
      <url>http://tech.noexception.cn/2021/08/01/mongo-spring-mvc/</url>
      <content type="html"><![CDATA[<p>æ—¥æ‹±ä¸€å’ï¼ŒåŠŸä¸å”æã€‚</p>
<a id="more"></a>
<p><a name="IIilc"></a></p>
<h2 id="ä¸€-mongodb-ä»‹ç»"><a class="markdownIt-Anchor" href="#ä¸€-mongodb-ä»‹ç»"></a> ä¸€ã€MongoDB ä»‹ç»</h2>
<ul>
<li>MongoDB æ˜¯æ–‡æ¡£æ•°æ®åº“ï¼ŒNoSQLæ•°æ®åº“ä¸­çš„ä¸€ç§ï¼Œæœ¬ç¯‡æ–‡ç« ï¼Œåˆ†äº«ä½¿ç”¨<code>Spring MVC</code>çš„æ–¹å¼å»ç¼–å†™MongoDBçš„CURDæ“ä½œä»£ç ï¼Œç®€åŒ–é—®ä»·å­˜å‚¨çš„å¼€å‘æµç¨‹ã€‚<br />
<a name="DXFPh"></a></li>
</ul>
<h2 id="äºŒ-å…·ä½“æ“ä½œ"><a class="markdownIt-Anchor" href="#äºŒ-å…·ä½“æ“ä½œ"></a> äºŒã€å…·ä½“æ“ä½œ</h2>
<p><a name="JMHJI"></a></p>
<h3 id="a-å°æ–‡ä»¶å­˜å‚¨"><a class="markdownIt-Anchor" href="#a-å°æ–‡ä»¶å­˜å‚¨"></a> A. å°æ–‡ä»¶å­˜å‚¨</h3>
<ol>
<li>å¼•å…¥MongoDBä¾èµ–ï¼š</li>
</ol>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ï¼--</span> <span class="attr">SpringBoot</span> ç”¨æˆ· <span class="attr">--</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-data-mongodb<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">ï¼--</span> é <span class="attr">SpringBoot</span> ç”¨æˆ· <span class="attr">--</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mongodb<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mongodb-driver-sync<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.1.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.data<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-data-mongodb<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.1.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ol start="2">
<li>ç¼–å†™Entityä»£ç ï¼š</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@Document</span> <span class="comment">// æŒ‡å®šå¯¹åº”çš„ collection çš„åç§°</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TemplateDocument</span> <span class="keyword">implements</span> <span class="title">Serializable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = <span class="number">5701973075364468575L</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Id</span> <span class="comment">// æ–‡æ¡£ä¸»é”®ID</span></span><br><span class="line">    <span class="keyword">private</span> String id;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å®šä¹‰æ–‡æ¡£å±æ€§</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * äºŒè¿›åˆ¶æ–‡ä»¶å†…å®¹</span></span><br><span class="line"><span class="comment">     * </span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@JsonIgnore</span></span><br><span class="line">    <span class="keyword">private</span> Binary content;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="3">
<li>ç¼–å†™æŒä¹…å±‚ä»£ç ï¼š</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">TemplateDao</span> <span class="keyword">extends</span> <span class="title">MongoRepository</span>&lt;<span class="title">TemplateDocument</span>, <span class="title">String</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ ¹æ®æ–‡ä»¶åç§°æŸ¥è¯¢</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Query</span>(<span class="string">"&#123;'name':?0&#125;"</span>)</span><br><span class="line">    <span class="function">List&lt;TemplateDocument&gt; <span class="title">findByName</span><span class="params">(String fileName)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="4">
<li>ç¼–å†™æœåŠ¡å±‚ä»£ç ï¼š</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TemplateService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> TemplateDao templateDao;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æŸ¥è¯¢æ–‡æ¡£</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;TemplateDocument&gt; <span class="title">queryDocumentList</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> templateDao.findAll();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ–°å¢æ–‡æ¡£</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> TemplateDocument <span class="title">addTemplateDocument</span><span class="params">(TemplateDocument entity)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> templateDao.insert(entity);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ä¿®æ”¹æ–‡æ¡£</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> TemplateDocument <span class="title">modifyTemplateDocument</span><span class="params">(TemplateDocument entity)</span></span>&#123;</span><br><span class="line">        TemplateDocument preModifyDocument = templateDao.findById(entity.getId()).get();</span><br><span class="line">        preModifyDocument.setName(entity.getName());</span><br><span class="line">        <span class="keyword">return</span> templateDao.save(preModifyDocument);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åˆ é™¤æ–‡æ¡£</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">deleteDocumentById</span><span class="params">(String id)</span></span>&#123;</span><br><span class="line">        templateDao.deleteById(id);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Optional&lt;TemplateDocument&gt; <span class="title">getFileById</span><span class="params">(String id)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> templateDao.findById(id);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> TemplateDocument <span class="title">findOneByName</span><span class="params">(String fileName)</span></span>&#123;</span><br><span class="line">        List&lt;TemplateDocument&gt; result = templateDao.findByName(fileName);</span><br><span class="line">        <span class="keyword">if</span> (CollectionUtil.isEmpty(result))&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> TemplateDocument();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result.get(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="5">
<li>ç¼–å†™æ§åˆ¶å±‚ä»£ç </li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Api</span>(tags = <span class="string">"MongoDB æ–‡ä»¶ç®¡ç†"</span>)</span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping</span>(<span class="string">"/template"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TemplateController</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> TemplateService templateService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ApiOperation</span>(<span class="string">"å°æ–‡ä»¶ä¸Šä¼ æ¥å£"</span>)</span><br><span class="line">    <span class="meta">@PostMapping</span>(<span class="string">"/upload"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ServerResponse <span class="title">mongoFileUploda</span><span class="params">(@RequestParam(<span class="string">"file"</span>)</span> MultipartFile file) <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        TemplateDocument entity = <span class="keyword">new</span> TemplateDocument();</span><br><span class="line">        entity.setId(UUID.fastUUID().toString());</span><br><span class="line">        entity.setName(file.getOriginalFilename());</span><br><span class="line">        entity.setContent(<span class="keyword">new</span> Binary(file.getBytes()));</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> ServerResponse.createBySuccess(templateService.saveFile(entity));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ApiOperation</span>(<span class="string">"å°æ–‡ä»¶ä¸‹è½½æ¥å£"</span>)</span><br><span class="line">    <span class="meta">@GetMapping</span>(<span class="string">"/download"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ResponseEntity&lt;Object&gt; <span class="title">mongoFileDownload</span><span class="params">(@RequestParam String id)</span> </span>&#123;</span><br><span class="line">        Optional&lt;TemplateDocument&gt; file = templateService.getFileById(id);</span><br><span class="line">        <span class="keyword">if</span> (file.isPresent()) &#123;</span><br><span class="line">            <span class="keyword">return</span> ResponseEntity.ok()</span><br><span class="line">                    .header(HttpHeaders.CONTENT_DISPOSITION, <span class="string">"fileName=\""</span> + file.get().getName() + <span class="string">"\""</span>)</span><br><span class="line">                    .header(HttpHeaders.CONTENT_TYPE, <span class="string">"application/octet-stream"</span>)</span><br><span class="line">                    .body(file.get().getContent().getData());</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> ResponseEntity.status(HttpStatus.NOT_FOUND).body(<span class="string">"File was not fount"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ApiOperation</span>(<span class="string">"æ–‡æ¡£åˆ—è¡¨æŸ¥è¯¢"</span>)</span><br><span class="line">    <span class="meta">@GetMapping</span>(<span class="string">"/queryDocumentList"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ServerResponse <span class="title">queryDocumentList</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> ServerResponse.createBySuccess(templateService.queryDocumentList());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ApiOperation</span>(<span class="string">"æ–‡ä»¶åæœç´¢"</span>)</span><br><span class="line">    <span class="meta">@GetMapping</span>(<span class="string">"/searchByFileName"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ServerResponse <span class="title">searchByFileName</span><span class="params">(String fileName)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> ServerResponse.createBySuccess(templateService.findOneByName(fileName));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ApiOperation</span>(<span class="string">"æ ¹æ®æ–‡ä»¶IDè¯»å–æ–‡ä»¶å†…å®¹å¹¶è¿”å›"</span>)</span><br><span class="line">    <span class="meta">@GetMapping</span>(<span class="string">"/getDataByFileId"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ServerResponse <span class="title">getDataByFileId</span><span class="params">(@RequestParam String fileId)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> ServerResponse.createBySuccess(templateService.getDataByFileId(fileId));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><a name="V6EAW"></a></p>
<h3 id="b-å¤§æ–‡ä»¶å­˜å‚¨"><a class="markdownIt-Anchor" href="#b-å¤§æ–‡ä»¶å­˜å‚¨"></a> B. å¤§æ–‡ä»¶å­˜å‚¨</h3>
<ul>
<li>å¤§æ–‡ä»¶å­˜å‚¨ï¼Œä½¿ç”¨æœ‰ Spring Data ä¾èµ–ä¸­æä¾›çš„ GridFsTemplateï¼Œè·Ÿ gridFs è¿›è¡Œäº¤äº’ã€‚</li>
</ul>
<ol>
<li>é…ç½®ä¿¡æ¯ï¼š
<ol>
<li>è®¾ç½® MongoDB æ–‡ä»¶ä¸Šä¼ çš„ä¸Šé™</li>
<li>å¾€ Spring å®¹å™¨ä¸­æ³¨å…¥ GridFSBucketï¼Œ ç”¨äºæ‰“å¼€ä¸‹è½½æµ</li>
</ol>
</li>
</ol>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># application.yml</span></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">servlet:</span>  <span class="comment"># è®¾ç½®æ–‡ä»¶ä¸Šä¼ ä¸Šé™</span></span><br><span class="line">    <span class="attr">multipart:</span></span><br><span class="line">      <span class="attr">max-file-size:</span> <span class="string">1024MB</span></span><br><span class="line">      <span class="attr">max-request-size:</span> <span class="string">1024MB</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"># MongoConfig.java</span><br><span class="line"><span class="comment">// MongoDB é…ç½®æ–‡ä»¶</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MongoConfig</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Value</span>(<span class="string">"$&#123;spring.data.mongodb.database&#125;"</span>)</span><br><span class="line">    <span class="keyword">private</span> String dbName;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å¾€ Spring å®¹å™¨ä¸­æ³¨å…¥ GridFSBucketï¼Œ ç”¨äºæ‰“å¼€ä¸‹è½½æµ</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> GridFSBucket <span class="title">getGridFsBucket</span><span class="params">(MongoClient mongoClient)</span> </span>&#123;</span><br><span class="line">        MongoDatabase mongoDatabase = mongoClient.getDatabase(dbName);</span><br><span class="line">        <span class="keyword">return</span> GridFSBuckets.create(mongoDatabase);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>å®ä½“ç±»ä»£ç ï¼š</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å¤§æ–‡ä»¶å­˜å‚¨å®ä½“ç±»</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@Document</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HugeFileEntity</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ä¸»é”®ID</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Id</span></span><br><span class="line">    <span class="keyword">private</span> String id;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åˆ›å»ºæ—¶é—´</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> Date creationDate;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æœ€åä¿®æ”¹æ—¶é—´</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> Date lastUpdateTime;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ–‡ä»¶å</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ–‡ä»¶å¤§å°</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> Long size;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ–‡ä»¶ MD5 åŠ å¯†å€¼</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> String md5;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ–‡ä»¶ç±»å‹</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> String contentType;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ–‡ä»¶ååç¼€</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> String fileType;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * mongo gridFS çš„ID</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> String gridFsId;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ–‡ä»¶å†…å®¹</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">byte</span>[] content;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="3">
<li>Service å±‚ï¼š</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HugeFileService</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> MongoTemplate mongoTemplate;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> GridFsTemplate gridFsTemplate;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> GridFSBucket gridFSBucket;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ–‡ä»¶æ–°å¢</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> HugeFileEntity <span class="title">fileAdd</span><span class="params">(MultipartFile uploadFile)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (uploadFile == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        String fileName = uploadFile.getOriginalFilename();</span><br><span class="line">        Builder&lt;HugeFileEntity&gt; entityBuilder = Builder.of(HugeFileEntity::<span class="keyword">new</span>);</span><br><span class="line">        entityBuilder</span><br><span class="line">                .with(HugeFileEntity::setContentType, uploadFile.getContentType())</span><br><span class="line">                .with(HugeFileEntity::setFileType, StrUtil.subAfter(fileName, <span class="string">"."</span>, <span class="keyword">true</span>))</span><br><span class="line">                .with(HugeFileEntity::setCreationDate, <span class="keyword">new</span> Date())</span><br><span class="line">                .with(HugeFileEntity::setName, fileName)</span><br><span class="line">                .with(HugeFileEntity::setSize, uploadFile.getSize())</span><br><span class="line">                .with(HugeFileEntity::setLastUpdateTime, <span class="keyword">new</span> Date())</span><br><span class="line">                .with(HugeFileEntity::setMd5, MD5.create().digestHex(uploadFile.getInputStream()));</span><br><span class="line">        String gridFsId = <span class="keyword">this</span>.uploadFile(uploadFile.getInputStream(), uploadFile.getContentType());</span><br><span class="line">        entityBuilder.with(HugeFileEntity::setGridFsId, gridFsId);</span><br><span class="line">        <span class="keyword">return</span> mongoTemplate.save(entityBuilder.build());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ä¸Šä¼ æ–‡ä»¶åˆ° gridFS</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">uploadFile</span><span class="params">(InputStream inputStream, String contentType)</span> </span>&#123;</span><br><span class="line">        String fileName = IdUtil.objectId();</span><br><span class="line">        <span class="keyword">return</span> gridFsTemplate.store(inputStream, fileName, contentType).toString();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ–‡ä»¶åˆ é™¤</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">deleteFile</span><span class="params">(String id)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// æŸ¥è¯¢å¾…åˆ é™¤æ–‡ä»¶</span></span><br><span class="line">        HugeFileEntity entity = mongoTemplate.findById(id, HugeFileEntity<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">        <span class="keyword">if</span> (entity != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="comment">// åˆ é™¤æ–‡ä»¶åœ¨gridFSä¸­å¯¹åº”çš„fs.chunkå’Œfs.filesè®°å½•</span></span><br><span class="line">            Query deleteFileQuery = <span class="keyword">new</span> Query().addCriteria(Criteria.where(<span class="string">"_id"</span>).is(entity.getGridFsId()));</span><br><span class="line">            gridFsTemplate.delete(deleteFileQuery);</span><br><span class="line">            <span class="comment">// åˆ é™¤å­˜å‚¨åœ¨collectionä¸­çš„æ–‡æ¡£è®°å½•</span></span><br><span class="line">            Query query = <span class="keyword">new</span> Query(Criteria.where(<span class="string">"id"</span>).is(entity.getId()));</span><br><span class="line">            mongoTemplate.remove(query, HugeFileEntity<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ä¸»é”®IDæŸ¥è¯¢æ–‡ä»¶</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Optional&lt;HugeFileEntity&gt; <span class="title">findFileById</span><span class="params">(String id, <span class="keyword">boolean</span> useContent)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        HugeFileEntity entity = mongoTemplate.findById(id, HugeFileEntity<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">        <span class="keyword">if</span> (entity == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> Optional.empty();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (!useContent) &#123;</span><br><span class="line">            <span class="keyword">return</span> Optional.of(entity);</span><br><span class="line">        &#125;</span><br><span class="line">        Query gridFsQuery = <span class="keyword">new</span> Query().addCriteria(Criteria.where(<span class="string">"_id"</span>).is(entity.getGridFsId()));</span><br><span class="line">        GridFSFile file = gridFsTemplate.findOne(gridFsQuery);</span><br><span class="line">        <span class="comment">// æ‰“å¼€æµä¸‹è½½å¯¹è±¡</span></span><br><span class="line">        GridFSDownloadStream ins = gridFSBucket.openDownloadStream(file.getObjectId());</span><br><span class="line">        <span class="keyword">if</span> (ins.getGridFSFile().getLength() &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> Optional.empty();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// è·å–æµå¯¹è±¡</span></span><br><span class="line">        GridFsResource resource = <span class="keyword">new</span> GridFsResource(file, ins);</span><br><span class="line">        <span class="comment">// è·å–æ•°æ®</span></span><br><span class="line">        entity.setContent(IoUtil.readBytes(resource.getInputStream()));</span><br><span class="line">        <span class="keyword">return</span> Optional.of(entity);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Optional&lt;HugeFileEntity&gt; <span class="title">findFileById</span><span class="params">(String id)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.findFileById(id, <span class="keyword">false</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åˆ†é¡µæŸ¥è¯¢</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;HugeFileEntity&gt; <span class="title">queryPage</span><span class="params">(<span class="keyword">int</span> pageNum, <span class="keyword">int</span> pageSize)</span> </span>&#123;</span><br><span class="line">        Query query = <span class="keyword">new</span> Query().with(Sort.by(Sort.Direction.DESC, <span class="string">"creationDate"</span>));</span><br><span class="line">        <span class="keyword">long</span> offset = (<span class="keyword">long</span>) (pageNum - <span class="number">1</span>) * pageSize;</span><br><span class="line">        query.skip(offset);</span><br><span class="line">        query.limit(pageSize);</span><br><span class="line">        <span class="comment">// æ’é™¤é™„ä»¶å®é™…å†…å®¹</span></span><br><span class="line">        Field field = query.fields();</span><br><span class="line">        field.exclude(<span class="string">"content"</span>);</span><br><span class="line">        <span class="keyword">return</span> mongoTemplate.find(query, HugeFileEntity<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="4">
<li>Controller å±‚ï¼š</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Api</span>(tags = <span class="string">"å¤§æ–‡ä»¶ç®¡ç†"</span>)</span><br><span class="line"><span class="meta">@RequestMapping</span>(<span class="string">"/hugeFile"</span>)</span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HugeFileController</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> HugeFileService hugeFileService;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åˆ†é¡µæŸ¥è¯¢</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@ApiOperation</span>(<span class="string">"åˆ†é¡µæŸ¥è¯¢æ¥å£"</span>)</span><br><span class="line">    <span class="meta">@GetMapping</span>(<span class="string">"/queryPage"</span>)</span><br><span class="line">    <span class="keyword">public</span> ServerResponse&lt;List&lt;HugeFileEntity&gt;&gt; index(<span class="keyword">int</span> pageNum, <span class="keyword">int</span> pageSize) &#123;</span><br><span class="line">        <span class="keyword">return</span> ServerResponse.createBySuccess(hugeFileService.queryPage(pageNum, pageSize));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ–‡ä»¶ä¸Šä¼ </span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@ApiOperation</span>(<span class="string">"æ–‡ä»¶ä¸Šä¼ æ¥å£"</span>)</span><br><span class="line">    <span class="meta">@PostMapping</span>(<span class="string">"/upload"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ServerResponse&lt;HugeFileEntity&gt; <span class="title">uploadFile</span><span class="params">(MultipartFile uploadFile)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> ServerResponse.createBySuccess(hugeFileService.fileAdd(uploadFile));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ–‡ä»¶ä¸‹è½½</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@ApiOperation</span>(<span class="string">"æ–‡ä»¶ä¸‹è½½æ¥å£"</span>)</span><br><span class="line">    <span class="meta">@PostMapping</span>(<span class="string">"/downloadFile"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ResponseEntity&lt;Object&gt; <span class="title">downloadFile</span><span class="params">(String id)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="comment">// æ ¹æ®æ–‡æ¡£ä¸»é”®IDä¸‹è½½æ–‡ä»¶</span></span><br><span class="line">        Optional&lt;HugeFileEntity&gt; entity = hugeFileService.findFileById(id, <span class="keyword">true</span>);</span><br><span class="line">        <span class="keyword">return</span> entity.&lt;ResponseEntity&lt;Object&gt;&gt;map(hugeFileEntity -&gt; ResponseEntity.ok()</span><br><span class="line">                .header(HttpHeaders.CONTENT_DISPOSITION, <span class="string">"fileName="</span> + hugeFileEntity.getName())</span><br><span class="line">                .header(HttpHeaders.CONTENT_TYPE, hugeFileEntity.getContentType())</span><br><span class="line">                .header(HttpHeaders.CONTENT_LENGTH, hugeFileEntity.getSize() + <span class="string">""</span>)</span><br><span class="line">                .header(<span class="string">"Connection"</span>, <span class="string">"close"</span>)</span><br><span class="line">                .body(hugeFileEntity.getContent())).orElseGet(() -&gt; ResponseEntity.status(HttpStatus.NOT_FOUND).body(<span class="string">"ä¸å­˜åœ¨çš„æ–‡ä»¶"</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ–‡ä»¶åˆ é™¤</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@ApiOperation</span>(<span class="string">"æ–‡ä»¶åˆ é™¤æ¥å£"</span>)</span><br><span class="line">    <span class="meta">@DeleteMapping</span>(<span class="string">"/delete"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ServerResponse&lt;HugeFileEntity&gt; <span class="title">deleteFile</span><span class="params">(String id)</span> </span>&#123;</span><br><span class="line">        hugeFileService.deleteFile(id);</span><br><span class="line">        <span class="keyword">return</span> ServerResponse.createBySuccessMessage(<span class="string">"åˆ é™¤æˆåŠŸ"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><a name="ur8s6"></a></p>
<h2 id="ä¸‰-å¤§æ–‡ä»¶å­˜å‚¨å…³ç³»å›¾"><a class="markdownIt-Anchor" href="#ä¸‰-å¤§æ–‡ä»¶å­˜å‚¨å…³ç³»å›¾"></a> ä¸‰ã€å¤§æ–‡ä»¶å­˜å‚¨å…³ç³»å›¾</h2>
<h3 id="å®ä½“ç±»å…³ç³»å›¾"><a class="markdownIt-Anchor" href="#å®ä½“ç±»å…³ç³»å›¾"></a> å®ä½“ç±»å…³ç³»å›¾</h3>
<p><img src="./entity-relay.png" alt="entity-relay" /></p>
]]></content>
      
        
        <tags>
            
            <tag> æ—¥ç§¯ç¬”è®° </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[ARTS æ‰“å¡â€”â€”Weekly â‘¢]]></title>
      <url>http://tech.noexception.cn/2021/05/25/arts-03/</url>
      <content type="html"><![CDATA[<p>æ—¥æ‹±ä¸€å’ï¼ŒåŠŸä¸å”æã€‚</p>
<a id="more"></a>
<h2 id="algorithmç®—æ³•é¢˜"><a class="markdownIt-Anchor" href="#algorithmç®—æ³•é¢˜"></a> Algorithmâ€”â€”ç®—æ³•é¢˜</h2>
<h3 id="å­—æ¯å¼‚ä½è¯åˆ†ç»„"><a class="markdownIt-Anchor" href="#å­—æ¯å¼‚ä½è¯åˆ†ç»„"></a> å­—æ¯å¼‚ä½è¯åˆ†ç»„</h3>
<h4 id="é—®é¢˜æè¿°"><a class="markdownIt-Anchor" href="#é—®é¢˜æè¿°"></a> é—®é¢˜æè¿°</h4>
<blockquote>
<p>ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ï¼Œå°†å­—æ¯å¼‚ä½è¯ç»„åˆåœ¨ä¸€èµ·ã€‚å­—æ¯å¼‚ä½è¯æŒ‡å­—æ¯ç›¸åŒï¼Œä½†æ’åˆ—ä¸åŒçš„å­—ç¬¦ä¸²ã€‚<br />
<img src="./Snip20210528_34.png" alt="description" /></p>
</blockquote>
<h4 id="è§£é¢˜æ€è·¯"><a class="markdownIt-Anchor" href="#è§£é¢˜æ€è·¯"></a> è§£é¢˜æ€è·¯</h4>
<ul>
<li>
<p>é¦–å…ˆæƒ³åˆ°çš„æ€è·¯å°±æ˜¯ï¼Œæ¨¡ä»¿ HashMap çš„æ–¹å¼ï¼Œé€šè¿‡å®ç°ä¸€ä¸ª hash å‡½æ•°ï¼Œå¾—åˆ°ä¸€ä¸ªå•è¯çš„å“ˆå¸Œå€¼ï¼Œç„¶åä½œä¸ºè¿™ä¸ªå•è¯çš„ key ç¼“å­˜åˆ°ä¸€ä¸ª Cache ä¸­ï¼Œå¦‚æœæ˜¯å­—æ¯ä»¥ä¸ºè¯ï¼Œæ”¾å…¥ç›¸åŒçš„ä¸€ä¸ªåˆ†ç»„ä¸­ï¼Œå¦åˆ™æ”¾å…¥å¦å¤–çš„åˆ†ç»„ä¸­ã€‚æœ€åï¼Œè¿”å›åˆ†å¥½ç»„çš„ç»“æœå³å¯ã€‚ï¼ˆè¿™ä¸ª hash å‡½æ•°çš„ç®—æ³•å¯ä»¥æœ‰å¾ˆå¤šï¼Œæˆ‘æƒ³åˆ°çš„æœ€ç®€å•çš„å®ç°å°±æ˜¯ï¼Œå°†è¾“å…¥çš„å•è¯æ’åºï¼Œå› ä¸ºå­—æ¯å¼‚ä½è¯çš„ç‰¹å¾å°±æ˜¯ï¼Œå•è¯æ‰€ç»„æˆçš„å­—æ¯æ˜¯ç›¸åŒçš„ï¼Œä½†æ˜¯é¡ºåºä¸åŒã€‚æ‰€ä»¥é‡æ–°æ’åºå¾—åˆ°çš„ç»“æœåº”è¯¥å°±æ˜¯ä¸€è‡´çš„ï¼Œæ»¡è¶³æˆ‘ä»¬ hash æ•£åˆ—å‡½æ•°çš„è¦æ±‚ã€‚ï¼‰</p>
</li>
<li>
<p>ç¬¬äºŒä¸ªæ€è·¯ï¼Œä¹Ÿæ˜¯ä»ç½‘å‹çš„å¸–å­ä¸­å‘ç°çš„ä¸€ä¸ªæ¯”è¾ƒæœ‰æ„æ€çš„ç®—æ³•ã€‚å³ï¼š<code>åˆ©ç”¨è´¨æ•°ä»£è¡¨26ä¸ªå­—æ¯ï¼Œè®©ä¹˜ç§¯ç»“æœä½œä¸ºhashå€¼</code> è¿™ç§ç®—æ³•æ¯”æˆ‘ä»¬æ’åºçš„ç®—æ³•è¦å¿«ä¸Šè®¸å¤šã€‚å®ç°ç®€å•ï¼Œæ€è·¯å·§å¦™ã€‚</p>
</li>
</ul>
<h4 id="è§£ç­”ä»£ç "><a class="markdownIt-Anchor" href="#è§£ç­”ä»£ç "></a> è§£ç­”ä»£ç ï¼š</h4>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è§£æ³•1ï¼š</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> String <span class="title">hashString</span><span class="params">(String str)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">char</span>[] table = str.toCharArray();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; table.length; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = i; j &lt; table.length; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (table[i]&gt;table[j])&#123;</span><br><span class="line">                    <span class="keyword">char</span> temp = table[i];</span><br><span class="line">                    table[i] = table[j];</span><br><span class="line">                    table[j] = temp;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> String.valueOf(table);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> List&lt;List&lt;String&gt;&gt; groupAnagrams(String[] strs) &#123;</span><br><span class="line">        List&lt;List&lt;String&gt;&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        Map&lt;String, List&lt;String&gt;&gt; crucible = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (String param : strs) &#123;</span><br><span class="line">            String hashValue = hashString(param);</span><br><span class="line">            <span class="keyword">if</span> (!crucible.keySet().contains(hashValue))&#123;</span><br><span class="line">                <span class="comment">// å°šæœªå­˜åœ¨</span></span><br><span class="line">                crucible.put(hashValue, <span class="keyword">new</span> ArrayList&lt;&gt;());</span><br><span class="line">            &#125;</span><br><span class="line">            crucible.get(hashValue).add(param);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (String key : crucible.keySet()) &#123;</span><br><span class="line">            result.add(crucible.get(key));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è§£æ³•2ï¼š</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> Long <span class="title">hashString</span><span class="params">(String str)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] primeNum = &#123;<span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">11</span>, <span class="number">13</span>, <span class="number">17</span>, <span class="number">19</span>, <span class="number">23</span>, <span class="number">29</span>, <span class="number">31</span>, <span class="number">37</span>, <span class="number">41</span>, <span class="number">43</span>, <span class="number">47</span>, <span class="number">53</span>, <span class="number">59</span>, <span class="number">61</span>, <span class="number">67</span>, <span class="number">71</span>, <span class="number">73</span>, <span class="number">79</span>, <span class="number">83</span>, <span class="number">89</span>, <span class="number">97</span>, <span class="number">101</span>&#125;;</span><br><span class="line">        <span class="keyword">char</span>[] table = str.toCharArray();</span><br><span class="line">        Long product = <span class="number">1L</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; table.length; i++) &#123;</span><br><span class="line">            product *= primeNum[table[i] - <span class="number">97</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> product;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> List&lt;List&lt;String&gt;&gt; groupAnagrams(String[] strs) &#123;</span><br><span class="line">        List&lt;List&lt;String&gt;&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        Map&lt;Long, List&lt;String&gt;&gt; crucible = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (String param : strs) &#123;</span><br><span class="line">            Long hashValue = hashString(param);</span><br><span class="line">            <span class="keyword">if</span> (!crucible.keySet().contains(hashValue))&#123;</span><br><span class="line">                <span class="comment">// å°šæœªå­˜åœ¨</span></span><br><span class="line">                crucible.put(hashValue, <span class="keyword">new</span> ArrayList&lt;&gt;());</span><br><span class="line">            &#125;</span><br><span class="line">            crucible.get(hashValue).add(param);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (Long key : crucible.keySet()) &#123;</span><br><span class="line">            result.add(crucible.get(key));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="reviewé˜…è¯»ä¸€ç¯‡è‹±æ–‡æ–‡ç« "><a class="markdownIt-Anchor" href="#reviewé˜…è¯»ä¸€ç¯‡è‹±æ–‡æ–‡ç« "></a> Reviewâ€”â€”é˜…è¯»ä¸€ç¯‡è‹±æ–‡æ–‡ç« </h2>
<pre class="highlight"><code class="">
## Tipâ€”â€”å­¦ä¹ ä¸€ä¸ªæŠ€å·§
### æ§åˆ¶åè½¬ã€ä¾èµ–åè½¬ã€ä¾èµ–æ³¨å…¥ï¼Œè¿™ä¸‰è€…æœ‰ä½•åŒºåˆ«å’Œè”ç³»
#### æ§åˆ¶åè½¬ï¼ˆIOCï¼‰
- è¿™é‡Œçš„â€œæ§åˆ¶â€æŒ‡çš„æ˜¯å¯¹ç¨‹åºæ‰§è¡Œæµç¨‹çš„æ§åˆ¶ï¼Œè€Œâ€œåè½¬â€æŒ‡çš„æ˜¯åœ¨æ²¡æœ‰ä½¿ç”¨æ¡†æ¶ä¹‹å‰ï¼Œç¨‹åºå‘˜è‡ªå·±æ§åˆ¶æ•´ä¸ªç¨‹åºçš„æ‰§è¡Œã€‚åœ¨ä½¿ç”¨æ¡†æ¶ä¹‹åï¼Œæ•´ä¸ªç¨‹åºçš„æ‰§è¡Œæµç¨‹å¯ä»¥é€šè¿‡æ¡†æ¶æ¥æ§åˆ¶ã€‚**æµç¨‹çš„æ§åˆ¶æƒä»ç¨‹åºå‘˜â€œåè½¬â€åˆ°äº†æ¡†æ¶ã€‚**
- æ§åˆ¶åè½¬å¹¶ä¸æ˜¯ä¸€ç§å…·ä½“çš„å®ç°æŠ€å·§ï¼Œè€Œæ˜¯ä¸€ä¸ªæ¯”è¾ƒç¬¼ç»Ÿçš„è®¾è®¡æ€æƒ³ï¼Œä¸€èˆ¬ç”¨æ¥æŒ‡å¯¼æ¡†æ¶å±‚é¢çš„è®¾è®¡ã€‚

#### ä¾èµ–æ³¨å…¥ï¼ˆDIï¼‰
- ä¾èµ–æ³¨å…¥è·Ÿæ§åˆ¶åè½¬æ°æ°ç›¸åï¼Œå®ƒæ˜¯ä¸€ç§å…·ä½“çš„ç¼–ç æŠ€å·§ã€‚
- **è§£é‡Š**ï¼šä¸é€šè¿‡`new()`çš„æ–¹å¼åœ¨ç±»å†…éƒ¨åˆ›å»ºä¾èµ–ç±»å¯¹è±¡ï¼Œè€Œæ˜¯å°†ä¾èµ–çš„ç±»å¯¹è±¡åœ¨å¤–éƒ¨åˆ›å»ºå¥½ä¹‹åï¼Œé€šè¿‡æ„é€ å‡½æ•°ã€å‡½æ•°å‚æ•°ç­‰æ–¹å¼ä¼ é€’ï¼ˆæˆ–æ³¨å…¥ï¼‰ç»™ç±»ä½¿ç”¨ã€‚
- ä¾‹å­å¯¹æ¯”ï¼š

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// éä¾èµ–æ³¨å…¥å®ç°æ–¹å¼</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Notification</span> </span>&#123;</span><br><span class="line">  <span class="keyword">private</span> MessageSender messageSender;</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">Notification</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.messageSender = <span class="keyword">new</span> MessageSender(); <span class="comment">//æ­¤å¤„æœ‰ç‚¹åƒhardcode</span></span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sendMessage</span><span class="params">(String cellphone, String message)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//...çœç•¥æ ¡éªŒé€»è¾‘ç­‰...</span></span><br><span class="line">    <span class="keyword">this</span>.messageSender.send(cellphone, message);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MessageSender</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">send</span><span class="params">(String cellphone, String message)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//....</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ä½¿ç”¨Notification</span></span><br><span class="line">Notification notification = <span class="keyword">new</span> Notification();</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¾èµ–æ³¨å…¥çš„å®ç°æ–¹å¼</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Notification</span> </span>&#123;</span><br><span class="line">  <span class="keyword">private</span> MessageSender messageSender;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// é€šè¿‡æ„é€ å‡½æ•°å°†messageSenderä¼ é€’è¿›æ¥</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">Notification</span><span class="params">(MessageSender messageSender)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.messageSender = messageSender;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sendMessage</span><span class="params">(String cellphone, String message)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//...çœç•¥æ ¡éªŒé€»è¾‘ç­‰...</span></span><br><span class="line">    <span class="keyword">this</span>.messageSender.send(cellphone, message);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//ä½¿ç”¨Notification</span></span><br><span class="line">MessageSender messageSender = <span class="keyword">new</span> MessageSender();</span><br><span class="line">Notification notification = <span class="keyword">new</span> Notification(messageSender);</span><br></pre></td></tr></table></figure>

- æŠŠ MessageSender å®šä¹‰æˆæ¥å£ï¼ŒåŸºäºæ¥å£è€Œéå®ç°ç¼–ç¨‹ï¼Œç»§ç»­ä¼˜åŒ–ï¼š

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Notification</span> </span>&#123;</span><br><span class="line">  <span class="keyword">private</span> MessageSender messageSender;</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">Notification</span><span class="params">(MessageSender messageSender)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.messageSender = messageSender;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sendMessage</span><span class="params">(String cellphone, String message)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.messageSender.send(cellphone, message);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">MessageSender</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">void</span> <span class="title">send</span><span class="params">(String cellphone, String message)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// çŸ­ä¿¡å‘é€ç±»</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SmsSender</span> <span class="keyword">implements</span> <span class="title">MessageSender</span> </span>&#123;</span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">send</span><span class="params">(String cellphone, String message)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//....</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç«™å†…ä¿¡å‘é€ç±»</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">InboxSender</span> <span class="keyword">implements</span> <span class="title">MessageSender</span> </span>&#123;</span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">send</span><span class="params">(String cellphone, String message)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//....</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä½¿ç”¨Notification</span></span><br><span class="line">MessageSender messageSender = <span class="keyword">new</span> SmsSender();</span><br><span class="line">Notification notification = <span class="keyword">new</span> Notification(messageSender);</span><br></pre></td></tr></table></figure>

#### ä¾èµ–æ³¨å…¥æ¡†æ¶ï¼ˆDI Framewordï¼‰
- åœ¨é‡‡ç”¨ä¾èµ–æ³¨å…¥å®ç°çš„ Notification ç±»ä¸­ï¼Œè™½ç„¶æˆ‘ä»¬ä¸éœ€è¦ç”¨ç±»ä¼¼ hard code çš„æ–¹å¼ï¼Œåœ¨ç±»å†…éƒ¨é€šè¿‡ new æ¥åˆ›å»º MessageSender å¯¹è±¡ï¼Œä½†æ˜¯ï¼Œè¿™ä¸ªåˆ›å»ºå¯¹è±¡ã€ç»„è£…ï¼ˆæˆ–æ³¨å…¥ï¼‰å¯¹è±¡çš„å·¥ä½œç´§ç´§æ˜¯è¢«ç§»åŠ¨åˆ°äº†æ›´ä¸Šå±‚ä»£ç è€Œå·²ï¼Œè¿˜æ˜¯éœ€è¦ç¨‹åºå‘˜è‡ªå·±æ¥å®ç°ã€‚
- å¯ä»¥é€šè¿‡æ¡†æ¶æ¥è‡ªåŠ¨å®Œæˆï¼Œåªéœ€è¦é€šè¿‡ä¾èµ–æ³¨å…¥æ¡†æ¶æä¾›çš„æ‰©å±•ç‚¹ï¼Œç®€å•é…ç½®ä¸€ä¸‹æ‰€æœ‰éœ€è¦åˆ›å»ºçš„ç±»å¯¹è±¡ã€ç±»ä¸ç±»ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œå°±å¯ä»¥å®ç°ç”±æ¡†æ¶æ¥è‡ªåŠ¨åˆ›å»ºå¯¹è±¡ã€ç®¡ç†å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸã€ä¾èµ–æ³¨å…¥ç­‰åŸæœ¬éœ€è¦ç¨‹åºå‘˜æ¥åšçš„äº‹æƒ…ã€‚
- è¿™ç±»æ¡†æ¶æœ‰å¾ˆå¤šï¼š Google Guiceã€Java Springã€Pico Containerã€Butterfly Containerã€‚

#### ä¾èµ–åè½¬åŸåˆ™ï¼ˆDIPï¼‰
- åŸæ–‡ï¼šHigh-level modules shouldn't depend on low-level modules. Both modules should depend on abstractions. In addition, abstractions shouldn't depend on details. Details depend on abstractions.
- å®šä¹‰ï¼šé«˜å±‚æ¨¡å—ä¸è¦ä¾èµ–ä½å±‚æ¨¡å—ã€‚é«˜å±‚æ¨¡å—å’Œä½å±‚æ¨¡å—åº”è¯¥é€šè¿‡æŠ½è±¡æ¥äº’ç›¸ä¾èµ–ã€‚é™¤æ­¤ä¹‹å¤–ï¼ŒæŠ½è±¡ä¸è¦ä¾èµ–å…·ä½“å®ç°ç»†èŠ‚ï¼Œå…·ä½“å®ç°ç»†èŠ‚ä¾èµ–æŠ½è±¡ã€‚
- è¿™æ¡åŸåˆ™ä¸»è¦æ˜¯ç”¨æ¥æŒ‡å¯¼æ¡†æ¶å±‚é¢çš„è®¾è®¡ï¼Œè·Ÿå‰é¢è®²åˆ°çš„æ§åˆ¶åè½¬ç±»ä¼¼ã€‚
##### ç”¨ Tomcat ä½œä¸ºä¾‹å­ï¼š
- Tomcat æ˜¯è¿è¡Œ Java Web åº”ç”¨ç¨‹åºçš„å®¹å™¨ï¼ŒTomcat æ˜¯é«˜å±‚æ¨¡å—ï¼ŒJava Web æ˜¯ä½å±‚æ¨¡å—ã€‚ä¸¤è€…ä¹‹é—´æ²¡æœ‰ç›´æ¥çš„ä¾èµ–å…³ç³»ï¼Œä¸¤è€…éƒ½ä¾èµ–åŒä¸€ä¸ªâ€œæŠ½è±¡â€ï¼Œå°±æ˜¯ Servlet è§„èŒƒã€‚Servlet è§„èŒƒä¸ä¾èµ–å…·ä½“çš„ Tomcat å®¹å™¨å’Œåº”ç”¨ç¨‹åºçš„å®ç°ç»†èŠ‚ï¼Œè€Œä¸¤è€…éƒ½ä¾èµ– Servlet è§„èŒƒã€‚


## Shareâ€”â€”åˆ†äº«ä¸€ç¯‡æœ‰è§‚ç‚¹çš„æ–‡ç« 
  - &lt;a href=&quot;https://coolshell.cn/articles/21113.html&quot; target=&quot;_blank&quot;&gt;[ ç™¾åº¦ä¸ºä»€ä¹ˆæ‰é˜Ÿäº† ]&lt;/a&gt;
</code></pre>
]]></content>
      
        
        <tags>
            
            <tag> æ‰“å¡ </tag>
            
            <tag> ARTS </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[ARTS æ‰“å¡â€”â€”Weekly â‘¡]]></title>
      <url>http://tech.noexception.cn/2021/05/18/arts-02/</url>
      <content type="html"><![CDATA[<p>æ—¥æ‹±ä¸€å’ï¼ŒåŠŸä¸å”æã€‚</p>
<a id="more"></a>
<h2 id="algorithmç®—æ³•é¢˜"><a class="markdownIt-Anchor" href="#algorithmç®—æ³•é¢˜"></a> Algorithmâ€”â€”ç®—æ³•é¢˜</h2>
<h3 id="å¾ªç¯é“¾è¡¨"><a class="markdownIt-Anchor" href="#å¾ªç¯é“¾è¡¨"></a> å¾ªç¯é“¾è¡¨</h3>
<h4 id="é—®é¢˜æè¿°"><a class="markdownIt-Anchor" href="#é—®é¢˜æè¿°"></a> é—®é¢˜æè¿°ï¼š</h4>
<blockquote>
<p>ç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œåˆ¤æ–­é“¾è¡¨ä¸­æ˜¯å¦æœ‰ç¯ã€‚<br />
å¦‚æœé“¾è¡¨ä¸­æœ‰æŸä¸ªèŠ‚ç‚¹ï¼Œå¯ä»¥é€šè¿‡è¿ç»­è·Ÿè¸ª next æŒ‡é’ˆå†æ¬¡åˆ°è¾¾ï¼Œåˆ™é“¾è¡¨ä¸­å­˜åœ¨ç¯ã€‚ ä¸ºäº†è¡¨ç¤ºç»™å®šé“¾è¡¨ä¸­çš„ç¯ï¼Œæˆ‘ä»¬ä½¿ç”¨æ•´æ•° pos æ¥è¡¨ç¤ºé“¾è¡¨å°¾è¿æ¥åˆ°é“¾è¡¨ä¸­çš„ä½ç½®ï¼ˆç´¢å¼•ä» 0 å¼€å§‹ï¼‰ã€‚ å¦‚æœ pos æ˜¯ -1ï¼Œåˆ™åœ¨è¯¥é“¾è¡¨ä¸­æ²¡æœ‰ç¯ã€‚æ³¨æ„ï¼špos ä¸ä½œä¸ºå‚æ•°è¿›è¡Œä¼ é€’ï¼Œä»…ä»…æ˜¯ä¸ºäº†æ ‡è¯†é“¾è¡¨çš„å®é™…æƒ…å†µã€‚<br />
å¦‚æœé“¾è¡¨ä¸­å­˜åœ¨ç¯ï¼Œåˆ™è¿”å› true ã€‚ å¦åˆ™ï¼Œè¿”å› false ã€‚<br />
<img src="./Snip20210515_117.png" alt="description" /></p>
</blockquote>
<h4 id="è§£é¢˜æ€è·¯"><a class="markdownIt-Anchor" href="#è§£é¢˜æ€è·¯"></a> è§£é¢˜æ€è·¯ï¼š</h4>
<ul>
<li>é¦–å…ˆç¬¬ä¸€ä¸ªæƒ³åˆ°çš„æ€è·¯å°±æ˜¯ï¼š
<ol>
<li>åˆ›å»ºä¸€ä¸ªé›†åˆï¼Œç”¨äºå­˜æ”¾æ¯ä¸€ä¸ªéå†è¿‡çš„èŠ‚ç‚¹ï¼›</li>
<li>éå†ç»™å®šçš„é“¾è¡¨ï¼Œå°†æ¯ä¸€ä¸ªå…ƒç´ éƒ½æ”¾å…¥ä¸Šä¸€æ­¥åˆ›å»ºçš„é›†åˆå½“ä¸­ï¼›</li>
<li>åœ¨éå†çš„è¿‡ç¨‹ä¸­ï¼Œåˆ¤æ–­å½“å‰èŠ‚ç‚¹æ˜¯å¦å­˜åœ¨äºé›†åˆå½“ä¸­ï¼Œå¦‚æœå­˜åœ¨åˆ™è¯´æ˜ï¼Œæ˜¯å¾ªç¯é“¾è¡¨ï¼›</li>
<li>å…¶æ¬¡ï¼Œéå†åˆ°é“¾è¡¨æœ«å°¾çš„æ—¶å€™ï¼ŒnextæŒ‡å‘çš„ä¸º nullï¼Œåˆ™è¯´æ˜ä¸æ˜¯å¾ªç¯é“¾è¡¨ï¼›</li>
</ol>
</li>
<li>ç„¶åï¼Œæƒ³åˆ°çš„ç¬¬äºŒä¸ªæ€è·¯å°±æ˜¯ï¼š
<ul>
<li>ç”¨ä¸¤ä¸ªæŒ‡é’ˆï¼Œåˆ†åˆ«æ˜¯å¿«æ…¢æŒ‡é’ˆï¼›</li>
<li>å¿«æŒ‡é’ˆæ­¥é•¿æ˜¯æ…¢æŒ‡é’ˆçš„ä¸¤å€ï¼ˆä¸‰å€ä¹Ÿè¡Œï¼‰;</li>
<li>ä¸€ç›´è¿™æ ·éå†ä¸‹å»ï¼Œå¦‚æœæ˜¯å¾ªç¯é“¾è¡¨çš„è¯ï¼Œåˆ™å¿«æ…¢æŒ‡é’ˆç»ˆä¼šç›¸é‡ï¼›</li>
<li>å¦åˆ™ï¼Œå½“å¿«æŒ‡é’ˆçš„nextæˆ–è€…æ…¢æŒ‡é’ˆçš„nextæŒ‡å‘nullæ—¶ï¼Œåˆ™è¯´æ˜ä¸æ˜¯å¾ªç¯é“¾è¡¨</li>
</ul>
</li>
</ul>
<h4 id="è§£ç­”ä»£ç "><a class="markdownIt-Anchor" href="#è§£ç­”ä»£ç "></a> è§£ç­”ä»£ç ï¼š</h4>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è§£æ³•ä¸€ï¼š</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * class ListNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     ListNode next;</span></span><br><span class="line"><span class="comment"> *     ListNode(int x) &#123;</span></span><br><span class="line"><span class="comment"> *         val = x;</span></span><br><span class="line"><span class="comment"> *         next = null;</span></span><br><span class="line"><span class="comment"> *     &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasCycle</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">        ListNode current = head;</span><br><span class="line">        Set&lt;ListNode&gt; listNodePool = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">        <span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span> (listNodePool.contains(current))&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (current == <span class="keyword">null</span>)&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            listNodePool.add(current);</span><br><span class="line">            current = current.next;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * class ListNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     ListNode next;</span></span><br><span class="line"><span class="comment"> *     ListNode(int x) &#123;</span></span><br><span class="line"><span class="comment"> *         val = x;</span></span><br><span class="line"><span class="comment"> *         next = null;</span></span><br><span class="line"><span class="comment"> *     &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"> <span class="comment">// è§£æ³•äºŒï¼š</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasCycle</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (head == <span class="keyword">null</span> || head.next == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// ä½¿ç”¨å¿«æ…¢æŒ‡é’ˆçš„æ–¹æ³•</span></span><br><span class="line">        ListNode fast = head;</span><br><span class="line">        ListNode slow = head;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">            slow = slow.next;</span><br><span class="line">            fast = fast.next.next;</span><br><span class="line">            <span class="keyword">if</span> (fast == <span class="keyword">null</span> || fast.next == <span class="keyword">null</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (fast == slow || slow == fast.next) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="reviewé˜…è¯»ä¸€ç¯‡è‹±æ–‡æ–‡ç« "><a class="markdownIt-Anchor" href="#reviewé˜…è¯»ä¸€ç¯‡è‹±æ–‡æ–‡ç« "></a> Reviewâ€”â€”é˜…è¯»ä¸€ç¯‡è‹±æ–‡æ–‡ç« </h2>
<ul>
<li><a href="https://uxdesign.cc/the-software-architect-fallacy-b62a41683979" target="_blank">[ The software architect fallacyï¼ˆè½¯ä»¶æ¶æ„å¸ˆè°¬è®ºï¼‰ ]</a></li>
</ul>
<h4 id="çœ‹æ³•"><a class="markdownIt-Anchor" href="#çœ‹æ³•"></a> çœ‹æ³•ï¼š</h4>
<ul>
<li>è¿™ç¯‡æ–‡ç« ç”¨äº†ä¸€ä¸ªéå¸¸ç”ŸåŠ¨å½¢è±¡çš„ä¾‹å­é˜è¿°äº†ç€‘å¸ƒå‹å¼€å‘æ¨¡å‹çš„å¼Šç«¯ï¼Œå¹¶æå‡ºäº†ä¸€ä¸‹ä¸€äº›æ€è€ƒç‚¹ï¼š
<ol>
<li>èƒ½å¤Ÿçœ‹åˆ°äº§å“3-5å¹´åçš„æ ·å­å—ï¼Ÿ</li>
<li>åœ¨æœªæ¥è¿˜éœ€è¦æŠ•å…¥å¤šå°‘å·¥ä½œé‡æ‰èƒ½è®©äº§å“ä¸Šçº¿ï¼Ÿ</li>
<li>å¦‚æœç¬¬ä¸€ä¸ªç‰ˆæœ¬èƒ½å¤Ÿä½¿äº§å“æ›´ç¨³å®šåœ°è¢«æ›´é«˜çš„å®¢æˆ·é‡‡ç”¨ï¼Œé‚£ä¹ˆå›¢é˜Ÿæ˜¯å¦æœ‰å¯èƒ½å¯¹äº§å“çš„å…³é”®åŒºåŸŸè¿›è¡Œè¿”å·¥ï¼Ÿ</li>
<li>æˆ‘ä»¬æœ‰å“ªäº›å†³å®šä¼šé™åˆ¶æˆ–è€…æ”¹å˜æˆ‘ä»¬äº§å“æœ€ç»ˆçš„å½¢æ€ï¼Ÿ</li>
<li>åœ¨å¿«é€Ÿè¿­ä»£çš„åŒæ—¶ï¼Œæˆ‘ä»¬èƒ½å¤Ÿä¿è¯äº§å“åŸºç¡€åŠŸèƒ½çš„ç¨³å®šè¿è¡Œå—ï¼Ÿ</li>
<li>æ˜¯å¦å­˜åœ¨æœ‰å¯ä»¥é‡æ„çš„æ¨¡å—æˆ–è€…éƒ¨åˆ†ï¼Ÿ</li>
</ol>
</li>
</ul>
<h2 id="tipå­¦ä¹ ä¸€ä¸ªæŠ€å·§"><a class="markdownIt-Anchor" href="#tipå­¦ä¹ ä¸€ä¸ªæŠ€å·§"></a> Tipâ€”â€”å­¦ä¹ ä¸€ä¸ªæŠ€å·§</h2>
<h3 id="è®¾è®¡åŸåˆ™è´«è¡€æ¨¡å‹ä¸å……è¡€æ¨¡å‹"><a class="markdownIt-Anchor" href="#è®¾è®¡åŸåˆ™è´«è¡€æ¨¡å‹ä¸å……è¡€æ¨¡å‹"></a> è®¾è®¡åŸåˆ™â€”â€”è´«è¡€æ¨¡å‹ä¸å……è¡€æ¨¡å‹</h3>
<ul>
<li>åŸºäºè´«è¡€æ¨¡å‹çš„ MVC ä¸‰å±‚æ¶æ„å¼€å‘æ¨¡å¼ï¼Œæ˜¯ä¸€ç§é¢å‘è¿‡ç¨‹çš„ç¼–ç¨‹é£æ ¼ï¼Œè¢«ç§°ä¸ºâ€œåæ¨¡å¼â€ã€‚<em>é¢†åŸŸé©±åŠ¨è®¾è®¡</em>æ˜¯åŸºäºå……è¡€æ¨¡å‹çš„å¼€å‘æ¨¡å¼ï¼Œè¶Šæ¥è¶Šè¢«äººæå€¡ã€‚</li>
</ul>
<h3 id="è´«è¡€æ¨¡å‹"><a class="markdownIt-Anchor" href="#è´«è¡€æ¨¡å‹"></a> è´«è¡€æ¨¡å‹ï¼š</h3>
<h4 id="è´«è¡€æ¨¡å‹çš„å®šä¹‰"><a class="markdownIt-Anchor" href="#è´«è¡€æ¨¡å‹çš„å®šä¹‰"></a> è´«è¡€æ¨¡å‹çš„å®šä¹‰ï¼š</h4>
<ol>
<li>åœ¨å¤§å¤šæ•°çš„åç«¯é¡¹ç›®ä¸­ï¼ŒEntity å’Œ DAO(Repository) ç»„æˆæ•°æ®è®¿é—®å±‚ï¼ŒBO å’Œ Service ç»„æˆä¸šåŠ¡é€»è¾‘å±‚ï¼ŒVO å’Œ Controller ç»„æˆæ¥å£å±‚ã€‚BO æ˜¯ä¸€ä¸ªçº¯ç²¹çš„æ•°æ®ç»“æ„ï¼ŒåªåŒ…å«æ•°æ®ï¼Œä¸åŒ…å«ä»»ä½•ä¸šåŠ¡é€»è¾‘ã€‚ä¸šåŠ¡é€»è¾‘é›†ä¸­åœ¨ Service ä¸­ã€‚é€šè¿‡ Service æ¥æ“ä½œ BOã€‚Service å±‚çš„æ•°æ®å’Œä¸šåŠ¡é€»è¾‘ï¼Œè¢«åˆ†å‰²ä¸º BO å’Œ Service ä¸¤ä¸ªç±»ã€‚è¿™ç§ BO ä¸åŒ…å«ä¸šåŠ¡é€»è¾‘çš„ç±»ï¼Œå°±å«åš <strong>è´«è¡€æ¨¡å‹</strong>ã€‚è´«è¡€æ¨¡å‹å°†æ•°æ®ä¸æ“ä½œåˆ†ç¦»ï¼Œç ´åäº†é¢å‘å¯¹è±¡çš„å°è£…ç‰¹æ€§ï¼Œæ‰€ä»¥è¯´æ˜¯ä¸€ç§å…¸å‹çš„é¢å‘å¯¹è±¡çš„ç¼–ç¨‹é£æ ¼ã€‚</li>
</ol>
<h3 id="å……è¡€æ¨¡å‹"><a class="markdownIt-Anchor" href="#å……è¡€æ¨¡å‹"></a> å……è¡€æ¨¡å‹ï¼š</h3>
<h4 id="é¢†åŸŸé©±åŠ¨è®¾è®¡"><a class="markdownIt-Anchor" href="#é¢†åŸŸé©±åŠ¨è®¾è®¡"></a> é¢†åŸŸé©±åŠ¨è®¾è®¡</h4>
<ul>
<li>DDD, ä¸»è¦ç”¨æ¥<strong>æŒ‡å¯¼</strong>å¦‚ä½•è§£è€¦ä¸šåŠ¡ç³»ç»Ÿï¼Œ<strong>åˆ’åˆ†</strong>ä¸šåŠ¡æ¨¡å—ï¼Œ<strong>å®šä¹‰</strong>ä¸šåŠ¡é¢†åŸŸæ¨¡å‹åŠå…¶äº¤äº’ã€‚ï¼ˆ2004å¹´æå‡ºï¼Œä½†æ˜¯ç”±äºå¾®æœåŠ¡çš„ç››è¡ŒåŠ é€Ÿäº† DDD çš„å…´èµ·ï¼‰</li>
<li>åšå¥½ DDD çš„å…³é”®æ˜¯ï¼š<strong>çœ‹äººå¯¹è‡ªå·±æ‰€åšä¸šåŠ¡çš„ç†Ÿæ‚‰ç¨‹åº¦ï¼Œè€Œä¸æ˜¯å¯¹é¢†åŸŸé©±åŠ¨è®¾è®¡è¿™ä¸ªæ¦‚å¿µæœ¬èº«çš„æŒæ¡ç¨‹åº¦ã€‚</strong></li>
</ul>
<h4 id="å……è¡€æ¨¡å‹çš„å®šä¹‰"><a class="markdownIt-Anchor" href="#å……è¡€æ¨¡å‹çš„å®šä¹‰"></a> å……è¡€æ¨¡å‹çš„å®šä¹‰ï¼š</h4>
<ol>
<li>æ•°æ®å’Œå¯¹åº”çš„ä¸šåŠ¡é€»è¾‘è¢«å°è£…åˆ°åŒä¸€ä¸ªç±»ä¸­å›½ï¼Œå› æ­¤ï¼Œå……è¡€æ¨¡å‹æ»¡è¶³é¢å‘å¯¹è±¡çš„å°è£…ç‰¹æ€§ï¼Œæ˜¯å…¸å‹çš„é¢å‘å¯¹è±¡ç¼–ç¨‹é£æ ¼ã€‚</li>
<li>åŸºäºå……è¡€æ¨¡å‹çš„DDDå¼€å‘æ¨¡å¼å®ç°çš„ä»£ç ï¼Œä¹Ÿæ˜¯æŒ‰ç…§ MVC ä¸‰å±‚æ¶æ„åˆ†å±‚çš„ã€‚Controller å±‚è´Ÿè´£æš´éœ²æ¥å£ï¼ŒRepository å±‚è´Ÿè´£æ•°æ®å­˜å–ï¼Œ Service å±‚è´Ÿè´£æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ã€‚åŒºåˆ«ä¸»è¦åœ¨ Service å±‚ã€‚</li>
<li>åŸºäºè´«è¡€æ¨¡å‹çš„ä¼ ç»Ÿçš„å¼€å‘æ¨¡å¼ï¼Œé‡ Service è½» BOï¼›åŸºäºå……è¡€æ¨¡å‹çš„ DDD å¼€å‘æ¨¡å¼ï¼Œè½» Service é‡ Domain.</li>
</ol>
<h4 id="è´«è¡€æ¨¡å‹ä¹‹æ‰€ä»¥å—æ¬¢è¿çš„åŸå› "><a class="markdownIt-Anchor" href="#è´«è¡€æ¨¡å‹ä¹‹æ‰€ä»¥å—æ¬¢è¿çš„åŸå› "></a> è´«è¡€æ¨¡å‹ä¹‹æ‰€ä»¥å—æ¬¢è¿çš„åŸå› ï¼š</h4>
<ol>
<li>ä¸šåŠ¡ç®€å•ï¼ŒåŸºæœ¬å°±æ˜¯åŸºäºSQLçš„CRUDæ“ä½œï¼Œæ— éœ€åŠ¨è„‘å­ç²¾å¿ƒè®¾è®¡å……è¡€æ¨¡å‹ï¼Œè´«è¡€æ¨¡å‹å°±è¶³ä»¥åº”ä»˜è¿™ç§ç®€å•ä¸šåŠ¡çš„å·¥ä½œã€‚</li>
<li>å……è¡€æ¨¡å‹çš„è®¾è®¡è¦æ¯”è´«è¡€æ¨¡å‹æ›´åŠ æœ‰éš¾åº¦ã€‚å……è¡€æ¨¡å‹æ˜¯ä¸€ç§é¢å‘å¯¹è±¡çš„ç¼–ç¨‹é£æ ¼ï¼Œä¸€å¼€å§‹å°±è¦è®¾è®¡å¥½é’ˆå¯¹æ•°æ®è¦æš´éœ²é‚£äº›æ“ä½œï¼Œå®šä¹‰å“ªäº›ä¸šåŠ¡é€»è¾‘ã€‚è´«è¡€æ¨¡å‹åªéœ€è¦å®šä¹‰æ•°æ®ï¼Œåç»­æœ‰æ–°çš„åŠŸèƒ½å¼€å‘éœ€æ±‚ï¼Œå°±åœ¨ Service å±‚å®šä¹‰æ“ä½œï¼Œä¸éœ€è¦æ˜¯äº‹å…ˆåšå¤ªå¤šè®¾è®¡ã€‚</li>
<li>æ€ç»´å›ºåŒ–ã€‚è¿™ç§è´«è¡€æ¨¡å‹å·²æˆä¸º Web å¼€å‘ä¸­äº‹å®ä¸Šçš„æ ‡å‡†ï¼Œéš¾ä»¥æ”¹å˜ã€‚</li>
</ol>
<h4 id="å……è¡€æ¨¡å‹çš„åº”ç”¨åœºæ™¯"><a class="markdownIt-Anchor" href="#å……è¡€æ¨¡å‹çš„åº”ç”¨åœºæ™¯"></a> å……è¡€æ¨¡å‹çš„åº”ç”¨åœºæ™¯ï¼š</h4>
<ol>
<li>åŸºäºè´«è¡€æ¨¡å‹çš„ä¼ ç»Ÿå¼€å‘æ¨¡å¼ï¼Œæ¯”è¾ƒé€‚åˆä¸šåŠ¡æ¯”è¾ƒç®€å•çš„ç³»ç»Ÿå¼€å‘ã€‚</li>
<li>åŸºäºå……è¡€æ¨¡å‹çš„DDDå¼€å‘æ¨¡å¼ï¼Œæ›´é€‚åˆä¸šåŠ¡å¤æ‚çš„ç³»ç»Ÿå¼€å‘ã€‚å¦‚ï¼š
<ol>
<li>åŒ…å«å„ç§åˆ©æ¯è®¡ç®—æ¨¡å‹ï¼›</li>
<li>è¿˜æ¬¾æ¨¡å‹ç­‰å¤æ‚ä¸šåŠ¡çš„é‡‘èç³»ç»Ÿ</li>
</ol>
</li>
<li>ä¸€å¥è¯æ¦‚æ‹¬å¹³æ—¶çš„å¼€å‘ï¼šè¡—é“ä¸€ä¸ªåç«¯æ¥å£çš„å¼€å‘éœ€æ±‚çš„æ—¶å€™ï¼Œå°±å»çœ‹æ¥å£éœ€è¦çš„æ•°æ®å¯¹åº”åˆ°æ•°æ®åº“ä¸­å›½ï¼Œéœ€è¦å“ªå¼ è¡¨æˆ–è€…å“ªå‡ å¼ è¡¨ï¼Œç„¶åæ€è€ƒå¦‚ä½•ç¼–å†™SQLè¯­å¥æ¥è·å–æ•°æ®ã€‚ä¹‹åå°±æ˜¯å®šä¹‰ Entityã€BOã€VOï¼Œç„¶åæ¨¡æ¿å¼åœ°å¾€å¯¹åº”çš„ Repositoryã€Serviceã€Controller ç±»ä¸­æ·»åŠ ä»£ç ã€‚</li>
<li>åœ¨åŸºäºå……è¡€æ¨¡å‹çš„ DDD çš„å¼€å‘æ¨¡å¼ä¸‹ï¼Œæˆ‘ä»¬éœ€è¦äº‹å…ˆç†æ¸…æ¥šæ‰€æœ‰çš„ä¸šåŠ¡ï¼Œå®šä¹‰é¢†åŸŸæ¨¡å‹æ‰€åŒ…å«çš„å±æ€§å’Œæ–¹æ³•ã€‚é¢†åŸŸæ¨¡å‹ç›¸å½“äºå¯å¤ç”¨çš„ä¸šåŠ¡ä¸­é—´å±‚ã€‚æ–°åŠŸèƒ½éœ€æ±‚çš„å¼€å‘ï¼Œéƒ½åŸºäºä¹‹å‰å®šä¹‰å¥½çš„è¿™äº›é¢†åŸŸæ¨¡å‹æ¥å®Œæˆã€‚</li>
<li><strong>è¶Šå¤æ‚çš„ç³»ç»Ÿï¼Œå¯¹ä»£ç çš„å¤ç”¨æ€§ã€æ˜“ç»´æŠ¤æ€§è¦æ±‚å°±è¶Šé«˜ï¼Œæˆ‘ä»¬å°±è¶Šåº”è¯¥èŠ±æ›´å¤šçš„æ—¶é—´å’Œç²¾åŠ›åœ¨å‰æœŸè®¾è®¡ä¸Šã€‚</strong> è€ŒåŸºäºå……è¡€æ¨¡å‹çš„ DDD å¼€å‘æ¨¡å¼ï¼Œæ­£å¥½éœ€è¦æˆ‘ä»¬å‰æœŸåšå¤§é‡çš„ä¸šåŠ¡è°ƒç ”ã€é¢†åŸŸæ¨¡å‹è®¾è®¡ï¼Œæ‰€ä»¥å®ƒæ›´åŠ é€‚åˆè¿™ç§å¤æ‚ç³»ç»Ÿçš„å¼€å‘ã€‚</li>
</ol>
<h2 id="shareåˆ†äº«ä¸€ç¯‡æœ‰è§‚ç‚¹çš„æ–‡ç« "><a class="markdownIt-Anchor" href="#shareåˆ†äº«ä¸€ç¯‡æœ‰è§‚ç‚¹çš„æ–‡ç« "></a> Shareâ€”â€”åˆ†äº«ä¸€ç¯‡æœ‰è§‚ç‚¹çš„æ–‡ç« </h2>
<ul>
<li><a href="https://coolshell.cn/articles/20533.html" target="_blank">[ ä½¿ç”¨ç®€å•çš„é€»è¾‘æ–¹æ³•è¿›è¡Œç‹¬ç«‹æ€è€ƒ ]</a></li>
</ul>
<h3 id="ç¬”è®°"><a class="markdownIt-Anchor" href="#ç¬”è®°"></a> ç¬”è®°ï¼š</h3>
<ol>
<li><strong>äº”æ­¥æ€è€ƒï¼š</strong>
<ol>
<li>ä¿¡æ¯æ•°æ®å¯è€ƒè¯ï¼›</li>
<li>å¤„ç†é›†åˆå’Œå…¶åŒ…å«å…³ç³»ï¼›
<ul>
<li><em>åœ¨æ•°å­¦çš„é€»è¾‘åŒ…å«ä¸­ï¼Œè¶…é›†çš„å®šä¹‰å¯ä»¥é€‚ç”¨äºå­é›†ï¼Œé€šè¿‡å­é›†çš„ç‰¹å¾å¯ä»¥å¯¹è¶…é›†è¿›è¡Œæ¢ç´¢ï¼Œä½†æ˜¯æ²¡æ³•å®šä¹‰è¶…é›†ã€‚</em></li>
<li><em>é›†åˆçš„å¤§å°ä¹Ÿæ˜¯ä¸€ä¸ªå¾ˆé‡è¦çš„äº‹ï¼Œå¹¸å­˜è€…åå·®ä¼šæ˜¯ä¸€ä¸ªå¾ˆå®¹æ˜“è®©äººæ‰ä¸‹å»çš„é™·é˜±ï¼Œå› ä¸ºå¯èƒ½ä¼šæœ‰å¾ˆå¤§çš„æ ·æœ¬é›†å¯èƒ½åœ¨ä½ çš„è§†çº¿ç›²åŒºã€‚</em></li>
</ul>
</li>
<li>å¤„ç†é€»è¾‘å› æœå…³ç³»ï¼›
<ul>
<li><em>å› æœå…³ç³»å‡ºé—®é¢˜çš„æ–‡ç« è¯»å¤šäº†æ˜¯å¯¹å¤§è„‘æœ‰æŸä¼¤çš„ï¼Œè¦å°½é‡è¿œç¦»ã€‚</em></li>
</ul>
</li>
<li>æ‰¾åˆ°é è°±çš„åŸºå‡†çº¿ï¼›
<ul>
<li><em>æ™ºè€…å»ºæ¡¥ï¼Œæ„šè€…å»ºå¢™</em></li>
</ul>
</li>
<li>æ›´åŠ æ·±å…¥å’Œé«˜ç»´æ€è€ƒï¼›</li>
</ol>
</li>
</ol>
]]></content>
      
        
        <tags>
            
            <tag> æ‰“å¡ </tag>
            
            <tag> ARTS </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[ARTS æ‰“å¡â€”â€”Weekly â‘ ]]></title>
      <url>http://tech.noexception.cn/2021/05/11/arts-01/</url>
      <content type="html"><![CDATA[<p>æ—¥æ‹±ä¸€å’ï¼ŒåŠŸä¸å”æã€‚</p>
<a id="more"></a>
<h2 id="algorithmç®—æ³•é¢˜"><a class="markdownIt-Anchor" href="#algorithmç®—æ³•é¢˜"></a> Algorithmâ€”â€”ç®—æ³•é¢˜</h2>
<h3 id="æ¨è¾‰ä¸‰è§’"><a class="markdownIt-Anchor" href="#æ¨è¾‰ä¸‰è§’"></a> æ¨è¾‰ä¸‰è§’</h3>
<h4 id="é—®é¢˜æè¿°"><a class="markdownIt-Anchor" href="#é—®é¢˜æè¿°"></a> é—®é¢˜æè¿°ï¼š</h4>
<blockquote>
<p>ç»™å®šä¸€ä¸ªéè´Ÿæ•´æ•° numRowsï¼Œç”Ÿæˆæ¨è¾‰ä¸‰è§’çš„å‰ numRows è¡Œã€‚</br><br />
åœ¨æ¨è¾‰ä¸‰è§’ä¸­ï¼Œæ¯ä¸ªæ•°æ˜¯å®ƒå·¦ä¸Šæ–¹å’Œå³ä¸Šæ–¹çš„æ•°çš„å’Œã€‚<br />
<img src="./Snip20210512_83.png" alt="description" /></p>
</blockquote>
<h4 id="è§£é¢˜æ€è·¯"><a class="markdownIt-Anchor" href="#è§£é¢˜æ€è·¯"></a> è§£é¢˜æ€è·¯ï¼š</h4>
<ul>
<li>é¦–å…ˆçœ‹æ¨è¾‰ä¸‰è§’çš„è§„å¾‹ï¼š
<ol>
<li>è¡Œæ•°è·Ÿä¸ªæ•°ç›¸ç­‰</li>
<li>æ¯ä¸€è¡Œçš„æ€»å’Œç­‰äº2çš„n-1æ¬¡æ–¹ï¼Œnä¸ºå½“å‰è¡Œæ•°</li>
<li>æ¯è¡Œéƒ½æ˜¯å›æ–‡</li>
<li>æ¯è¡Œç¬¬äºŒä¸ªæ•°ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰ï¼Œéƒ½æ˜¯n-1ï¼Œä¸”nä¸ºå½“å‰è¡Œæ•°</li>
<li>ä»ç¬¬ä¸€è¡Œå¼€å§‹ç”Ÿæˆçš„è¯ï¼Œå¥‡æ•°è¡Œä¸­é—´é‚£ä¸ªæ•°ï¼Œå°±æ­£å¥½ç­‰äºä¸Šä¸€è¡Œä¸­é—´ä¸¤ä¸ªæ•°ä¹‹å’Œ</li>
<li>é¦–å…ˆç”Ÿæˆå½“å‰èˆªçš„å‰ä¸€åŠçš„æ•°å­—ï¼Œå‰©ä¸‹çš„æ ¹æ®å…ˆå‰ç”Ÿæˆçš„å€’åºæ’å…¥å³å¯</li>
</ol>
</li>
<li>å¤„ç†æµç¨‹å¤§è‡´ä¸Šå°±åˆ†ä¸ºï¼š
<ul>
<li>è®¡ç®—å¹¶æ ‡è®°å½“å‰ç”Ÿæˆè¡Œçš„ä¸­ä½åæ ‡ï¼Œå¹¶æ ‡è®°å½“å‰è¡Œæ˜¯å¦æ˜¯å¥‡æ•°è¡Œï¼ˆå¥‡æ•°è¡Œéœ€è¦ç”Ÿæˆå›æ–‡æ•°åˆ—ä¸­çš„æœ€å¤§å€¼ï¼‰</li>
<li>è®¡ç®—å¹¶ç”Ÿæˆå½“å‰è¡Œå‰åŠéƒ¨åˆ†æ•°æ®</li>
<li>è®¡ç®—å¥‡æ•°è¡Œå›æ–‡ä¸­é—´æ•°å€¼</li>
<li>å°†å‰åŠéƒ¨åˆ†æ•°å€¼å€’åºæ’å…¥å½“å‰è¡Œä¸­ï¼Œä¸å…¨æ•°æ®</li>
</ul>
</li>
</ul>
<h4 id="è§£ç­”ä»£ç "><a class="markdownIt-Anchor" href="#è§£ç­”ä»£ç "></a> è§£ç­”ä»£ç ï¼š</h4>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; generate(<span class="keyword">int</span> numRows) &#123;</span><br><span class="line">		List&lt;List&lt;Integer&gt;&gt; resultArray = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">		List&lt;Integer&gt; subArray = <span class="keyword">null</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; numRows; i++) &#123;</span><br><span class="line">			subArray = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">			<span class="keyword">int</span> mid = (i + <span class="number">1</span>) / <span class="number">2</span>;</span><br><span class="line">			<span class="keyword">int</span> mod = (i + <span class="number">1</span>) % <span class="number">2</span>;</span><br><span class="line">			<span class="keyword">if</span> (mid &lt; <span class="number">1</span>) &#123;</span><br><span class="line">				subArray.add(<span class="number">1</span>);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; mid; j++) &#123;</span><br><span class="line">				<span class="keyword">if</span> (j == <span class="number">0</span>) &#123;</span><br><span class="line">					subArray.add(<span class="number">1</span>);</span><br><span class="line">					<span class="keyword">continue</span>;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">if</span> (j == <span class="number">1</span>) &#123;</span><br><span class="line">					subArray.add(i);</span><br><span class="line">					<span class="keyword">continue</span>;</span><br><span class="line">				&#125;</span><br><span class="line">				subArray.add(resultArray.get(i - <span class="number">1</span>).get(j) + resultArray.get(i - <span class="number">1</span>).get(j - <span class="number">1</span>));</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span> (mod == <span class="number">1</span> &amp;&amp; mid &gt;= <span class="number">1</span>) &#123;</span><br><span class="line">				subArray.add(resultArray.get(i - <span class="number">1</span>).get(mid) + resultArray.get(i - <span class="number">1</span>).get(mid - <span class="number">1</span>));</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> k = mid; k &gt; <span class="number">0</span>; k--) &#123;</span><br><span class="line">				subArray.add(subArray.get(k - <span class="number">1</span>));</span><br><span class="line">			&#125;</span><br><span class="line">			resultArray.add(subArray);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> resultArray;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="reviewé˜…è¯»ä¸€ç¯‡è‹±æ–‡æ–‡ç« "><a class="markdownIt-Anchor" href="#reviewé˜…è¯»ä¸€ç¯‡è‹±æ–‡æ–‡ç« "></a> Reviewâ€”â€”é˜…è¯»ä¸€ç¯‡è‹±æ–‡æ–‡ç« </h2>
<ul>
<li><a href="https://javascript.plainenglish.io/what-is-http-3-and-why-does-it-matter-cb7d7b4b600f" target="_blank">[ What is HTTP/3, and Why Does it Matter? ]</a></li>
</ul>
<h4 id="çœ‹æ³•"><a class="markdownIt-Anchor" href="#çœ‹æ³•"></a> çœ‹æ³•ï¼š</h4>
<ul>
<li>HTTP/3 åŸºäº Google åœ¨2012å¹´å‘å¸ƒçš„ QUIC åè®®ï¼Œæ·»åŠ äº†å¤šé¡¹åŠŸèƒ½ï¼Œæ¯”åŸæ¥åŸºäºTCP/IPåè®®çš„HTTPè¦å¿«éå¸¸éå¸¸å¤šï¼ŒQUIC åè®®åŸºäº UDP å®ç°ï¼Œæ— éœ€3æ¬¡æ¡æ‰‹ï¼Œå…·æœ‰å¿«é€Ÿå®‰å…¨çš„ç‰¹ç‚¹</li>
<li>æ”¯æŒæƒ…å†µï¼š
<ul>
<li>Chrome: 87+</li>
<li>Edge: 87+</li>
<li>Firefox: 88+</li>
<li>Safari: 14+ï¼ˆéœ€è¦åœ¨å¼€å¯è¯•éªŒåŠŸèƒ½æ‰èƒ½æ”¯æŒï¼‰</li>
</ul>
</li>
</ul>
<h2 id="tipå­¦ä¹ ä¸€ä¸ªæŠ€å·§"><a class="markdownIt-Anchor" href="#tipå­¦ä¹ ä¸€ä¸ªæŠ€å·§"></a> Tipâ€”â€”å­¦ä¹ ä¸€ä¸ªæŠ€å·§</h2>
<h3 id="ç®€å•å·¥å‚å·¥å‚æ–¹æ³•çš„ä¸€ç§ç‰¹ä¾‹"><a class="markdownIt-Anchor" href="#ç®€å•å·¥å‚å·¥å‚æ–¹æ³•çš„ä¸€ç§ç‰¹ä¾‹"></a> ç®€å•å·¥å‚ï¼ˆå·¥å‚æ–¹æ³•çš„ä¸€ç§ç‰¹ä¾‹ï¼‰</h3>
<ul>
<li>å…ˆæ¥çœ‹ä¸€æ®µæœªä½¿ç”¨å·¥å‚æ¨¡å¼çš„ä»£ç </li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RuleConfigSource</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> RuleConfig <span class="title">load</span><span class="params">(String ruleConfigFilePath)</span> </span>&#123;</span><br><span class="line">    String ruleConfigFileExtension = getFileExtension(ruleConfigFilePath);</span><br><span class="line">    IRuleConfigParser parser = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">if</span> (<span class="string">"json"</span>.equalsIgnoreCase(ruleConfigFileExtension)) &#123;</span><br><span class="line">      parser = <span class="keyword">new</span> JsonRuleConfigParser();</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="string">"xml"</span>.equalsIgnoreCase(ruleConfigFileExtension)) &#123;</span><br><span class="line">      parser = <span class="keyword">new</span> XmlRuleConfigParser();</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="string">"yaml"</span>.equalsIgnoreCase(ruleConfigFileExtension)) &#123;</span><br><span class="line">      parser = <span class="keyword">new</span> YamlRuleConfigParser();</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="string">"properties"</span>.equalsIgnoreCase(ruleConfigFileExtension)) &#123;</span><br><span class="line">      parser = <span class="keyword">new</span> PropertiesRuleConfigParser();</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> InvalidRuleConfigException(</span><br><span class="line">             <span class="string">"Rule config file format is not supported: "</span> + ruleConfigFilePath);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    String configText = <span class="string">""</span>;</span><br><span class="line">    <span class="comment">//ä»ruleConfigFilePathæ–‡ä»¶ä¸­è¯»å–é…ç½®æ–‡æœ¬åˆ°configTextä¸­</span></span><br><span class="line">    RuleConfig ruleConfig = parser.parse(configText);</span><br><span class="line">    <span class="keyword">return</span> ruleConfig;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">private</span> String <span class="title">getFileExtension</span><span class="params">(String filePath)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//...è§£ææ–‡ä»¶åè·å–æ‰©å±•åï¼Œæ¯”å¦‚rule.jsonï¼Œè¿”å›json</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">"json"</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ä¸ºäº†è®©ä»£ç é€»è¾‘æ›´åŠ æ¸…æ™°ï¼Œå¯è¯»æ€§æ›´å¥½ï¼Œæˆ‘ä»¬è¦å–„äºå°†åŠŸèƒ½ç‹¬ç«‹çš„ä»£ç å°è£…æˆå‡½æ•°ã€‚</p>
</blockquote>
<ul>
<li>æˆ‘ä»¬å¯ä»¥å°†ä»£ç ä¸­è®¾è®¡ parser åˆ›å»ºçš„éƒ¨åˆ†é€»è¾‘å‰¥ç¦»å‡ºæ¥ï¼ŒæŠ½è±¡æˆ <code>createParser()</code> å‡½æ•°ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RuleConfigSource</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> RuleConfig <span class="title">load</span><span class="params">(String ruleConfigFilePath)</span> </span>&#123;</span><br><span class="line">    String ruleConfigFileExtension = getFileExtension(ruleConfigFilePath);</span><br><span class="line">    IRuleConfigParser parser = createParser(ruleConfigFileExtension);</span><br><span class="line">    <span class="keyword">if</span> (parser == <span class="keyword">null</span>) &#123;</span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> InvalidRuleConfigException(</span><br><span class="line">              <span class="string">"Rule config file format is not supported: "</span> + ruleConfigFilePath);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    String configText = <span class="string">""</span>;</span><br><span class="line">    <span class="comment">//ä»ruleConfigFilePathæ–‡ä»¶ä¸­è¯»å–é…ç½®æ–‡æœ¬åˆ°configTextä¸­</span></span><br><span class="line">    RuleConfig ruleConfig = parser.parse(configText);</span><br><span class="line">    <span class="keyword">return</span> ruleConfig;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">private</span> String <span class="title">getFileExtension</span><span class="params">(String filePath)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//...è§£ææ–‡ä»¶åè·å–æ‰©å±•åï¼Œæ¯”å¦‚rule.jsonï¼Œè¿”å›json</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">"json"</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">private</span> IRuleConfigParser <span class="title">createParser</span><span class="params">(String configFormat)</span> </span>&#123;</span><br><span class="line">    IRuleConfigParser parser = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">if</span> (<span class="string">"json"</span>.equalsIgnoreCase(configFormat)) &#123;</span><br><span class="line">      parser = <span class="keyword">new</span> JsonRuleConfigParser();</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="string">"xml"</span>.equalsIgnoreCase(configFormat)) &#123;</span><br><span class="line">      parser = <span class="keyword">new</span> XmlRuleConfigParser();</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="string">"yaml"</span>.equalsIgnoreCase(configFormat)) &#123;</span><br><span class="line">      parser = <span class="keyword">new</span> YamlRuleConfigParser();</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="string">"properties"</span>.equalsIgnoreCase(configFormat)) &#123;</span><br><span class="line">      parser = <span class="keyword">new</span> PropertiesRuleConfigParser();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> parser;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>ä¸ºäº†è®©ç±»çš„èŒè´£æ›´åŠ å•ä¸€ã€ä»£ç æ›´åŠ æ¸…æ™°ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥è¿›ä¸€æ­¥å°† <code>createParser()</code> å‡½æ•°å‰¥ç¦»åˆ°ä¸€ä¸ªç‹¬ç«‹çš„ç±»ä¸­ï¼Œè®©è¿™ä¸ªç±»åªè´Ÿè´£å¯¹è±¡çš„åˆ›å»ºã€‚</li>
<li>è€Œè¿™ä¸ªç±»å°±æ˜¯æˆ‘ä»¬æ‰€è¯´çš„ <strong>ç®€å•å·¥å‚æ¨¡å¼ç±»</strong> ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RuleConfigSource</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> RuleConfig <span class="title">load</span><span class="params">(String ruleConfigFilePath)</span> </span>&#123;</span><br><span class="line">    String ruleConfigFileExtension = getFileExtension(ruleConfigFilePath);</span><br><span class="line">    IRuleConfigParser parser = RuleConfigParserFactory.createParser(ruleConfigFileExtension);</span><br><span class="line">    <span class="keyword">if</span> (parser == <span class="keyword">null</span>) &#123;</span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> InvalidRuleConfigException(</span><br><span class="line">              <span class="string">"Rule config file format is not supported: "</span> + ruleConfigFilePath);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    String configText = <span class="string">""</span>;</span><br><span class="line">    <span class="comment">//ä»ruleConfigFilePathæ–‡ä»¶ä¸­è¯»å–é…ç½®æ–‡æœ¬åˆ°configTextä¸­</span></span><br><span class="line">    RuleConfig ruleConfig = parser.parse(configText);</span><br><span class="line">    <span class="keyword">return</span> ruleConfig;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">private</span> String <span class="title">getFileExtension</span><span class="params">(String filePath)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//...è§£ææ–‡ä»¶åè·å–æ‰©å±•åï¼Œæ¯”å¦‚rule.jsonï¼Œè¿”å›json</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">"json"</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç®€å•å·¥å‚æ¨¡å¼ç±»â†“â†“â†“</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RuleConfigParserFactory</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> IRuleConfigParser <span class="title">createParser</span><span class="params">(String configFormat)</span> </span>&#123;</span><br><span class="line">    IRuleConfigParser parser = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">if</span> (<span class="string">"json"</span>.equalsIgnoreCase(configFormat)) &#123;</span><br><span class="line">      parser = <span class="keyword">new</span> JsonRuleConfigParser();</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="string">"xml"</span>.equalsIgnoreCase(configFormat)) &#123;</span><br><span class="line">      parser = <span class="keyword">new</span> XmlRuleConfigParser();</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="string">"yaml"</span>.equalsIgnoreCase(configFormat)) &#123;</span><br><span class="line">      parser = <span class="keyword">new</span> YamlRuleConfigParser();</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="string">"properties"</span>.equalsIgnoreCase(configFormat)) &#123;</span><br><span class="line">      parser = <span class="keyword">new</span> PropertiesRuleConfigParser();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> parser;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>åœ¨ä¸Šé¢çš„ä»£ç å®ç°ä¸­ï¼Œæˆ‘ä»¬æ¯æ¬¡è°ƒç”¨ <code>RuleConfigParserFactory</code> çš„ <code>createParser()</code> çš„æ—¶å€™ï¼Œéƒ½è¦åˆ›å»ºä¸€ä¸ªæ–°çš„ parserã€‚</li>
<li>å®é™…ä¸Šï¼Œå¦‚æœ parser å¯ä»¥æœç”¨ï¼Œä¸ºäº†èŠ‚çœå†…å­˜å’Œå¯¹è±¡åˆ›å»ºçš„æ—¶é—´ï¼Œæˆ‘ä»¬å¯ä»¥å°† parser äº‹å…ˆåˆ›å»ºå¥½ç¼“å­˜èµ·æ¥ã€‚</li>
<li>å½“è°ƒç”¨ createParser() å‡½æ•°çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä»ç¼“å­˜ä¸­å–å‡º parser å¯¹è±¡ç›´æ¥ä½¿ç”¨ã€‚</li>
<li>æœ‰ç‚¹ç±»ä¼¼äºï¼Œå•åˆ©æ¨¡å¼ å’Œ ç®€å•å·¥å‚æ¨¡å¼ çš„ç»“åˆã€‚ä½œä¸ºç®€å•å·¥å‚æ¨¡å¼çš„ç¬¬äºŒç§å®ç°æ–¹å¼ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RuleConfigParserFactory</span> </span>&#123;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Map&lt;String, RuleConfigParser&gt; cachedParsers = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> &#123;</span><br><span class="line">    cachedParsers.put(<span class="string">"json"</span>, <span class="keyword">new</span> JsonRuleConfigParser());</span><br><span class="line">    cachedParsers.put(<span class="string">"xml"</span>, <span class="keyword">new</span> XmlRuleConfigParser());</span><br><span class="line">    cachedParsers.put(<span class="string">"yaml"</span>, <span class="keyword">new</span> YamlRuleConfigParser());</span><br><span class="line">    cachedParsers.put(<span class="string">"properties"</span>, <span class="keyword">new</span> PropertiesRuleConfigParser());</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> IRuleConfigParser <span class="title">createParser</span><span class="params">(String configFormat)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (configFormat == <span class="keyword">null</span> || configFormat.isEmpty()) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">null</span>;<span class="comment">//è¿”å›nullè¿˜æ˜¯IllegalArgumentExceptionå…¨å‡­ä½ è‡ªå·±è¯´äº†ç®—</span></span><br><span class="line">    &#125;</span><br><span class="line">    IRuleConfigParser parser = cachedParsers.get(configFormat.toLowerCase());</span><br><span class="line">    <span class="keyword">return</span> parser;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>åœ¨ç®€å•å·¥å‚æ¨¡å¼çš„ä»£ç å®ç°ä¸­ï¼Œæœ‰å¤šå¤„ if åˆ†æ”¯åˆ¤æ–­é€»è¾‘ï¼Œè¿èƒŒå¼€é—­åŸåˆ™ï¼Œä½†æƒè¡¡æ‰©å±•æ€§å’Œå¯è¯»æ€§ï¼Œè¿™æ ·çš„ä»£ç å®ç°åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹æ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚</li>
<li>åº”ç”¨å¤šæ€æˆ–è®¾è®¡æ¨¡å¼æ¥æ›¿ä»£ if åˆ†æ”¯åˆ¤æ–­é€»è¾‘ï¼Œå®ƒè™½ç„¶æé«˜äº†ä»£ç çš„æ‰©å±•æ€§ï¼Œæ›´åŠ ç¬¦åˆå¼€é—­åŸåˆ™ï¼Œä½†ä¹Ÿå¢åŠ äº†ç±»çš„ä¸ªæ•°ï¼Œç‰ºç‰²äº†ä»£ç çš„å¯è¯»æ€§ã€‚</li>
</ul>
<h3 id="å·¥å‚æ–¹æ³•"><a class="markdownIt-Anchor" href="#å·¥å‚æ–¹æ³•"></a> å·¥å‚æ–¹æ³•</h3>
<ul>
<li>å¦‚æœéè¦å»é™¤æ‰ä»£ç ä¸­çš„ if åˆ†æ”¯é€»è¾‘ï¼Œæ¯”è¾ƒç»å…¸çš„æ–¹å¼å°±æ˜¯åˆ©ç”¨å¤šæ€ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">IRuleConfigParserFactory</span> </span>&#123;</span><br><span class="line">  <span class="function">IRuleConfigParser <span class="title">createParser</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JsonRuleConfigParserFactory</span> <span class="keyword">implements</span> <span class="title">IRuleConfigParserFactory</span> </span>&#123;</span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> IRuleConfigParser <span class="title">createParser</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> JsonRuleConfigParser();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">XmlRuleConfigParserFactory</span> <span class="keyword">implements</span> <span class="title">IRuleConfigParserFactory</span> </span>&#123;</span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> IRuleConfigParser <span class="title">createParser</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> XmlRuleConfigParser();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">YamlRuleConfigParserFactory</span> <span class="keyword">implements</span> <span class="title">IRuleConfigParserFactory</span> </span>&#123;</span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> IRuleConfigParser <span class="title">createParser</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> YamlRuleConfigParser();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PropertiesRuleConfigParserFactory</span> <span class="keyword">implements</span> <span class="title">IRuleConfigParserFactory</span> </span>&#123;</span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> IRuleConfigParser <span class="title">createParser</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> PropertiesRuleConfigParser();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>
<p>ä»¥ä¸Šï¼Œå°±æ˜¯<code>å·¥å‚æ–¹æ³•æ¨¡å¼</code>çš„å…¸å‹ä»£ç å®ç°æ–¹å¼ã€‚<em>è¿™æ ·å½“æˆ‘ä»¬æ–°å¢ä¸€ç§ parser çš„æ—¶å€™ï¼Œåªéœ€è¦æ–°å¢ä¸€ä¸ªå®ç°äº† IRuleConfigPArserFactory æ¥å£çš„ Factory ç±»å³å¯ã€‚</em>ã€‚</p>
</li>
<li>
<p>æ‰€ä»¥ï¼Œ<strong>å·¥å‚æ–¹æ³•æ¯”èµ·ç®€å•å·¥å‚æ¨¡å¼æ›´åŠ ç¬¦åˆå¼€é—­åŸåˆ™ã€‚</strong></p>
</li>
<li>
<p>ä½†æ˜¯è¿™é‡Œé¢å­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯ä¸Šå±‚ä½¿ç”¨ç±»ï¼Œåˆä¼šå˜ä¸ºåˆç‰ˆé‚£æ ·å·¥å‚å¯¹è±¡çš„åˆ›å»ºé€»è¾‘è€¦åˆè¿›äº† load() å‡½æ•°</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RuleConfigSource</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> RuleConfig <span class="title">load</span><span class="params">(String ruleConfigFilePath)</span> </span>&#123;</span><br><span class="line">    String ruleConfigFileExtension = getFileExtension(ruleConfigFilePath);</span><br><span class="line"></span><br><span class="line">    IRuleConfigParserFactory parserFactory = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">if</span> (<span class="string">"json"</span>.equalsIgnoreCase(ruleConfigFileExtension)) &#123;</span><br><span class="line">      parserFactory = <span class="keyword">new</span> JsonRuleConfigParserFactory();</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="string">"xml"</span>.equalsIgnoreCase(ruleConfigFileExtension)) &#123;</span><br><span class="line">      parserFactory = <span class="keyword">new</span> XmlRuleConfigParserFactory();</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="string">"yaml"</span>.equalsIgnoreCase(ruleConfigFileExtension)) &#123;</span><br><span class="line">      parserFactory = <span class="keyword">new</span> YamlRuleConfigParserFactory();</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="string">"properties"</span>.equalsIgnoreCase(ruleConfigFileExtension)) &#123;</span><br><span class="line">      parserFactory = <span class="keyword">new</span> PropertiesRuleConfigParserFactory();</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> InvalidRuleConfigException(<span class="string">"Rule config file format is not supported: "</span> + ruleConfigFilePath);</span><br><span class="line">    &#125;</span><br><span class="line">    IRuleConfigParser parser = parserFactory.createParser();</span><br><span class="line"></span><br><span class="line">    String configText = <span class="string">""</span>;</span><br><span class="line">    <span class="comment">//ä»ruleConfigFilePathæ–‡ä»¶ä¸­è¯»å–é…ç½®æ–‡æœ¬åˆ°configTextä¸­</span></span><br><span class="line">    RuleConfig ruleConfig = parser.parse(configText);</span><br><span class="line">    <span class="keyword">return</span> ruleConfig;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">private</span> String <span class="title">getFileExtension</span><span class="params">(String filePath)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//...è§£ææ–‡ä»¶åè·å–æ‰©å±•åï¼Œæ¯”å¦‚rule.jsonï¼Œè¿”å›json</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">"json"</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>è§£å†³æ–¹æ³•ï¼š<strong>æˆ‘ä»¬å¯ä»¥ä¸ºå·¥å‚ç±»å†åˆ›å»ºä¸€ä¸ªç®€å•å·¥å‚ï¼Œä¹Ÿå°±æ˜¯å·¥å‚çš„å·¥å‚ï¼Œç”¨æ¥åˆ›å»ºå·¥å‚ç±»å¯¹è±¡ã€‚</strong></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// RuleConfigParserFactoryMap ç±»æ˜¯åˆ›å»ºå·¥å‚å¯¹è±¡çš„å·¥å‚ç±»ï¼ŒgetParserFactory() è¿”å›çš„æ˜¯ç¼“å­˜å¥½çš„å•ä¾‹å·¥å‚å¯¹è±¡ã€‚</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RuleConfigSource</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> RuleConfig <span class="title">load</span><span class="params">(String ruleConfigFilePath)</span> </span>&#123;</span><br><span class="line">    String ruleConfigFileExtension = getFileExtension(ruleConfigFilePath);</span><br><span class="line"></span><br><span class="line">    IRuleConfigParserFactory parserFactory = RuleConfigParserFactoryMap.getParserFactory(ruleConfigFileExtension);</span><br><span class="line">    <span class="keyword">if</span> (parserFactory == <span class="keyword">null</span>) &#123;</span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> InvalidRuleConfigException(<span class="string">"Rule config file format is not supported: "</span> + ruleConfigFilePath);</span><br><span class="line">    &#125;</span><br><span class="line">    IRuleConfigParser parser = parserFactory.createParser();</span><br><span class="line"></span><br><span class="line">    String configText = <span class="string">""</span>;</span><br><span class="line">    <span class="comment">//ä»ruleConfigFilePathæ–‡ä»¶ä¸­è¯»å–é…ç½®æ–‡æœ¬åˆ°configTextä¸­</span></span><br><span class="line">    RuleConfig ruleConfig = parser.parse(configText);</span><br><span class="line">    <span class="keyword">return</span> ruleConfig;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">private</span> String <span class="title">getFileExtension</span><span class="params">(String filePath)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//...è§£ææ–‡ä»¶åè·å–æ‰©å±•åï¼Œæ¯”å¦‚rule.jsonï¼Œè¿”å›json</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">"json"</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å› ä¸ºå·¥å‚ç±»åªåŒ…å«æ–¹æ³•ï¼Œä¸åŒ…å«æˆå‘˜å˜é‡ï¼Œå®Œå…¨å¯ä»¥å¤ç”¨ï¼Œ</span></span><br><span class="line"><span class="comment">//ä¸éœ€è¦æ¯æ¬¡éƒ½åˆ›å»ºæ–°çš„å·¥å‚ç±»å¯¹è±¡ï¼Œæ‰€ä»¥ï¼Œç®€å•å·¥å‚æ¨¡å¼çš„ç¬¬äºŒç§å®ç°æ€è·¯æ›´åŠ åˆé€‚ã€‚</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RuleConfigParserFactoryMap</span> </span>&#123; <span class="comment">//å·¥å‚çš„å·¥å‚</span></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Map&lt;String, IRuleConfigParserFactory&gt; cachedFactories = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> &#123;</span><br><span class="line">    cachedFactories.put(<span class="string">"json"</span>, <span class="keyword">new</span> JsonRuleConfigParserFactory());</span><br><span class="line">    cachedFactories.put(<span class="string">"xml"</span>, <span class="keyword">new</span> XmlRuleConfigParserFactory());</span><br><span class="line">    cachedFactories.put(<span class="string">"yaml"</span>, <span class="keyword">new</span> YamlRuleConfigParserFactory());</span><br><span class="line">    cachedFactories.put(<span class="string">"properties"</span>, <span class="keyword">new</span> PropertiesRuleConfigParserFactory());</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> IRuleConfigParserFactory <span class="title">getParserFactory</span><span class="params">(String type)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (type == <span class="keyword">null</span> || type.isEmpty()) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    IRuleConfigParserFactory parserFactory = cachedFactories.get(type.toLowerCase());</span><br><span class="line">    <span class="keyword">return</span> parserFactory;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="é—®é¢˜ä»€ä¹ˆæ—¶å€™è¯¥ç”¨å·¥å‚æ–¹æ³•æ¨¡å¼è€Œéç®€å•å·¥å‚æ¨¡å¼"><a class="markdownIt-Anchor" href="#é—®é¢˜ä»€ä¹ˆæ—¶å€™è¯¥ç”¨å·¥å‚æ–¹æ³•æ¨¡å¼è€Œéç®€å•å·¥å‚æ¨¡å¼"></a> é—®é¢˜ï¼šä»€ä¹ˆæ—¶å€™è¯¥ç”¨å·¥å‚æ–¹æ³•æ¨¡å¼ï¼Œè€Œéç®€å•å·¥å‚æ¨¡å¼ï¼Ÿ</h4>
<ul>
<li>åŸºäºå•ä¸€èŒè´£çš„è®¾è®¡æ€æƒ³ï¼Œå½“åˆ›å»ºå¯¹è±¡é€»è¾‘æ¯”è¾ƒå¤æ‚ï¼Œä¸åªæ˜¯ç®€å•çš„ new ä¸€ä¸‹å°±å¯ä»¥ï¼Œè€Œæ˜¯è¦ç»„åˆå…¶ä»–ç±»å¯¹è±¡ï¼Œåšå„ç§åˆå§‹åŒ–æ“ä½œçš„æ—¶å€™ï¼Œæˆ‘ä»¬æ¨èä½¿ç”¨å·¥å‚æ–¹æ³•æ¨¡å¼ï¼Œå°†å¤æ‚çš„åˆ›å»ºé€»è¾‘æ‹†åˆ†åˆ°å¤šä¸ªå·¥å‚ç±»ä¸­ï¼Œè®©æ¯ä¸ªå·¥å‚ç±»éƒ½ä¸è‡³äºè¿‡äºå¤æ‚ã€‚</li>
<li>è€Œä½¿ç”¨ç®€å•å·¥å‚æ¨¡å¼ï¼Œå°†æ‰€æœ‰çš„åˆ›å»ºé€»è¾‘éƒ½æ”¾åˆ°ä¸€ä¸ªå·¥å‚ç±»ä¸­ï¼Œä¼šå¯¼è‡´è¿™ä¸ªå·¥å‚ç±»å˜å¾—å¾ˆå¤æ‚ã€‚</li>
<li>å¦‚æœå¯¹è±¡ä¸å¯å¤ç”¨ï¼Œé‚£å·¥å‚æ¯æ¬¡éƒ½è¦è¿”å›ä¸åŒçš„å¯¹è±¡ï¼š
<ul>
<li>ä½¿ç”¨ç®€å•å·¥å‚æ¨¡å¼å®ç°ï¼ŒåŒ…å« if åˆ†æ”¯é€»è¾‘çš„å®ç°æ–¹å¼ã€‚</li>
<li>é¿å… if-else åˆ†æ”¯é€»è¾‘ï¼Œå°±æ¨èä½¿ç”¨å·¥å‚æ–¹æ³•æ¨¡å¼ã€‚</li>
</ul>
</li>
</ul>
<h3 id="æŠ½è±¡å·¥å‚"><a class="markdownIt-Anchor" href="#æŠ½è±¡å·¥å‚"></a> æŠ½è±¡å·¥å‚</h3>
<ul>
<li>åœºæ™¯ï¼š
<ul>
<li>åœ¨ç®€å•å·¥å‚å’Œå·¥å‚æ–¹æ³•æ¨¡å¼ä¸­ï¼Œè§£æå™¨åªæ ¹æ®é…ç½®æ–‡ä»¶æ ¼å¼æ¥åˆ†ç±»ï¼Œä½†æ˜¯ï¼Œå¦‚æœç±»æœ‰ä¸¤ç§åˆ†ç±»æ–¹å¼ï¼Œæ¯”å¦‚ï¼Œæˆ‘ä»¬æ—¢å¯ä»¥æŒ‰ç…§é…ç½®æ–‡ä»¶æ ¼å¼æ¥åˆ†ç±»ï¼Œä¹Ÿå¯ä»¥æŒ‰ç…§è§£æçš„å¯¹è±¡æ¥åˆ†ç±»ã€‚</li>
<li>é’ˆå¯¹è¿™ç§ç‰¹æ®Šçš„åœºæ™¯ï¼Œå¦‚æœè¿˜æ˜¯ç»§ç»­ç”¨å·¥å‚æ–¹æ³•æ¥å®ç°çš„è¯ï¼Œæˆ‘ä»¬éœ€è¦é’ˆå¯¹æ¯ä¸ª parser éƒ½ç¼–å†™ä¸€ä¸ªå·¥å‚ç±»ã€‚å¦‚æœæœªæ¥è¿˜éœ€è¦å¢åŠ é’ˆå¯¹ä¸šåŠ¡é…ç½®çš„è§£æå™¨ï¼Œé‚£å°±è¦å†å¯¹åº”åœ°å¢åŠ å·¥å‚ç±»ã€‚</li>
</ul>
</li>
<li>è¿‡å¤šçš„ç±»ä¼šè®©ç³»ç»Ÿéš¾ç»´æŠ¤ã€‚</li>
<li>è§£å†³æ–¹å¼ï¼š
<ul>
<li>æŠ½è±¡å·¥å‚é’ˆå¯¹è¿™ç§ç‰¹æ®Šçš„åœºæ™¯è¯ç”Ÿã€‚æˆ‘ä»¬å¯ä»¥è®©ä¸€ä¸ªå·¥å‚è´Ÿè´£åˆ›å»ºè¿‡ä¸ªä¸åŒç±»å‹çš„å¯¹è±¡ï¼Œè€Œä¸æ˜¯åªåˆ›å»ºä¸€ç§ parser å¯¹è±¡ã€‚</li>
<li>è¿™æ ·å¯ä»¥æœ‰æ•ˆåœ°å‡å°‘å·¥å‚ç±»çš„ä¸ªæ•°ã€‚</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">IConfigParserFactory</span> </span>&#123;</span><br><span class="line">  <span class="function">IRuleConfigParser <span class="title">createRuleParser</span><span class="params">()</span></span>;</span><br><span class="line">  <span class="function">ISystemConfigParser <span class="title">createSystemParser</span><span class="params">()</span></span>;</span><br><span class="line">  <span class="comment">//æ­¤å¤„å¯ä»¥æ‰©å±•æ–°çš„parserç±»å‹ï¼Œæ¯”å¦‚IBizConfigParser</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JsonConfigParserFactory</span> <span class="keyword">implements</span> <span class="title">IConfigParserFactory</span> </span>&#123;</span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> IRuleConfigParser <span class="title">createRuleParser</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> JsonRuleConfigParser();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> ISystemConfigParser <span class="title">createSystemParser</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> JsonSystemConfigParser();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">XmlConfigParserFactory</span> <span class="keyword">implements</span> <span class="title">IConfigParserFactory</span> </span>&#123;</span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> IRuleConfigParser <span class="title">createRuleParser</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> XmlRuleConfigParser();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> ISystemConfigParser <span class="title">createSystemParser</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> XmlSystemConfigParser();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// çœç•¥YamlConfigParserFactoryå’ŒPropertiesConfigParserFactoryä»£ç </span></span><br></pre></td></tr></table></figure>
<h4 id="åº”ç”¨å·¥å‚æ¨¡å¼æœ€æœ¬è´¨çš„å‚è€ƒæ ‡å‡†"><a class="markdownIt-Anchor" href="#åº”ç”¨å·¥å‚æ¨¡å¼æœ€æœ¬è´¨çš„å‚è€ƒæ ‡å‡†"></a> åº”ç”¨å·¥å‚æ¨¡å¼æœ€æœ¬è´¨çš„å‚è€ƒæ ‡å‡†ï¼š</h4>
<ol>
<li><strong>å°è£…å˜åŒ–</strong>ï¼šåˆ›å»ºé€»è¾‘æœ‰å¯èƒ½å˜åŒ–ï¼Œå°è£…æˆå·¥å‚ç±»ä¹‹åï¼Œåˆ›å»ºé€»è¾‘çš„å˜æ›´å¯¹è°ƒç”¨è€…é€æ˜ï¼›</li>
<li><strong>ä»£ç å¤ç”¨</strong>ï¼šåˆ›å»ºä»£ç æŠ½ç¦»åˆ°ç‹¬ç«‹çš„å·¥å‚ç±»ä¹‹åå¯ä»¥å¤ç”¨ï¼›</li>
<li><strong>éš”ç¦»å¤æ‚æ€§</strong>ï¼šå°è£…å¤æ‚çš„åˆ›å»ºé€»è¾‘ï¼Œè°ƒç”¨è€…æ— éœ€äº†è§£å¦‚ä½•åˆ›å»ºå¯¹è±¡ï¼›</li>
<li><strong>æ§åˆ¶å¤æ‚åº¦</strong>ï¼šå°†åˆ›å»ºä»£ç æŠ½ç¦»å‡ºæ¥ï¼Œè®©åŸæœ¬çš„å‡½æ•°æˆ–ç±»èŒè´£æ›´å•ä¸€ï¼Œä»£ç æ›´ç®€æ´ï¼›</li>
</ol>
<h3 id="ä¸ºä»€ä¹ˆæ²¡äº‹ä¸è¦éšä¾¿ç”¨å·¥å‚æ¨¡å¼åˆ›å»ºå¯¹è±¡"><a class="markdownIt-Anchor" href="#ä¸ºä»€ä¹ˆæ²¡äº‹ä¸è¦éšä¾¿ç”¨å·¥å‚æ¨¡å¼åˆ›å»ºå¯¹è±¡"></a> ä¸ºä»€ä¹ˆæ²¡äº‹ä¸è¦éšä¾¿ç”¨å·¥å‚æ¨¡å¼åˆ›å»ºå¯¹è±¡</h3>
<h3 id="å·¥å‚æ¨¡å¼å’Œä¾èµ–æ³¨å…¥å®¹å™¨"><a class="markdownIt-Anchor" href="#å·¥å‚æ¨¡å¼å’Œä¾èµ–æ³¨å…¥å®¹å™¨"></a> å·¥å‚æ¨¡å¼å’Œä¾èµ–æ³¨å…¥å®¹å™¨</h3>
<h4 id="åŒºåˆ«"><a class="markdownIt-Anchor" href="#åŒºåˆ«"></a> åŒºåˆ«</h4>
<ol>
<li>å·¥å‚æ¨¡å¼ä¸­ï¼Œä¸€ä¸ªå·¥å‚ç±»åªè´Ÿè´£æŸä¸ªç±»å¯¹è±¡æˆ–è€…æŸä¸€ç»„ç›¸å…³ç±»å¯¹è±¡ï¼ˆç»§æ‰¿è‡ªåŒä¸€æŠ½è±¡ç±»æˆ–è€…æ¥å£çš„å­ç±»ï¼‰çš„åˆ›å»ºï¼›</li>
<li>DI å®¹å™¨è´Ÿè´£çš„æ˜¯æ•´ä¸ªåº”ç”¨ä¸­æ‰€æœ‰ç±»å¯¹è±¡çš„åˆ›å»ºï¼›</li>
<li>DI å®¹å™¨è¿˜éœ€è¦è´Ÿè´£é…ç½®ç±»çš„è§£æã€å¯¹è±¡å£°æ˜å‘¨æœŸçš„ç®¡ç†ï¼›</li>
</ol>
<h4 id="di-å®¹å™¨çš„æ ¸å¿ƒåŠŸèƒ½"><a class="markdownIt-Anchor" href="#di-å®¹å™¨çš„æ ¸å¿ƒåŠŸèƒ½"></a> DI å®¹å™¨çš„æ ¸å¿ƒåŠŸèƒ½</h4>
<h5 id="1-é…ç½®è§£æ"><a class="markdownIt-Anchor" href="#1-é…ç½®è§£æ"></a> 1. é…ç½®è§£æ</h5>
<ul>
<li>èƒŒæ™¯ï¼š
<ul>
<li>åœ¨å·¥å‚æ¨¡å¼ä¸­ï¼Œå·¥å‚ç±»è¦åˆ›å»ºå“ªä¸ªç±»å¯¹è±¡æ˜¯äº‹å…ˆç¡®å®šå¥½çš„ï¼Œå¹¶ä¸”æ˜¯å†™æ­»åœ¨å·¥å‚ç±»ä»£ç ä¸­çš„ã€‚ä½œä¸ºä¸€ä¸ªé€šç”¨çš„æ¡†æ¶æ¥è¯´ï¼Œ <strong>æ¡†æ¶ä»£ç è·Ÿåº”ç”¨ä»£ç åº”è¯¥æ˜¯é«˜åº¦è§£è€¦çš„ï¼ŒDI å®¹å™¨äº‹å…ˆå¹¶ä¸çŸ¥é“åº”ç”¨ä¼šåˆ›å»ºå“ªäº›å¯¹è±¡</strong> ï¼Œä¸å¯èƒ½æŠŠæŸä¸ªåº”ç”¨è¦åˆ›å»ºçš„å¯¹è±¡å†™æ­»åœ¨æ¡†æ¶ä»£ç ä¸­ã€‚</li>
<li>æ‰€ä»¥ï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡ä¸€ç§å½¢å¼ï¼Œè®©åº”ç”¨å‘ŠçŸ¥ DI å®¹å™¨è¦åˆ›å»ºå“ªäº›å¯¹è±¡ã€‚</li>
</ul>
</li>
<li>åšæ³•ï¼š
<ul>
<li>å°†éœ€è¦ç”± DI å®¹å™¨æ¥åˆ›å»ºçš„ç±»å¯¹è±¡å’Œåˆ›å»ºç±»å¯¹è±¡çš„å¿…è¦ä¿¡æ¯ï¼Œæ”¾åˆ°é…ç½®æ–‡ä»¶ä¸­ã€‚</li>
<li>å®¹å™¨è¯»å–é…ç½®æ–‡ä»¶ï¼Œæ ¹æ®é…ç½®æ–‡ä»¶æä¾›çš„ä¿¡æ¯æ¥åˆ›å»ºå¯¹è±¡ã€‚</li>
</ul>
</li>
<li>ä¸¾ä¾‹ï¼š
<ul>
<li>Spring å®¹å™¨çš„é…ç½®æ–‡ä»¶ï¼Œå®šä¹‰ beans çš„ä¾èµ–å…³ç³»ä»¥åŠä½ç½®</li>
</ul>
</li>
</ul>
<h5 id="2-å¯¹è±¡åˆ›å»º"><a class="markdownIt-Anchor" href="#2-å¯¹è±¡åˆ›å»º"></a> 2. å¯¹è±¡åˆ›å»º</h5>
<ul>
<li>èƒŒæ™¯ï¼š
<ul>
<li>åœ¨ DI å®¹å™¨ä¸­å›½ï¼Œå¦‚æœæˆ‘ä»¬ç»™æ¯ä¸ªç±»éƒ½åˆ›å»ºä¸€ä¸ªå·¥å‚åˆ—ï¼Œé‚£é¡¹ç›®ä¸­ç±»çš„ä¸ªæ•°ä¼šæˆå€å¢åŠ ï¼Œè¿™å›å¢åŠ ä»£ç çš„ç»´æŠ¤æˆæœ¬ï¼›</li>
</ul>
</li>
<li>åšæ³•ï¼š
<ul>
<li>å°†æ‰€æœ‰ç±»å¯¹è±¡çš„åˆ›å»ºæ”¾åˆ°ä¸€ä¸ªå·¥å‚ç±»ä¸­å®Œæˆã€‚</li>
</ul>
</li>
<li>ä¸¾ä¾‹ï¼š
<ul>
<li>Spring å®¹å™¨ä¸­çš„ BeansFactoryã€‚</li>
</ul>
</li>
</ul>
<h5 id="3-å¯¹è±¡å£°æ˜å‘¨æœŸç®¡ç†"><a class="markdownIt-Anchor" href="#3-å¯¹è±¡å£°æ˜å‘¨æœŸç®¡ç†"></a> 3. å¯¹è±¡å£°æ˜å‘¨æœŸç®¡ç†</h5>
<ul>
<li>èƒŒæ™¯ï¼š
<ul>
<li>ç®€å•å·¥å‚æ¨¡å¼æœ‰ä¸¤ç§å®ç°æ–¹å¼ï¼šä¸€ç§æ˜¯æ¯æ¬¡éƒ½è¿”å›æ–°åˆ›å»ºçš„å¯¹è±¡ï¼Œå¦ä¸€ç§æ˜¯æ¯æ¬¡éƒ½è¿”å›åŒä¸€ä¸ªäº‹å…ˆåˆ›å»ºå¥½çš„å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯æ‰€è°“çš„å•ä¾‹å¯¹è±¡ã€‚</li>
</ul>
</li>
<li>åšæ³•ï¼š
<ul>
<li>åœ¨ Spring æ¡†æ¶ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡é…ç½® scope å±æ€§ï¼Œæ¥åŒºåˆ†è¿™ä¸¤ç§ä¸åŒç±»å‹çš„å¯¹è±¡ã€‚<code>scope=prototype</code> è¡¨ç¤ºè¿”å›æ–°åˆ›å»ºçš„å¯¹è±¡ï¼Œ<code>scope=singleton</code> è¡¨ç¤ºè¿”å›å•ä¾‹å¯¹è±¡ï¼Œé»˜è®¤è¿”å›å•ä¾‹ï¼›</li>
<li>Spring æ¡†æ¶ä¸­ï¼Œå¯ä»¥é…ç½®å¯¹è±¡æ˜¯å¦æ”¯æŒæ‡’åŠ è½½ã€‚å¦‚æœ <code>lazy-init=true</code>ï¼Œå¯¹è±¡åœ¨çœŸæ­£è¢«ä½¿ç”¨åˆ°çš„æ—¶å€™æ‰è¢«åˆ›å»ºï¼›å¦‚æœ <code>lazy-init=false</code>ï¼Œå¯¹è±¡åœ¨åº”ç”¨å¯åŠ¨çš„æ—¶å€™å°±äº‹å…ˆåˆ›å»ºå¥½ã€‚</li>
<li>é…ç½®å¯¹è±¡çš„ <code>init-method</code> å’Œ <code>destroy-method</code> æ–¹æ³•ï¼Œå¦‚ï¼š <code>init-method=loadProperties()</code>ï¼Œ<code>destroy-method=updateConfigFile()</code>ã€‚
<ul>
<li>åœ¨ DI å®¹å™¨åœ¨åˆ›å»ºå¥½å¯¹è±¡ä¹‹åï¼Œä¼šä¸»åŠ¨è°ƒç”¨ <code>init-method</code> å±æ€§æŒ‡å®šçš„æ–¹æ³•æ¥åˆå§‹åŒ–å¯¹è±¡ã€‚</li>
<li>åœ¨å¯¹è±¡è¢«æœ€ç»ˆé”€æ¯ä¹‹å‰ï¼ŒDI å®¹å™¨ä¼šä¸»åŠ¨è°ƒç”¨ <code>destroy-method</code> å±æ€§æŒ‡å®šçš„æ–¹æ³•æ¥åšä¸€äº›æ¸…ç†å·¥ä½œï¼Œæ¯”å¦‚é‡Šæ”¾æ•°æ®åº“è¿æ¥æ± ã€å…³é—­æ–‡ä»¶ã€‚</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="å®ç°ä¸€ä¸ªç®€å•çš„-di-å®¹å™¨"><a class="markdownIt-Anchor" href="#å®ç°ä¸€ä¸ªç®€å•çš„-di-å®¹å™¨"></a> å®ç°ä¸€ä¸ªç®€å•çš„ DI å®¹å™¨</h3>
<ul>
<li>æ ¸å¿ƒé€»è¾‘ï¼š
<ul>
<li>é…ç½®æ–‡ä»¶è§£æ</li>
<li>æ ¹æ®é…ç½®æ–‡ä»¶é€šè¿‡ <strong>åå°„</strong> è¯­æ³•æ¥åˆ›å»ºå¯¹è±¡</li>
</ul>
</li>
</ul>
<h4 id="1-æœ€å°åŸå‹è®¾è®¡"><a class="markdownIt-Anchor" href="#1-æœ€å°åŸå‹è®¾è®¡"></a> 1. æœ€å°åŸå‹è®¾è®¡</h4>
<ul>
<li>åœ¨æœ€å°åŸå‹è®¾ç½®ä¸­ï¼Œé…ç½®æ–‡ä»¶ä¸­æ”¯æŒçš„é…ç½®è¯­æ³•ä»…é™é…ç½® <code>beans&gt;bean.id.class.scope.lazy-init&gt;constructor-arg.type.value.ref</code></li>
<li>ä½¿ç”¨ç¤ºä¾‹ï¼š</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    ApplicationContext applicationContext = <span class="keyword">new</span> ClassPathXmlApplicationContext(</span><br><span class="line">            <span class="string">"beans.xml"</span>);</span><br><span class="line">    RateLimiter rateLimiter = (RateLimiter) applicationContext.getBean(<span class="string">"rateLimiter"</span>);</span><br><span class="line">    rateLimiter.test();</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="2-æä¾›æ‰§è¡Œå…¥å£"><a class="markdownIt-Anchor" href="#2-æä¾›æ‰§è¡Œå…¥å£"></a> 2. æä¾›æ‰§è¡Œå…¥å£</h4>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">ApplicationContext</span> </span>&#123;</span><br><span class="line">  <span class="function">Object <span class="title">getBean</span><span class="params">(String beanId)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ClassPathXmlApplicationContext</span> <span class="keyword">implements</span> <span class="title">ApplicationContext</span> </span>&#123;</span><br><span class="line">  <span class="keyword">private</span> BeansFactory beansFactory;</span><br><span class="line">  <span class="keyword">private</span> BeanConfigParser beanConfigParser;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">ClassPathXmlApplicationContext</span><span class="params">(String configLocation)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.beansFactory = <span class="keyword">new</span> BeansFactory();</span><br><span class="line">    <span class="keyword">this</span>.beanConfigParser = <span class="keyword">new</span> XmlBeanConfigParser();</span><br><span class="line">    loadBeanDefinitions(configLocation);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">loadBeanDefinitions</span><span class="params">(String configLocation)</span> </span>&#123;</span><br><span class="line">    InputStream in = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      in = <span class="keyword">this</span>.getClass().getResourceAsStream(<span class="string">"/"</span> + configLocation);</span><br><span class="line">      <span class="keyword">if</span> (in == <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"Can not find config file: "</span> + configLocation);</span><br><span class="line">      &#125;</span><br><span class="line">      List&lt;BeanDefinition&gt; beanDefinitions = beanConfigParser.parse(in);</span><br><span class="line">      beansFactory.addBeanDefinitions(beanDefinitions);</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (in != <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">          in.close();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">          <span class="comment">// <span class="doctag">TODO:</span> log error</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> Object <span class="title">getBean</span><span class="params">(String beanId)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> beansFactory.getBean(beanId);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>ClassPathXmlApplicationContext è´Ÿè´£ç»„è£… BeansFactory å’Œ BeanConfigParser ä¸¤ä¸ªç±»ï¼›</li>
<li>æ‰§è¡Œæµç¨‹ï¼š
<ul>
<li>ä» classpath ä¸­åŠ è½½ XML æ ¼å¼çš„é…ç½®æ–‡ä»¶ï¼Œé€šè¿‡ BeanCofigParser è§£æä¸ºç»Ÿä¸€çš„ BeanDefinition æ ¼å¼ï¼›</li>
<li>ç„¶åï¼ŒBeansFactory æ ¹æ® BeanDefinition æ¥åˆ›å»ºå¯¹è±¡ï¼›</li>
</ul>
</li>
</ul>
<h4 id="3-é…ç½®æ–‡ä»¶è§£æ"><a class="markdownIt-Anchor" href="#3-é…ç½®æ–‡ä»¶è§£æ"></a> 3. é…ç½®æ–‡ä»¶è§£æ</h4>
<ul>
<li>é…ç½®æ–‡ä»¶è§£æä¸»è¦åŒ…å« BeanConfigParser æ¥å£å’Œ XmlBeanConfigParser å®ç°ç±»ï¼Œè´Ÿè´£å°†é…ç½®æ–‡ä»¶è§£æä¸º BeanDefinition ç»“æ„ï¼Œä»¥ä¾¿ BeansFactory æ ¹æ®è¿™ä¸ªç»“æ„æ¥åˆ›å»ºå¯¹è±¡ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">BeanConfigParser</span> </span>&#123;</span><br><span class="line">  <span class="function">List&lt;BeanDefinition&gt; <span class="title">parse</span><span class="params">(InputStream inputStream)</span></span>;</span><br><span class="line">  <span class="function">List&lt;BeanDefinition&gt; <span class="title">parse</span><span class="params">(String configContent)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">XmlBeanConfigParser</span> <span class="keyword">implements</span> <span class="title">BeanConfigParser</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> List&lt;BeanDefinition&gt; <span class="title">parse</span><span class="params">(InputStream inputStream)</span> </span>&#123;</span><br><span class="line">    String content = <span class="keyword">null</span>;</span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span>...</span></span><br><span class="line">    <span class="keyword">return</span> parse(content);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> List&lt;BeanDefinition&gt; <span class="title">parse</span><span class="params">(String configContent)</span> </span>&#123;</span><br><span class="line">    List&lt;BeanDefinition&gt; beanDefinitions = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span>...</span></span><br><span class="line">    <span class="keyword">return</span> beanDefinitions;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BeanDefinition</span> </span>&#123;</span><br><span class="line">  <span class="keyword">private</span> String id;</span><br><span class="line">  <span class="keyword">private</span> String className;</span><br><span class="line">  <span class="keyword">private</span> List&lt;ConstructorArg&gt; constructorArgs = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">  <span class="keyword">private</span> Scope scope = Scope.SINGLETON;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">boolean</span> lazyInit = <span class="keyword">false</span>;</span><br><span class="line">  <span class="comment">// çœç•¥å¿…è¦çš„getter/setter/constructors</span></span><br><span class="line"> </span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isSingleton</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> scope.equals(Scope.SINGLETON);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">enum</span> Scope &#123;</span><br><span class="line">    SINGLETON,</span><br><span class="line">    PROTOTYPE</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">ConstructorArg</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">boolean</span> isRef;</span><br><span class="line">    <span class="keyword">private</span> Class type;</span><br><span class="line">    <span class="keyword">private</span> Object arg;</span><br><span class="line">    <span class="comment">// çœç•¥å¿…è¦çš„getter/setter/constructors</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="4-æ ¸å¿ƒå·¥å‚ç±»è®¾è®¡"><a class="markdownIt-Anchor" href="#4-æ ¸å¿ƒå·¥å‚ç±»è®¾è®¡"></a> 4. æ ¸å¿ƒå·¥å‚ç±»è®¾è®¡</h4>
<ul>
<li>BeansFactory æ ¹æ®ä»é…ç½®æ–‡ä»¶è§£æå¾—åˆ°çš„ BeanDefinition æ¥åˆ›å»ºå¯¹è±¡ã€‚</li>
<li>å¦‚æœå¯¹è±¡çš„ scope å±æ€§æ˜¯ singletonï¼Œé‚£å¯¹è±¡åˆ›å»ºä¹‹åä¼šç¼“å­˜åœ¨ singletonObjects è¿™æ ·ä¸€ä¸ª map ä¸­ï¼Œä¸‹æ¬¡å†è¯·æ±‚æ­¤å¯¹è±¡çš„æ—¶å€™ï¼Œç›´æ¥ä» map ä¸­å–å‡ºè¿”å›ï¼Œä¸éœ€è¦é‡æ–°åˆ›å»ºã€‚</li>
<li>å¦‚æœå¯¹è±¡çš„ scope å±æ€§æ˜¯ prototypeï¼Œé‚£æ¯æ¬¡è¯·æ±‚å¯¹è±¡ï¼ŒBeansFactory éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡è¿”å›ã€‚</li>
<li><strong>BeansFactory åˆ›å»ºå¯¹è±¡ç”¨åˆ°çš„ä¸»è¦æŠ€æœ¯ç‚¹æ˜¯ Java ä¸­çš„åå°„è¯­æ³•ã€‚</strong></li>
<li>ä»£ç ç¤ºä¾‹ï¼š</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BeansFactory</span> </span>&#123;</span><br><span class="line">  <span class="keyword">private</span> ConcurrentHashMap&lt;String, Object&gt; singletonObjects = <span class="keyword">new</span> ConcurrentHashMap&lt;&gt;();</span><br><span class="line">  <span class="keyword">private</span> ConcurrentHashMap&lt;String, BeanDefinition&gt; beanDefinitions = <span class="keyword">new</span> ConcurrentHashMap&lt;&gt;();</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addBeanDefinitions</span><span class="params">(List&lt;BeanDefinition&gt; beanDefinitionList)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (BeanDefinition beanDefinition : beanDefinitionList) &#123;</span><br><span class="line">      <span class="keyword">this</span>.beanDefinitions.putIfAbsent(beanDefinition.getId(), beanDefinition);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (BeanDefinition beanDefinition : beanDefinitionList) &#123;</span><br><span class="line">      <span class="keyword">if</span> (beanDefinition.isLazyInit() == <span class="keyword">false</span> &amp;&amp; beanDefinition.isSingleton()) &#123;</span><br><span class="line">        createBean(beanDefinition);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> Object <span class="title">getBean</span><span class="params">(String beanId)</span> </span>&#123;</span><br><span class="line">    BeanDefinition beanDefinition = beanDefinitions.get(beanId);</span><br><span class="line">    <span class="keyword">if</span> (beanDefinition == <span class="keyword">null</span>) &#123;</span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> NoSuchBeanDefinitionException(<span class="string">"Bean is not defined: "</span> + beanId);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> createBean(beanDefinition);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@VisibleForTesting</span></span><br><span class="line">  <span class="function"><span class="keyword">protected</span> Object <span class="title">createBean</span><span class="params">(BeanDefinition beanDefinition)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (beanDefinition.isSingleton() &amp;&amp; singletonObjects.contains(beanDefinition.getId())) &#123;</span><br><span class="line">      <span class="keyword">return</span> singletonObjects.get(beanDefinition.getId());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Object bean = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      Class beanClass = Class.forName(beanDefinition.getClassName());</span><br><span class="line">      List&lt;BeanDefinition.ConstructorArg&gt; args = beanDefinition.getConstructorArgs();</span><br><span class="line">      <span class="keyword">if</span> (args.isEmpty()) &#123;</span><br><span class="line">        bean = beanClass.newInstance();</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        Class[] argClasses = <span class="keyword">new</span> Class[args.size()];</span><br><span class="line">        Object[] argObjects = <span class="keyword">new</span> Object[args.size()];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; args.size(); ++i) &#123;</span><br><span class="line">          BeanDefinition.ConstructorArg arg = args.get(i);</span><br><span class="line">          <span class="keyword">if</span> (!arg.getIsRef()) &#123;</span><br><span class="line">            argClasses[i] = arg.getType();</span><br><span class="line">            argObjects[i] = arg.getArg();</span><br><span class="line">          &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            BeanDefinition refBeanDefinition = beanDefinitions.get(arg.getArg());</span><br><span class="line">            <span class="keyword">if</span> (refBeanDefinition == <span class="keyword">null</span>) &#123;</span><br><span class="line">              <span class="keyword">throw</span> <span class="keyword">new</span> NoSuchBeanDefinitionException(<span class="string">"Bean is not defined: "</span> + arg.getArg());</span><br><span class="line">            &#125;</span><br><span class="line">            argClasses[i] = Class.forName(refBeanDefinition.getClassName());</span><br><span class="line">            argObjects[i] = createBean(refBeanDefinition);</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        bean = beanClass.getConstructor(argClasses).newInstance(argObjects);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (ClassNotFoundException | IllegalAccessException</span><br><span class="line">            | InstantiationException | NoSuchMethodException | InvocationTargetException e) &#123;</span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> BeanCreationFailureException(<span class="string">""</span>, e);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (bean != <span class="keyword">null</span> &amp;&amp; beanDefinition.isSingleton()) &#123;</span><br><span class="line">      singletonObjects.putIfAbsent(beanDefinition.getId(), bean);</span><br><span class="line">      <span class="keyword">return</span> singletonObjects.get(beanDefinition.getId());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> bean;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="æ€è€ƒé¢˜"><a class="markdownIt-Anchor" href="#æ€è€ƒé¢˜"></a> æ€è€ƒé¢˜</h3>
<blockquote>
<p>BeansFactory ç±»ä¸­çš„ createBean() å‡½æ•°æ˜¯ä¸€ä¸ªé€’å½’å‡½æ•°ã€‚å½“æ„é€ å‡½æ•°çš„å‚æ•°æ˜¯ ref ç±»å‹æ—¶ï¼Œä¼šé€’å½’åœ°åˆ›å»º ref å±æ€§æŒ‡å‘çš„å¯¹è±¡ã€‚å¦‚æœæˆ‘ä»¬åœ¨é…ç½®æ–‡ä»¶ä¸­é”™è¯¯åœ°é…ç½®äº†å¯¹è±¡ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œå¯¼è‡´å­˜åœ¨å¾ªç¯ä¾èµ–ï¼Œé‚£ BeansFactory çš„ createBean() å‡½æ•°æ˜¯å¦ä¼šå‡ºç°å †æ ˆæº¢å‡ºï¼Ÿåˆè¯¥å¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿ</p>
</blockquote>
<ul>
<li>demo ä½äºå½“å‰ç›®å½•ä¸‹çš„ <code>dependencycircle</code> ç›®å½•ä¸‹</li>
</ul>
<h2 id="shareåˆ†äº«ä¸€ç¯‡æœ‰è§‚ç‚¹çš„æ–‡ç« "><a class="markdownIt-Anchor" href="#shareåˆ†äº«ä¸€ç¯‡æœ‰è§‚ç‚¹çš„æ–‡ç« "></a> Shareâ€”â€”åˆ†äº«ä¸€ç¯‡æœ‰è§‚ç‚¹çš„æ–‡ç« </h2>
<ul>
<li><a href="https://coolshell.cn/articles/20977.html" target="_blank">[ ç¨‹åºå‘˜å¦‚ä½•æŠŠæ§è‡ªå·±çš„èŒä¸š ]</a></li>
</ul>
]]></content>
      
        
        <tags>
            
            <tag> æ‰“å¡ </tag>
            
            <tag> ARTS </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[2021å¹´åº¦è®¡åˆ’åŠç›®æ ‡]]></title>
      <url>http://tech.noexception.cn/2021/01/25/2021-purpose/</url>
      <content type="html"><![CDATA[<div id="hbe-security">
  <div class="hbe-input-container">
  <input type="password" class="hbe-form-control" id="pass" placeholder="å‹¤åŠ³æ¸©æŸ”ï¼Œè¿˜å–„è‰¯" />
    <label for="pass">å‹¤åŠ³æ¸©æŸ”ï¼Œè¿˜å–„è‰¯</label>
    <div class="bottom-line"></div>
  </div>
</div>
<div id="decryptionError" style="display: none;">Incorrect Password!</div>
<div id="noContentError" style="display: none;">No content to display!</div>
<div id="encrypt-blog" style="display:none">
U2FsdGVkX1+PdpY2QcHy7KYux3Bhtg1D5J+1FEuYM7nxRdtA1kEasaWhKEwncgTSc6eEjBReA7nlcTLUqow/om2+gN8U8Xve4YPg0tf7RModisEXeMoarbZyJLkvPg2Y/itq9sgi0ANeen9T4IFfEWiWm3nLblmzdzf0apZz8oCOMmxQK+xuKog/ZR4m+kHKBf91ZDgLEQXob3WOEyeDSmZdWSsxoF4Kdb3Y8jDrQVdd380nfeqXxwFhdGQDY+eGruYXQsPB9qXrPExy7wONd+saZyxZdYlA31LcjVsY8fxMjfxLINHzLlNYqkUVhogo+jvx7yJQ4ovrmuxFfFLS9ubRvV8VQt9A30BjwPQPw9r02mml4ROO29q/uiGLIZCpIUdl4oGB/awACZI7fXEd32yBOAWEhb2pMyibxXXFRIMTZdnFRkjIQzvPoY2/oVgoz4Wvga/54ppzoH3KSSy1m0zT0g8n/ujsEnM61zburqUxnitQgCNDTGfv6WJQqAVR4ejtT4ZP+JWJ0P6AjuvrwERFsgkcVLbfYm9VmrJv6yZTHl4acfndruJZoUEfUhbkF6DAr1z9UROMpuPHlWUVixZpXXZrt1FYiQqGD8HiescP8/KEerZq13O3aH3Ayurq
</div>
<script src="/lib/crypto-js.js"></script><script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
      
        
        <tags>
            
            <tag> è§„åˆ’ </tag>
            
            <tag> ç›®æ ‡ </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[å…ˆå®šä¸€ä¸ªå°ç›®æ ‡]]></title>
      <url>http://tech.noexception.cn/2020/07/07/one-purpose/</url>
      <content type="html"><![CDATA[<div id="hbe-security">
  <div class="hbe-input-container">
  <input type="password" class="hbe-form-control" id="pass" placeholder="å‹¤åŠ³æ¸©æŸ”ï¼Œè¿˜å–„è‰¯" />
    <label for="pass">å‹¤åŠ³æ¸©æŸ”ï¼Œè¿˜å–„è‰¯</label>
    <div class="bottom-line"></div>
  </div>
</div>
<div id="decryptionError" style="display: none;">Incorrect Password!</div>
<div id="noContentError" style="display: none;">No content to display!</div>
<div id="encrypt-blog" style="display:none">
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
</div>
<script src="/lib/crypto-js.js"></script><script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
      
        
        <tags>
            
            <tag> å°ç›®æ ‡ </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[2019å¹´åº¦æ€»ç»“â€”â€”æš¨2020å¹´åº¦è®¡åˆ’]]></title>
      <url>http://tech.noexception.cn/2020/01/21/2020summary/</url>
      <content type="html"><![CDATA[<div id="hbe-security">
  <div class="hbe-input-container">
  <input type="password" class="hbe-form-control" id="pass" placeholder="å‹¤åŠ³æ¸©æŸ”ï¼Œè¿˜å–„è‰¯" />
    <label for="pass">å‹¤åŠ³æ¸©æŸ”ï¼Œè¿˜å–„è‰¯</label>
    <div class="bottom-line"></div>
  </div>
</div>
<div id="decryptionError" style="display: none;">Incorrect Password!</div>
<div id="noContentError" style="display: none;">No content to display!</div>
<div id="encrypt-blog" style="display:none">
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
</div>
<script src="/lib/crypto-js.js"></script><script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
      
        
        <tags>
            
            <tag> å¹´åº¦æ€»ç»“ </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Docker é“¸å‰‘ä¹‹è·¯]]></title>
      <url>http://tech.noexception.cn/2019/12/29/docker-walking/</url>
      <content type="html"><![CDATA[<p>å¤©é“é…¬å‹¤</p>
<a id="more"></a>
<h2 id="1-ä»æŒ‡å®šçš„é•œåƒè¿è¡Œä¸€ä¸ªå®¹å™¨"><a class="markdownIt-Anchor" href="#1-ä»æŒ‡å®šçš„é•œåƒè¿è¡Œä¸€ä¸ªå®¹å™¨"></a> 1. ä»æŒ‡å®šçš„é•œåƒï¼Œè¿è¡Œä¸€ä¸ªå®¹å™¨ï¼š</h2>
<ul>
<li>å‘½ä»¤ï¼š<code>docker run -itd -p port:port -name 'container_name' image_name</code></li>
<li>å‚æ•°è§£æï¼š
<ul>
<li>i: å¯äº¤äº’çš„å®¹å™¨</li>
<li>d: åœ¨åå°è¿è¡Œ</li>
<li>t: åº”è¯¥æ˜¯å…è®¸åˆ†é…ä¸€ä¸ª tty çª—å£</li>
<li>p: æ˜ å°„å®¹å™¨èŠ‹å®¿ä¸»æœºä¹‹é—´çš„ç«¯å£</li>
</ul>
</li>
</ul>
<h2 id="2-åœ¨ä¸€ä¸ªåå°è¿è¡Œçš„å®¹å™¨æ‰§è¡Œå‘½ä»¤è¿›å…¥äº¤äº’ç•Œé¢å¹¶-exit-æ—¶ä¸ä¼šå°†å®¹å™¨åœæ­¢"><a class="markdownIt-Anchor" href="#2-åœ¨ä¸€ä¸ªåå°è¿è¡Œçš„å®¹å™¨æ‰§è¡Œå‘½ä»¤è¿›å…¥äº¤äº’ç•Œé¢å¹¶-exit-æ—¶ä¸ä¼šå°†å®¹å™¨åœæ­¢"></a> 2. åœ¨ä¸€ä¸ªåå°è¿è¡Œçš„å®¹å™¨ï¼Œæ‰§è¡Œå‘½ä»¤/è¿›å…¥äº¤äº’ç•Œé¢å¹¶ exit æ—¶ï¼Œä¸ä¼šå°†å®¹å™¨åœæ­¢ï¼š</h2>
<ol>
<li>æ‰§è¡Œå‘½ä»¤ï¼š
<ol>
<li>å‘½ä»¤ï¼š<code>docker exec container_id_or_name want_to_exe_command</code></li>
<li>æ•ˆæœï¼šä¼šåœ¨æŒ‡å®šçš„å®¹å™¨ä¸­æ‰§è¡ŒæŒ‡å®šçš„å‘½ä»¤ï¼Œå¹¶ä¸”å°†ç»“æœæ‰“å°åœ¨æ§åˆ¶å°ä¸­</li>
</ol>
</li>
<li>è¿›å…¥äº¤äº’ç•Œé¢å¹¶ä¸” exit æ—¶ï¼Œä¸ä¼šå°†å®¹å™¨åœæ­¢ï¼š
<ol>
<li>å‘½ä»¤ï¼š<code>docker exec -it container_id_or_name /bin/bash</code></li>
<li>æ•ˆæœï¼šè¿›å…¥æŒ‡å®šå®¹å™¨çš„bashäº¤äº’å‘½ä»¤è¡Œï¼Œå…è®¸é€šè¿‡ exit é€€å‡º</li>
</ol>
</li>
</ol>
]]></content>
      
        
        <tags>
            
            <tag> docker </tag>
            
            <tag> å®¹å™¨ </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[ä¸­é—´ä»¶çš„å¸¸ç”¨å‘½ä»¤æ±‡æ€»]]></title>
      <url>http://tech.noexception.cn/2019/12/29/middleware-usage/</url>
      <content type="html"><![CDATA[<p>å¤©é“é…¬å‹¤</p>
<a id="more"></a>
<ul>
<li>å¯åŠ¨ESï¼šdocker run -itd --name es -p 9200:9200 -p 9300:9300 -e â€œdiscovery.type=single-nodeâ€ elasticsearch /bin/bash</li>
<li>å¯åŠ¨æ¶ˆæ¯é˜Ÿåˆ—ï¼šdocker run -itd -p 9876:9876 rocketmqinc/rocketmq:4.2.0</li>
</ul>
<h2 id="rocketmq"><a class="markdownIt-Anchor" href="#rocketmq"></a> Rocketmq</h2>
<ol>
<li>å¯åŠ¨ NameServer:
<ol>
<li><code>nohup sh bin/mqnamesrv &amp;; tail -f ~/logs/rocketmqlogs/namesrv.log</code></li>
</ol>
</li>
<li>å¯åŠ¨ Broker:
<ol>
<li><code>nohup sh bin/mqbroker -n localhost:9876 &amp;; tail -f ~/logs/rocketmqlogs/broker.log</code></li>
</ol>
</li>
<li>æµ‹è¯•å‘é€å’Œæ¥å—æ¶ˆæ¯ï¼š
<ol>
<li>å‘é€æ¶ˆæ¯ï¼š
<ol>
<li><code>export NAMESRV_ADDR=localhost:9876; sh bin/tools.sh org.apache.rocketmq.example.quickstart.Producer</code></li>
</ol>
</li>
<li>æ¥å—æ¶ˆæ¯ï¼š
<ol>
<li><code>sh bin/tools.sh org.apache.rocketmq.example.quickstart.Consumer</code></li>
</ol>
</li>
</ol>
</li>
<li>å…³é—­æœåŠ¡ï¼š
<ol>
<li><code>sh bin/mqshutdown broker // åœæ­¢ broker</code></li>
<li><code>sh bin/mqshutdown namesrv // åœæ­¢ nameserver</code></li>
</ol>
</li>
<li>æŸ¥çœ‹é›†ç¾¤æƒ…å†µï¼š
<ol>
<li><code>./mqadmin clusterList -n 127.0.0.1:9876</code></li>
</ol>
</li>
<li>æŸ¥çœ‹ broker çŠ¶æ€:
<ol>
<li><code>./mqadmin brokerStatus -n 127.0.0.1:9876 -b 172.20.1.138:10911</code></li>
</ol>
</li>
<li>æŸ¥çœ‹ topic åˆ—è¡¨ï¼š
<ol>
<li><code>./mqadmin topicList -n 127.0.0.1:9876</code></li>
</ol>
</li>
<li>æŸ¥çœ‹ topic çŠ¶æ€ï¼š
<ol>
<li><code>./mqadmin topicStatus -n 127.0.0.1:9876 -t MyTopic</code></li>
</ol>
</li>
<li>æŸ¥çœ‹ topic è·¯ç”±ï¼š
<ol>
<li><code>./mqadmin topicRoute -n 127.0.0.1:9876 -t MyTopic</code></li>
</ol>
</li>
</ol>
]]></content>
      
        
        <tags>
            
            <tag> ä¸­é—´ä»¶ </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[ä¸€å‘¨æ€»ç»“ï¼ˆ2019-09-23 ~ 2019-09-29ï¼‰]]></title>
      <url>http://tech.noexception.cn/2019/09/26/2019-09-26/</url>
      <content type="html"><![CDATA[<div id="hbe-security">
  <div class="hbe-input-container">
  <input type="password" class="hbe-form-control" id="pass" placeholder="å‹¤åŠ³æ¸©æŸ”ï¼Œè¿˜å–„è‰¯" />
    <label for="pass">å‹¤åŠ³æ¸©æŸ”ï¼Œè¿˜å–„è‰¯</label>
    <div class="bottom-line"></div>
  </div>
</div>
<div id="decryptionError" style="display: none;">Incorrect Password!</div>
<div id="noContentError" style="display: none;">No content to display!</div>
<div id="encrypt-blog" style="display:none">
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
</div>
<script src="/lib/crypto-js.js"></script><script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
      
        
        <tags>
            
            <tag> æ—¥è®° </tag>
            
            <tag> æŒç»­æ›´æ–°ä¸­ </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[2019-05-28 ARTS åˆ†äº«]]></title>
      <url>http://tech.noexception.cn/2019/05/28/arts-2019-05-28/</url>
      <content type="html"><![CDATA[<p>å¤©é“é…¬å‹¤</p>
<a id="more"></a>
<h2 id="aalgorithm-ä¸€é“ç®—æ³•é¢˜"><a class="markdownIt-Anchor" href="#aalgorithm-ä¸€é“ç®—æ³•é¢˜"></a> Aâ€”â€”Algorithm  ä¸€é“ç®—æ³•é¢˜</h2>
<h3 id="leetcode-852-å±±è„‰æ•°ç»„çš„é¡¶å³°ç´¢å¼•"><a class="markdownIt-Anchor" href="#leetcode-852-å±±è„‰æ•°ç»„çš„é¡¶å³°ç´¢å¼•"></a> LeetCode 852. å±±è„‰æ•°ç»„çš„é¡¶å³°ç´¢å¼•</h3>
<ul>
<li>
<p>æˆ‘ä»¬æŠŠç¬¦åˆä¸‹åˆ—å±æ€§çš„æ•°ç»„ A ç§°ä½œå±±è„‰ï¼š</p>
<ul>
<li>A.length &gt;= 3</li>
<li>å­˜åœ¨ <code>0 &lt; i &lt; A.length - 1</code> ä½¿å¾— <code>A[0] &lt; A[1] &lt; ... A[i-1] &lt; A[i] &gt; A[i+1] &gt; ... &gt; A[A.length - 1]</code></li>
</ul>
</li>
<li>
<p>ç»™å®šä¸€ä¸ªç¡®å®šä¸ºå±±è„‰çš„æ•°ç»„ï¼Œè¿”å›ä»»ä½•æ»¡è¶³ ä¸Šè¿°å…¬å¼çš„ i çš„å€¼ã€‚</p>
</li>
<li>
<p><strong>æç¤ºï¼š</strong></p>
<ol>
<li>3 &lt;= A.length &lt;= 10000</li>
<li>0 &lt;= A[i] &lt;= 10^6</li>
<li>A æ˜¯å¦‚ä¸Šå®šä¹‰çš„å±±è„‰</li>
</ol>
</li>
<li>
<p><strong>è§£ç­”ï¼š</strong></p>
<ul>
<li>æ€è·¯ï¼š
<ul>
<li>è¿™é“é¢˜è§£é¢˜æ€è·¯ï¼Œå°±æ˜¯æ‰¾åˆ°æ•´ä¸ªæ•°ç»„æœ€å¤§çš„æ•°å­—ï¼Œåœ¨æ— åºçŠ¶æ€ä¸‹ä½¿ç”¨äºŒåˆ†æ³•çš„è¯ï¼Œä¼šå‡ºç°æ‰¾åˆ°çš„ä¸æ˜¯çœŸæ­£çš„å±±å³°çš„æƒ…å†µï¼Œå¦‚æœéœ€è¦é‡æ–°æ’åºï¼Œå†ä½¿ç”¨äºŒåˆ†æ³•æ‰¾åˆ°æœ€å¤§çš„å…ƒç´ çš„è¯ï¼Œæ—¶é—´å¤æ‚åº¦å°±å¤šäº†ä¸€ä¸ª O(n) å¾—ä¸å¿å¤±ã€‚ä½¿ç”¨ä¸€æ¬¡éå†æ‰¾åˆ°æœ€å¤§çš„å…ƒç´ æ˜¯æœ€å¿«çš„ä¹Ÿæ˜¯ç¬¦åˆé¢˜ç›®è¦æ±‚çš„ç­”æ¡ˆ</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç¤ºä¾‹ 1ï¼š</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è¾“å…¥ï¼š[0,1,0]</span></span><br><span class="line"><span class="comment">// è¾“å‡ºï¼š1</span></span><br><span class="line"><span class="comment">// ç¤ºä¾‹ 2ï¼š</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è¾“å…¥ï¼š[0,2,1,0]</span></span><br><span class="line"><span class="comment">// è¾“å‡ºï¼š1</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">peakIndexInMountainArray</span><span class="params">(<span class="keyword">int</span>[] A)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> result = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> index = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;A.length; i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(A[i]&gt;result)&#123;</span><br><span class="line">                result = A[i];</span><br><span class="line">                index = i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> index;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="rreview-é˜…è¯»ä¸€ç¯‡è‹±æ–‡æ–‡ç« "><a class="markdownIt-Anchor" href="#rreview-é˜…è¯»ä¸€ç¯‡è‹±æ–‡æ–‡ç« "></a> Râ€”â€”Review  é˜…è¯»ä¸€ç¯‡è‹±æ–‡æ–‡ç« </h2>
<h2 id="ttips-å­¦ä¹ ä¸€ä¸ªæ–°æŠ€æœ¯ç‚¹"><a class="markdownIt-Anchor" href="#ttips-å­¦ä¹ ä¸€ä¸ªæ–°æŠ€æœ¯ç‚¹"></a> Tâ€”â€”Tips  å­¦ä¹ ä¸€ä¸ªæ–°æŠ€æœ¯ç‚¹</h2>
<h3 id="websocket"><a class="markdownIt-Anchor" href="#websocket"></a> Websocket</h3>
<h4 id="ä¸€-websocket-ä»‹ç»"><a class="markdownIt-Anchor" href="#ä¸€-websocket-ä»‹ç»"></a> ä¸€ã€Websocket ä»‹ç»</h4>
<ul>
<li><strong>Websocket æ˜¯ä»€ä¹ˆï¼š</strong>
<ol>
<li>Websocket æ˜¯ä¸€ç§ç½‘ç»œé€šä¿¡åè®®ã€‚RFC6455 å®šä¹‰äº†å®ƒçš„é€šä¿¡æ ‡å‡†ã€‚</li>
<li>Websocket æ˜¯ HTML5 å¼€å§‹æä¾›çš„ä¸€ç§åœ¨å•ä¸ª TCP è¿æ¥ä¸Šè¿›è¡Œå…¨åŒå·¥é€šè®¯çš„åè®®ã€‚</li>
<li>Websocket æ˜¯ä¸€ä¸ª TCP æ¥å£è¿›è¡ŒåŒå‘é€šä¿¡çš„æŠ€æœ¯ï¼ŒPUSH æŠ€æœ¯ç±»å‹ã€‚åŒæ—¶ Websocket ä»å°†åŸºäº W3C æ ‡å‡†ï¼Œç›®å‰ä¸ºæ­¢ï¼ŒChrome å’Œ Safari çš„æœ€æ–°ç‰ˆæœ¬æµè§ˆå™¨å·²ç»æ”¯æŒ Websocket äº†ã€‚</li>
<li>ajax è½®è¯¢å’Œ long pull å‡å¯å®ç°å®æ—¶ä¿¡æ¯ä¼ é€’ã€‚
<ol>
<li>ajax è½®è¯¢çš„åŸç†éå¸¸ç®€å•ï¼Œè®©æµè§ˆå™¨æ¯éš”å‡ ç§’å°±å‘é€ä¸€æ¬¡è¯·æ±‚ï¼Œè¯¢é—®æœåŠ¡å™¨æ˜¯å¦æœ‰æ–°ä¿¡æ¯ã€‚</li>
<li>long poll å…¶å®åŸç†è·Ÿ ajax è½®è¯¢å·®ä¸å¤šï¼Œéƒ½æ˜¯é‡‡ç”¨è½®è¯¢çš„æ–¹å¼ï¼Œä¸è¿‡é‡‡å–çš„æ˜¯é˜»å¡æ¨¡å‹ï¼ˆä¸€ç›´æ‰“ç”µè¯ï¼Œæ²¡æœ‰æ”¶åˆ°å°±ä¸æŒ‚ç”µè¯ï¼‰ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå®¢æˆ·ç«¯å‘èµ·è¿æ¥åï¼Œå¦‚æœæ²¡æ¶ˆæ¯ï¼Œå°±ä¸€ç›´ä¸åæ‚” Response ç»™å®¢æˆ·ç«¯ã€‚ç›´åˆ°æœ‰æ¶ˆæ¯æ‰è¿”å›ï¼Œè¿”å›å®Œä¹‹åï¼Œå®¢æˆ·ç«¯å†æ¬¡å»ºç«‹è¿æ¥ï¼Œå‘¨è€Œå¤å§‹ã€‚</li>
</ol>
</li>
</ol>
</li>
<li><strong>åœºæ™¯ï¼š</strong>
<ol>
<li>æœ€å…¸å‹çš„çš„åœºæ™¯å°±æ˜¯èŠå¤©å®¤ï¼Œå¦‚æœä½¿ç”¨ HTTP åè®®çš„è¯ï¼Œå°±åªèƒ½è½®è¯¢è·å–æœåŠ¡ç«¯æœ‰æ²¡æœ‰æ¶ˆæ¯ï¼Œè€Œä½¿ç”¨ Websocket çš„è¯ï¼ŒæœåŠ¡ç«¯æœ‰æ–°æ¶ˆæ¯å¯ä»¥è‡ªåŠ¨æ¨é€ã€‚</li>
</ol>
</li>
<li><strong>ç‰¹ç‚¹ï¼š</strong>
<ol>
<li>**è¾ƒå°‘çš„æ§åˆ¶å¼€é”€ã€‚**åœ¨è¿æ¥åˆ›å»ºåï¼ŒæœåŠ¡å™¨å’Œå®¢æˆ·ç«¯ä¹‹é—´äº¤æ¢æ•°æ®æ—¶ï¼Œç”¨äºåè®®æ§åˆ¶çš„æ•°æ®åŒ…å¤´éƒ¨ç›¸å¯¹è¾ƒå°ã€‚åœ¨ä¸åŒ…å«æ‰©å±•çš„æƒ…å†µä¸‹ï¼Œå¯¹äºæœåŠ¡å™¨åˆ°å®¢æˆ·ç«¯çš„å†…å®¹ï¼Œæ­¤å¤´éƒ¨å¤§å°åªæœ‰2è‡³10å­—èŠ‚ï¼ˆå’Œæ•°æ®åŒ…é•¿åº¦æœ‰å…³ï¼‰ï¼›å¯¹äºå®¢æˆ·ç«¯åˆ°æœåŠ¡å™¨çš„å†…å®¹ï¼Œæ­¤å¤´éƒ¨è¿˜éœ€è¦åŠ ä¸Šé¢å¤–çš„4å­—èŠ‚çš„æ©ç ã€‚ç›¸å¯¹äºHTTPè¯·æ±‚æ¯æ¬¡éƒ½è¦æºå¸¦å®Œæ•´çš„å¤´éƒ¨ï¼Œæ­¤é¡¹å¼€é”€æ˜¾è‘—å‡å°‘äº†ã€‚</li>
<li>**æ›´å¼ºçš„å®æ—¶æ€§ã€‚**ç”±äºåè®®æ˜¯å…¨åŒå·¥çš„ï¼Œæ‰€ä»¥æœåŠ¡å™¨å¯ä»¥éšæ—¶ä¸»åŠ¨ç»™å®¢æˆ·ç«¯ä¸‹å‘æ•°æ®ã€‚ç›¸å¯¹äºHTTPè¯·æ±‚éœ€è¦ç­‰å¾…å®¢æˆ·ç«¯å‘èµ·è¯·æ±‚æœåŠ¡ç«¯æ‰èƒ½å“åº”ï¼Œå»¶è¿Ÿæ˜æ˜¾æ›´å°‘ï¼›å³ä½¿æ˜¯å’ŒCometç­‰ç±»ä¼¼çš„é•¿è½®è¯¢æ¯”è¾ƒï¼Œå…¶ä¹Ÿèƒ½åœ¨çŸ­æ—¶é—´å†…æ›´å¤šæ¬¡åœ°ä¼ é€’æ•°æ®ã€‚</li>
<li>**ä¿æŒè¿æ¥çŠ¶æ€ã€‚**ä¸HTTPä¸åŒçš„æ˜¯ï¼ŒWebsocketéœ€è¦å…ˆåˆ›å»ºè¿æ¥ï¼Œè¿™å°±ä½¿å¾—å…¶æˆä¸ºä¸€ç§æœ‰çŠ¶æ€çš„åè®®ï¼Œä¹‹åé€šä¿¡æ—¶å¯ä»¥çœç•¥éƒ¨åˆ†çŠ¶æ€ä¿¡æ¯ï¼Œè€ŒHTTPè¯·æ±‚å¯èƒ½éœ€è¦åœ¨æ¯ä¸ªè¯·æ±‚éƒ½æºå¸¦çŠ¶æ€ä¿¡æ¯ï¼ˆå¦‚èº«ä»½è®¤è¯ç­‰ï¼‰ã€‚</li>
<li>**æ›´å¥½çš„äºŒè¿›åˆ¶æ”¯æŒã€‚**Websocketå®šä¹‰äº†äºŒè¿›åˆ¶å¸§ï¼Œç›¸å¯¹HTTPï¼Œå¯ä»¥æ›´è½»æ¾åœ°å¤„ç†äºŒè¿›åˆ¶å†…å®¹ã€‚å¯ä»¥æ”¯æŒæ‰©å±•ã€‚Websocketå®šä¹‰äº†æ‰©å±•ï¼Œç”¨æˆ·å¯ä»¥æ‰©å±•åè®®ã€å®ç°éƒ¨åˆ†è‡ªå®šä¹‰çš„å­åè®®ï¼Œå¦‚éƒ¨åˆ†æµè§ˆå™¨æ”¯æŒå‹ç¼©ç­‰ã€‚</li>
<li>**æ›´å¥½çš„å‹ç¼©æ•ˆæœã€‚**ç›¸å¯¹äºHTTPå‹ç¼©ï¼ŒWebsocketåœ¨é€‚å½“çš„æ‰©å±•æ”¯æŒä¸‹ï¼Œå¯ä»¥æ²¿ç”¨ä¹‹å‰å†…å®¹çš„ä¸Šä¸‹æ–‡ï¼Œåœ¨ä¼ é€’ç±»ä¼¼çš„æ•°æ®æ—¶ï¼Œå¯ä»¥æ˜¾è‘—åœ°æé«˜å‹ç¼©ç‡ã€‚</li>
</ol>
</li>
</ul>
<h4 id="äºŒ-stomp-å’Œ-websocket"><a class="markdownIt-Anchor" href="#äºŒ-stomp-å’Œ-websocket"></a> äºŒã€Stomp å’Œ Websocket</h4>
<ul>
<li><code>STOMP</code>ï¼ˆSimple Text Orientated Messaging Protocolï¼‰ï¼Œç®€å•æ–‡æœ¬å®šå‘æ¶ˆæ¯åè®®ï¼Œå®ƒæä¾›äº†ä¸€ä¸ªå¯äº’æ“ä½œçš„è¿æ¥æ ¼å¼ï¼Œå…è®¸ STOMP å®¢æˆ·ç«¯ä¸ä»»æ„ STO,P æ¶ˆæ¯ä»£ç†ï¼ˆBrokerï¼‰è¿›è¡Œäº¤äº’ã€‚STOMP åè®®ç”±äºè®¾è®¡ç®€å•ï¼Œæ˜“äºå¼€å‘å®¢æˆ·ç«¯ï¼Œå› æ­¤åœ¨å¤šç§è¯­è¨€å’Œå¤šç§å¹³å°ä¸Šå¾—åˆ°äº†å¹¿æ³›çš„åº”ç”¨ã€‚</li>
<li><em>STOMP åè®®åˆ†ä¸ºå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ï¼š</em>
<ul>
<li><strong>STOMP æœåŠ¡ç«¯</strong>
<ul>
<li>STOMPæœåŠ¡ç«¯è¢«è®¾è®¡ä¸ºå®¢æˆ·ç«¯å¯ä»¥å‘å…¶å‘é€æ¶ˆæ¯çš„ä¸€ç»„ç›®æ ‡åœ°å€ã€‚STOMPåè®®å¹¶æ²¡æœ‰è§„å®šç›®æ ‡åœ°å€çš„æ ¼å¼ï¼Œå®ƒç”±ä½¿ç”¨åè®®çš„åº”ç”¨è‡ªå·±æ¥å®šä¹‰ã€‚ä¾‹å¦‚ï¼Œ/topic/aã€/queue/aã€queue-aå¯¹äºSTOMPåè®®æ¥è¯´éƒ½æ˜¯æ­£ç¡®çš„ã€‚åº”ç”¨å¯ä»¥è‡ªå·±è§„å®šä¸åŒçš„æ ¼å¼ä»¥æ­¤æ¥è¡¨æ˜ä¸åŒæ ¼å¼ä»£è¡¨çš„å«ä¹‰ã€‚æ¯”å¦‚åº”ç”¨è‡ªå·±å¯ä»¥å®šä¹‰ä»¥/topicæ‰“å¤´çš„ä¸ºå‘å¸ƒè®¢é˜…æ¨¡å¼ï¼Œæ¶ˆæ¯ä¼šè¢«æ‰€æœ‰æ¶ˆè´¹è€…å®¢æˆ·ç«¯æ”¶åˆ°ï¼Œä»¥/userå¼€å¤´çš„ä¸ºç‚¹å¯¹ç‚¹æ¨¡å¼ï¼Œåªä¼šè¢«ä¸€ä¸ªæ¶ˆè´¹è€…å®¢æˆ·ç«¯æ”¶åˆ°ã€‚</li>
</ul>
</li>
<li><strong>STOMP å®¢æˆ·ç«¯</strong>
<ul>
<li>å¯¹äºSTOMPåè®®æ¥è¯´ï¼Œå®¢æˆ·ç«¯ä¼šæ‰®æ¼”ä¸‹åˆ—ä¸¤ç§è§’è‰²çš„ä»»æ„ä¸€ç§ï¼š
<ul>
<li>ä½œä¸ºç”Ÿäº§è€…ï¼Œé€šè¿‡ SEND å¸§å‘é€æ¶ˆæ¯åˆ°æŒ‡å®šçš„åœ°å€ï¼›</li>
<li>ä½œä¸ºæ¶ˆè´¹è€…ï¼Œé€šè¿‡å‘é€ SUBSCRIBE å¸§åˆ°å·²çŸ¥åœ°å€æ¥è¿›è¡Œæ¶ˆæ¯è®¢é˜…ï¼Œè€Œå½“ç”Ÿäº§è€…å‘é€æ¶ˆæ¯åˆ°è¿™ä¸ªè®¢é˜…åœ°å€åï¼Œè®¢é˜…è¯¥åœ°å€çš„å…¶ä»–æ¶ˆè´¹è€…ä¼šå—åˆ°é€šè¿‡ MESSAGE å¸§å—åˆ°è¯¥æ¶ˆæ¯ã€‚</li>
</ul>
</li>
<li>å®é™…ä¸Šï¼ŒWebSocketç»“åˆSTOMPç›¸å½“äºæ„å»ºäº†ä¸€ä¸ªæ¶ˆæ¯åˆ†å‘é˜Ÿåˆ—ï¼Œå®¢æˆ·ç«¯å¯ä»¥åœ¨ä¸Šè¿°ä¸¤ä¸ªè§’è‰²é—´è½¬æ¢ï¼Œè®¢é˜…æœºåˆ¶ä¿è¯äº†ä¸€ä¸ªå®¢æˆ·ç«¯æ¶ˆæ¯å¯ä»¥é€šè¿‡æœåŠ¡å™¨å¹¿æ’­åˆ°å¤šä¸ªå…¶ä»–å®¢æˆ·ç«¯ï¼Œä½œä¸ºç”Ÿäº§è€…ï¼Œåˆå¯ä»¥é€šè¿‡æœåŠ¡å™¨æ¥å‘é€ç‚¹å¯¹ç‚¹æ¶ˆæ¯ã€‚</li>
</ul>
</li>
<li><strong>STOMP å¸§ç»“æ„</strong>
<ul>
<li>ä¸€ä¸ª STOMP å¸§æœ‰ä¸‰éƒ¨åˆ†ç»„æˆï¼š å‘½ä»¤ã€Headerï¼ˆå¤´ä¿¡æ¯ï¼‰ã€Bodyï¼ˆæ¶ˆæ¯ä½“ï¼‰ã€‚
<ul>
<li>å‘½ä»¤ä½¿ç”¨UTF-8ç¼–ç æ ¼å¼ï¼Œå‘½ä»¤æœ‰SENDã€SUBSCRIBEã€MESSAGEã€CONNECTã€CONNECTEDç­‰ã€‚</li>
<li>Headerä¹Ÿä½¿ç”¨UTF-8ç¼–ç æ ¼å¼ï¼Œå®ƒç±»ä¼¼HTTPçš„Headerï¼Œæœ‰content-lengthã€content-typeç­‰ã€‚</li>
<li>Bodyå¯ä»¥æ˜¯äºŒè¿›åˆ¶ä¹Ÿå¯ä»¥æ˜¯æ–‡æœ¬ï¼ŒBodyä¸Headeré—´é€šè¿‡ä¸€ä¸ªç©ºè¡Œï¼ˆEOLï¼‰æ¥åˆ†éš”ã€‚</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">COMMAND</span><br><span class="line"></span><br><span class="line">header1:value1</span><br><span class="line"></span><br><span class="line">header2:value2</span><br><span class="line"></span><br><span class="line">Body^@</span><br><span class="line"></span><br><span class="line">å…¶ä¸­ï¼Œ^@è¡¨ç¤ºè¡Œç»“æŸç¬¦ã€‚</span><br></pre></td></tr></table></figure>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">SEND</span><br><span class="line">destination:/broker/roomId/1</span><br><span class="line">content-length:57</span><br><span class="line"></span><br><span class="line">&#123;<span class="attr">"type"</span>:<span class="string">"OUT"</span>,<span class="attr">"content"</span>:<span class="string">"ossxxxxx-wq-yyyyyyyy"</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¬¬ 1 è¡Œï¼šè¡¨æ˜æ­¤å¸§ä¸ºSENDå¸§ï¼Œæ˜¯COMMANDå­—æ®µã€‚</span></span><br><span class="line"><span class="comment">// ç¬¬ 2 è¡Œï¼šHeaderå­—æ®µï¼Œæ¶ˆæ¯è¦å‘é€çš„ç›®çš„åœ°å€ï¼Œæ˜¯ç›¸å¯¹åœ°å€ã€‚</span></span><br><span class="line"><span class="comment">// ç¬¬ 3 è¡Œï¼šHeaderå­—æ®µï¼Œæ¶ˆæ¯ä½“å­—ç¬¦é•¿åº¦ã€‚</span></span><br><span class="line"><span class="comment">// ç¬¬ 4 è¡Œï¼šç©ºè¡Œï¼Œé—´éš”Headerä¸Bodyã€‚</span></span><br><span class="line"><span class="comment">// ç¬¬ 5 è¡Œï¼šæ¶ˆæ¯ä½“ï¼Œä¸ºè‡ªå®šä¹‰çš„JSONç»“æ„ã€‚</span></span><br></pre></td></tr></table></figure>
<h4 id="ä¸‰-webcocket-äº‹ä»¶"><a class="markdownIt-Anchor" href="#ä¸‰-webcocket-äº‹ä»¶"></a> ä¸‰ã€Webcocket äº‹ä»¶</h4>
<table>
<thead>
<tr>
<th>äº‹ä»¶</th>
<th>äº‹ä»¶å¤„ç†ç¨‹åº</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td>open</td>
<td>Socket onopen</td>
<td>è¿æ¥å»ºç«‹æ—¶è§¦å‘</td>
</tr>
<tr>
<td>message</td>
<td>Socket onopen</td>
<td>å®¢æˆ·ç«¯æ¥æ”¶æœåŠ¡ç«¯æ•°æ®æ—¶è§¦å‘</td>
</tr>
<tr>
<td>error</td>
<td>Socket onerror</td>
<td>é€šè®¯å‘ç”Ÿé”™è¯¯æ—¶è§¦å‘</td>
</tr>
<tr>
<td>close</td>
<td>Socket onclose</td>
<td>è¿æ¥å…³é—­æ—¶è§¦å‘</td>
</tr>
</tbody>
</table>
<ul>
<li>ä¸€ä¸ªé¡µé¢ä½¿ç”¨ Websocket çš„ç¤ºä¾‹ï¼š</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> ws = <span class="keyword">new</span> WebSocket(<span class="string">"ws://localhost:8080"</span>);</span><br><span class="line"></span><br><span class="line">ws.onopen = <span class="function"><span class="keyword">function</span>(<span class="params">evt</span>) </span>&#123; </span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"Connection open ..."</span>); </span><br><span class="line">ws.send(<span class="string">"Hello WebSockets!"</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">ws.onmessage = <span class="function"><span class="keyword">function</span>(<span class="params">evt</span>) </span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log( <span class="string">"Received Message: "</span> + evt.data);</span><br><span class="line">ws.close();</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">ws.onclose = <span class="function"><span class="keyword">function</span>(<span class="params">evt</span>) </span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"Connection closed."</span>);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h4 id="å››-spring-boot-ä¸-websocket-æ•´åˆspring-boot-websocket-èŠå¤©å®¤"><a class="markdownIt-Anchor" href="#å››-spring-boot-ä¸-websocket-æ•´åˆspring-boot-websocket-èŠå¤©å®¤"></a> å››ã€Spring Boot ä¸ Websocket æ•´åˆ(Spring Boot Websocket èŠå¤©å®¤)</h4>
<ol>
<li>
<p><strong>èŠå¤©å®¤åŠŸèƒ½</strong></p>
<ul>
<li>æ”¯æŒç”¨æˆ·åŠ å…¥èŠå¤©å®¤ï¼Œå¯¹åº”åˆ° Websocket æŠ€æœ¯å°±æ˜¯å»ºç«‹è¿æ¥ onopenï¼›</li>
<li>æ”¯æŒç”¨æˆ·é€€å‡ºèŠå¤©å®¤ï¼Œå¯¹åº”åˆ° Websocket æŠ€æœ¯å°±æ˜¯å…³é—­è¿æ¥ oncloseï¼›</li>
<li>æ”¯æŒç”¨æˆ·åœ¨èŠå¤©å®¤å‘é€æ¶ˆæ¯ï¼Œå¯¹åº”åˆ° Websocket æŠ€æœ¯å°±æ˜¯è°ƒç”¨ onmessage å‘é€æ¶ˆæ¯ï¼›</li>
<li>æ”¯æŒå¼‚å¸¸æ—¶æç¤ºï¼Œå¯¹åº”åˆ° Websocket æŠ€æœ¯ onerrorã€‚</li>
</ul>
</li>
<li>
<p><strong>é¡µé¢å¼€å‘</strong></p>
<ul>
<li>å‰ç«¯ä½¿ç”¨ Bootstrap æ¸²æŸ“é¡µé¢ï¼Œé¡µé¢å†…å®¹å¦‚ä¸‹ï¼š</li>
</ul>
 <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>chat room websocket<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"bootstrap.min.css"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"jquery-3.2.1.min.js"</span> &gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">class</span>=<span class="string">"container"</span> <span class="attr">style</span>=<span class="string">"width: 60%"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"form-group"</span> &gt;</span><span class="tag">&lt;/<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h5</span>&gt;</span>èŠå¤©å®¤<span class="tag">&lt;/<span class="name">h5</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">textarea</span> <span class="attr">id</span>=<span class="string">"message_content"</span>  <span class="attr">class</span>=<span class="string">"form-control"</span>  <span class="attr">readonly</span>=<span class="string">"readonly"</span> <span class="attr">cols</span>=<span class="string">"50"</span> <span class="attr">rows</span>=<span class="string">"10"</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"form-group"</span> &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"in_user_name"</span>&gt;</span>ç”¨æˆ·å§“å <span class="symbol">&amp;nbsp;</span><span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">"in_user_name"</span> <span class="attr">value</span>=<span class="string">""</span> <span class="attr">class</span>=<span class="string">"form-control"</span> /&gt;</span><span class="tag">&lt;/<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"user_join"</span> <span class="attr">class</span>=<span class="string">"btn btn-success"</span> &gt;</span>åŠ å…¥èŠå¤©å®¤<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"user_exit"</span> <span class="attr">class</span>=<span class="string">"btn btn-warning"</span> &gt;</span>ç¦»å¼€èŠå¤©å®¤<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"form-group"</span> &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"in_room_msg"</span> &gt;</span>ç¾¤å‘æ¶ˆæ¯ <span class="symbol">&amp;nbsp;</span><span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">"in_room_msg"</span> <span class="attr">value</span>=<span class="string">""</span> <span class="attr">class</span>=<span class="string">"form-control"</span> /&gt;</span><span class="tag">&lt;/<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"user_send_all"</span> <span class="attr">class</span>=<span class="string">"btn btn-info"</span> &gt;</span>å‘é€æ¶ˆæ¯<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- æœ€ä¸Šé¢ä½¿ç”¨textareaç”»ä¸€ä¸ªå¯¹è¯æ¡†ï¼Œç”¨æ¥æ˜¾ç¤ºèŠå¤©å®¤çš„å†…å®¹ï¼›ä¸­é—´éƒ¨åˆ†æ·»åŠ ç”¨æˆ·åŠ å…¥èŠå¤©å®¤å’Œç¦»å¼€èŠå¤©å®¤çš„æŒ‰é’®ï¼ŒæŒ‰é’®ä¸Šé¢æ˜¯è¾“å…¥ç”¨æˆ·åçš„å…¥å£ï¼›é¡µé¢æœ€ä¸‹é¢æ·»åŠ å‘é€æ¶ˆæ¯çš„å…¥å£ï¼Œ --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- é¡µé¢ä¸­æ·»åŠ  Websocket é€šè®¯ä»£ç ï¼š --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="javascript">    $(<span class="built_in">document</span>).ready(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> urlPrefix =<span class="string">'ws://localhost:8080/chat-room/'</span>;</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> ws = <span class="literal">null</span>;</span></span><br><span class="line"><span class="javascript">        $(<span class="string">'#user_join'</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> username = $(<span class="string">'#in_user_name'</span>).val();</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> url = urlPrefix + username;</span></span><br><span class="line"><span class="actionscript">            ws = <span class="keyword">new</span> WebSocket(url);</span></span><br><span class="line"><span class="actionscript">            ws.onopen = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="built_in">console</span>.log(<span class="string">"å»ºç«‹ websocket è¿æ¥..."</span>);</span></span><br><span class="line">            &#125;;</span><br><span class="line"><span class="actionscript">            ws.onmessage = <span class="function"><span class="keyword">function</span><span class="params">(event)</span></span>&#123;</span></span><br><span class="line"><span class="actionscript">                <span class="comment">//æœåŠ¡ç«¯å‘é€çš„æ¶ˆæ¯</span></span></span><br><span class="line"><span class="javascript">                $(<span class="string">'#message_content'</span>).append(event.data+<span class="string">'\n'</span>);</span></span><br><span class="line">            &#125;;</span><br><span class="line"><span class="actionscript">            ws.onclose = <span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</span></span><br><span class="line"><span class="javascript">                $(<span class="string">'#message_content'</span>).append(<span class="string">'ç”¨æˆ·['</span>+username+<span class="string">'] å·²ç»ç¦»å¼€èŠå¤©å®¤!'</span>);</span></span><br><span class="line"><span class="javascript">                <span class="built_in">console</span>.log(<span class="string">"å…³é—­ websocket è¿æ¥..."</span>);</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"><span class="actionscript">        <span class="comment">//å®¢æˆ·ç«¯å‘é€æ¶ˆæ¯åˆ°æœåŠ¡å™¨</span></span></span><br><span class="line"><span class="javascript">        $(<span class="string">'#user_send_all'</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> msg = $(<span class="string">'#in_room_msg'</span>).val();</span></span><br><span class="line">            if(ws)&#123;</span><br><span class="line">                ws.send(msg);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"><span class="actionscript">        <span class="comment">// é€€å‡ºèŠå¤©å®¤</span></span></span><br><span class="line"><span class="javascript">        $(<span class="string">'#user_exit'</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line">            if(ws)&#123;</span><br><span class="line">                ws.close();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- ä¸»è¦æ˜¯ç›‘å¬ä¸‰ä¸ªæŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶ï¼Œå½“ç”¨æˆ·ç™»å½•ã€ç¦»å¼€ã€å‘é€æ¶ˆæ¯æ˜¯è°ƒç”¨å¯¹åº”çš„WebSocketäº‹ä»¶ï¼Œå°†ä¿¡æ¯ä¼ é€ç»™æœåŠ¡ç«¯ã€‚åŒæ—¶æ‰“å¼€é¡µé¢æ—¶åˆ›å»ºäº†WebSocketå¯¹è±¡ï¼Œé¡µé¢ä¼šç›‘æ§WebSocketäº‹ä»¶ï¼Œå¦‚æœåç«¯æœåŠ¡å’Œå‰ç«¯é€šè®¯å®¤å°†å¯¹åº”çš„ä¿¡æ¯å±•ç¤ºåœ¨é¡µé¢ã€‚ --&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p><strong>æœåŠ¡ç«¯å¼€å‘</strong></p>
<ul>
<li>æ·»åŠ ä¾èµ–</li>
</ul>
 <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-websocket<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>å¯åŠ¨ç±»
<ul>
<li>å¯åŠ¨ç±»éœ€è¦æ·»åŠ  <code>@EnableWebSocket</code> å¼€å¯ WebSocket åŠŸèƒ½ã€‚</li>
</ul>
</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@EnableWebSocket</span></span><br><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WebSocketApplication</span> </span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        SpringApplication.run(WebSocketApplication<span class="class">.<span class="keyword">class</span>, <span class="title">args</span>)</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ServerEndpointExporter <span class="title">serverEndpointExporter</span><span class="params">()</span> </span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ServerEndpointExporter();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>è¯·æ±‚æ¥æ”¶
<ul>
<li>åœ¨åˆ›å»ºæœåŠ¡ç«¯æ¶ˆæ¯æ¥æ”¶åŠŸèƒ½ä¹‹å‰ï¼Œå…ˆåˆ›å»ºä¸€ä¸ªWebSocketUtilså·¥å…·ç±»ï¼Œç”¨æ¥å­˜å‚¨èŠå¤©å®¤åœ¨çº¿çš„ç”¨æˆ·ä¿¡æ¯ï¼Œä»¥åŠå‘é€æ¶ˆæ¯çš„åŠŸèƒ½ã€‚å®šä¹‰å…¨å±€å˜é‡ONLINE_USER_SESSIONSç”¨æ¥å­˜å‚¨åœ¨çº¿ç”¨æˆ·ï¼Œä½¿ç”¨ConcurrentHashMapæå‡é«˜å¹¶å‘æ—¶æ•ˆç‡ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Slf</span>4j</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">WebSocketUtils</span> </span>&#123;</span><br><span class="line">  <span class="comment">// å­˜å‚¨ websocket session</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> Map&lt;String, Session&gt; ONLINE_USER_SESSIONS = <span class="keyword">new</span> ConcurrentHashMap&lt;&gt;();</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">sendMessage</span><span class="params">(Session session, String message)</span> </span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (session == <span class="keyword">null</span>) </span><br><span class="line">      &#123;</span><br><span class="line">          <span class="keyword">return</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">final</span> RemoteEndpoint.Basic basic = session.getBasicRemote();</span><br><span class="line">      <span class="keyword">if</span> (basic == <span class="keyword">null</span>) </span><br><span class="line">      &#123;</span><br><span class="line">          <span class="keyword">return</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">try</span> </span><br><span class="line">      &#123;</span><br><span class="line">          basic.sendText(message);</span><br><span class="line">      &#125; </span><br><span class="line">      <span class="keyword">catch</span> (IOException e) </span><br><span class="line">      &#123;</span><br><span class="line">          log.error(<span class="string">"sendMessage IOException "</span>, e);</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">sendMessageAll</span><span class="params">(String message)</span> </span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">      ONLINE_USER_SESSIONS.forEach((sessionId, session) -&gt; sendMessage(session, message));</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li>
<p><strong>Controller</strong></p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Slf</span>4j</span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@ServerEndpoint</span>(<span class="string">"/chat-room/&#123;username&#125;"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ChatRoomServerEndpoint</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="meta">@OnOpen</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">openSession</span><span class="params">(@PathParam(<span class="string">"username"</span>)</span> String username, Session session)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        ONLINE_USER_SESSIONS.put(username, session);</span><br><span class="line">        String message = <span class="string">"æ¬¢è¿ç”¨æˆ·["</span> + username + <span class="string">"]æ¥åˆ°èŠå¤©å®¤"</span>;</span><br><span class="line">        log.info(<span class="string">"ç”¨æˆ·ç™»å½• : &#123;&#125;"</span>, message);</span><br><span class="line">        sendMessageAll(message);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@OnMessage</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onMessage</span><span class="params">(@PathParam(<span class="string">"username"</span>)</span> String username, String message)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        log.info(<span class="string">"å‘é€æ¶ˆæ¯ : "</span>+message);</span><br><span class="line">        sendMessageAll(<span class="string">"ç”¨æˆ·["</span> + username + <span class="string">"] : "</span> + message);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@OnClose</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClose</span><span class="params">(@PathParam(<span class="string">"username"</span>)</span> String username, Session session)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">// å½“å‰çš„Sessionç§»é™¤</span></span><br><span class="line">        ONLINE_USER_SESSIONS.remove(username);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// é€šçŸ¥å…¶ä»–äººå½“å‰ç”¨æˆ·å·²ç»ç¦»å¼€èŠå¤©å®¤äº†</span></span><br><span class="line">        sendMessageAll(<span class="string">"ç”¨æˆ·["</span> + username + <span class="string">"]å·²ç»ç¦»å¼€èŠå¤©å®¤"</span>);</span><br><span class="line">        <span class="keyword">try</span></span><br><span class="line">        &#123;</span><br><span class="line">            session.close();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">catch</span> (IOException e)</span><br><span class="line">        &#123;</span><br><span class="line">            log.error(<span class="string">"onClose excepiton"</span>, e);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@OnError</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onError</span><span class="params">(Session session, Throwable throwable)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">try</span></span><br><span class="line">        &#123;</span><br><span class="line">            session.close();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">catch</span> (IOException e)</span><br><span class="line">        &#123;</span><br><span class="line">            log.error(<span class="string">"onError excepiton"</span>, e);</span><br><span class="line">        &#125;</span><br><span class="line">        log.info(<span class="string">"Throwable msg &#123;&#125;"</span>, throwable.getMessage());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>æ¥å—ç±»ä¸Šéœ€è¦æ·»åŠ <code>@ServerEndpoint(&quot;url&quot;)</code>ä»£è¡¨ç›‘å¬æ­¤åœ°å€çš„ WebSocket ä¿¡æ¯ã€‚</li>
<li>@OnOpenæ³¨è§£å’Œå‰ç«¯çš„onopenäº‹ä»¶ä¸€è‡´ï¼Œè¡¨ç¤ºç”¨æˆ·å»ºç«‹è¿æ¥æ—¶è§¦å‘ã€‚</li>
<li>@OnMessageç›‘å¬å‘é€æ¶ˆæ¯çš„äº‹ä»¶ã€‚</li>
<li>@OnCloseç›‘å¬ç”¨æˆ·æ–­å¼€è¿æ¥äº‹ä»¶ã€‚</li>
<li>@OnErroräº‹ä»¶ï¼Œå¯ä»¥åœ¨æ­¤æ–¹æ³•å†…è®°å½•ä¸‹é”™è¯¯çš„å¼‚å¸¸ä¿¡æ¯ï¼Œå¹¶å…³é—­ç”¨æˆ·è¿æ¥ã€‚</li>
</ul>
<h2 id="sshare-åˆ†äº«ä¸€ç¯‡æœ‰è§‚ç‚¹å’Œæ€è€ƒçš„æŠ€æœ¯æ–‡ç« "><a class="markdownIt-Anchor" href="#sshare-åˆ†äº«ä¸€ç¯‡æœ‰è§‚ç‚¹å’Œæ€è€ƒçš„æŠ€æœ¯æ–‡ç« "></a> Sâ€”â€”Share    åˆ†äº«ä¸€ç¯‡æœ‰è§‚ç‚¹å’Œæ€è€ƒçš„æŠ€æœ¯æ–‡ç« </h2>
<p><a href="https://coolshell.cn/articles/19271.html" target="_blank" rel="noopener">https://coolshell.cn/articles/19271.html</a></p>
]]></content>
      
        
        <tags>
            
            <tag> æ‰“å¡ </tag>
            
            <tag> ARTS </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[ARTS æ¯å‘¨æ‰“å¡è®°å½•â€”â€”2019/03/30]]></title>
      <url>http://tech.noexception.cn/2019/03/30/arts1/</url>
      <content type="html"><![CDATA[<p>è·¯æ¼«æ¼«å…¶ä¿®è¿œå…®ï¼Œå¾å°†ä¸Šä¸‹è€Œæ±‚ç´¢</p>
<a id="more"></a>
<blockquote>
<p>ARTSæ˜¯ä»€ä¹ˆï¼Ÿ</br><br />
Algorithmï¼šæ¯å‘¨è‡³å°‘åšä¸€ä¸ªleetcodeçš„ç®—æ³•é¢˜ï¼›</br><br />
Reviewï¼šé˜…è¯»å¹¶ç‚¹è¯„è‡³å°‘ä¸€ç¯‡è‹±æ–‡æŠ€æœ¯æ–‡ç« ï¼›</br><br />
Tip/Techniï¼šå­¦ä¹ è‡³å°‘ä¸€ä¸ªæŠ€æœ¯æŠ€å·§ï¼›</br><br />
Shareï¼šåˆ†äº«ä¸€ç¯‡æœ‰è§‚ç‚¹å’Œæ€è€ƒçš„æŠ€æœ¯æ–‡ç« ã€‚</br></p>
</blockquote>
<h2 id="1-algorithms"><a class="markdownIt-Anchor" href="#1-algorithms"></a> 1. Algorithms</h2>
<ul>
<li>LeetCode
<ul>
<li><strong>é¢˜ç›®ï¼š</strong> è®¡ç®—ç»™å®šäºŒå‰æ ‘çš„æ‰€æœ‰å·¦å¶å­ä¹‹å’Œã€‚</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">    3</span><br><span class="line">   &#x2F; \</span><br><span class="line">  9  20</span><br><span class="line">    &#x2F;  \</span><br><span class="line">   15   7</span><br><span class="line"></span><br><span class="line">åœ¨è¿™ä¸ªäºŒå‰æ ‘ä¸­ï¼Œæœ‰ä¸¤ä¸ªå·¦å¶å­ï¼Œåˆ†åˆ«æ˜¯ 9 å’Œ 15ï¼Œæ‰€ä»¥è¿”å› 24</span><br></pre></td></tr></table></figure>
<ul>
<li>è§£ç­”ï¼š</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * public class TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode left;</span></span><br><span class="line"><span class="comment"> *     TreeNode right;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int x) &#123; val = x; &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">sumOfLeftLeaves</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> sumOfLeft(root, <span class="keyword">false</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">sumOfLeft</span><span class="params">(TreeNode root, Boolean flag)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(root == <span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(root.left == <span class="keyword">null</span> &amp;&amp; root.right == <span class="keyword">null</span> &amp;&amp; flag == <span class="keyword">true</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> root.val;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sumOfLeft(root.left, <span class="keyword">true</span>) + sumOfLeft(root.right, <span class="keyword">false</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="2-review"><a class="markdownIt-Anchor" href="#2-review"></a> 2. Review</h2>
<ul>
<li>æ­»æ´»æ‰“ä¸å¼€å¤–å›½ç½‘ç«™â€¦æš‚æ—¶çœ‹çœ‹å›½å†…æ–‡ç« ï¼Œä»¥åŠè‡ªå·±çš„ä¸€äº›è§‚ç‚¹å§
<ul>
<li><a href="https://tech.sina.cn/i/gn/2019-03-30/detail-ihsxncvh6910257.d.html?from=wap" target="_blank" rel="noopener">æ·˜å®å®£å¸ƒç›´æ’­è®¡åˆ’ï¼šä»Šå¹´åŸ¹è‚²200ä¸ªé”€å”®é¢è¿‡äº¿ç›´æ’­é—´</a></li>
</ul>
</li>
<li>æˆ‘çš„è§‚ç‚¹ï¼Œçº¿ä¸Šè´­ç‰© + ç›´æ’­ä¼šå¾ˆç«ï¼Œå®¹æ˜“æ¿€å‘è·¯äººçš„è´­ç‰©æ¬²æœ›ã€‚</li>
</ul>
<h2 id="3-tips"><a class="markdownIt-Anchor" href="#3-tips"></a> 3. Tips</h2>
<ul>
<li>åœ¨é˜¿é‡Œé£å†°çš„æ–‡æ¡£é‡Œé¢çœ‹åˆ°çš„ä¸€äº›å°è§„èŒƒï¼š
<ul>
<li>æäº¤ commti çš„ç±»å‹ï¼ŒåŒ…æ‹¬ä»¥ä¸‹å‡ ç§
<ol>
<li>feat: æ–°åŠŸèƒ½</li>
<li>fix: ä¿®å¤é—®é¢˜</li>
<li>docs: ä¿®æ”¹æ–‡æ¡£</li>
<li>style: ä¿®æ”¹ä»£ç æ ¼å¼ï¼Œä¸å½±å“ä»£ç é€»è¾‘</li>
<li>refactor: é‡æ„ä»£ç ï¼Œç†è®ºä¸Šä¸å½±å“ç°æœ‰åŠŸèƒ½</li>
<li>perf: æå‡æ€§èƒ½</li>
<li>test: å¢åŠ ä¿®æ”¹æµ‹è¯•ç”¨ä¾‹</li>
<li>chore: ä¿®æ”¹å·¥å…·ç›¸å…³ï¼ˆåŒ…æ‹¬ä½†ä¸é™äºæ–‡æ¡£ã€ä»£ç ç”Ÿæˆç­‰ï¼‰</li>
<li>deps: å‡çº§ä¾èµ–</li>
</ol>
</li>
</ul>
</li>
<li>è¿™äº›å°è§„èŒƒï¼Œæœ‰ä¸€ä¸ªå¥½å¤„ï¼Œåœ¨çœ‹ git log çš„æ—¶å€™ï¼Œå¾ˆæ¸…æ™°æ˜äº†çš„çŸ¥é“è‡ªå·±å’Œå…¶ä»–äººä¿®æ”¹äº†ä»€ä¹ˆå†…å®¹ã€‚</li>
</ul>
<h2 id="4-share"><a class="markdownIt-Anchor" href="#4-share"></a> 4. Share</h2>
<ul>
<li><strong>Spring Autowired ä¸ Resource çš„åŒºåˆ«</strong></li>
<li><code>@Resource</code> å’Œ <code>@Autowired</code> éƒ½æ˜¯åš bean çš„æ³¨å…¥æ—¶ä½¿ç”¨ï¼Œå…¶å® <code>@Resource</code> å¹¶ä¸æ˜¯ Spring çš„æ³¨è§£ï¼Œå®ƒçš„åŒ…æ˜¯ <code>javax.annotation.Resource</code>, éœ€è¦å¯¼å…¥ï¼Œä½†æ˜¯ Spring æ”¯æŒè¯¥æ³¨è§£çš„æ³¨å…¥ã€‚</li>
</ul>
<h3 id="å…±åŒç‚¹"><a class="markdownIt-Anchor" href="#å…±åŒç‚¹"></a> å…±åŒç‚¹</h3>
<ul>
<li>ä¸¤è€…éƒ½å¯ä»¥å¸è½½å­—æ®µå’Œ setter æ–¹æ³•ä¸Šã€‚ä¸¤è€…å¦‚æœéƒ½å†™åœ¨å­—æ®µä¸Šï¼Œé‚£ä¹ˆå°±ä¸éœ€è¦å†å†™ setter æ–¹æ³•ã€‚</li>
</ul>
<h3 id="ä¸åŒç‚¹"><a class="markdownIt-Anchor" href="#ä¸åŒç‚¹"></a> ä¸åŒç‚¹</h3>
<ol>
<li><em>@Autowired</em></li>
</ol>
<ul>
<li><code>@Autowired</code>ä¸º Spring æä¾›çš„æ³¨è§£ï¼Œéœ€è¦å¯¼å…¥åŒ…<code>org.springframework.beans.factory.annotation.Autowired</code>;åªæŒ‰ç…§byTypeæ³¨å…¥ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestServiceImpl</span> </span>&#123;</span><br><span class="line">    <span class="comment">// ä¸‹é¢ä¸¤ç§@Autowiredåªè¦ä½¿ç”¨ä¸€ç§å³å¯</span></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserDao userDao; <span class="comment">// ç”¨äºå­—æ®µä¸Š</span></span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUserDao</span><span class="params">(UserDao userDao)</span> </span>&#123; <span class="comment">// ç”¨äºå±æ€§çš„æ–¹æ³•ä¸Š</span></span><br><span class="line">        <span class="keyword">this</span>.userDao = userDao;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><code>@Autowired</code>æ³¨è§£æ˜¯æŒ‰ç…§ç±»å‹ï¼ˆbyTypeï¼‰è£…é…ä¾èµ–å¯¹è±¡ï¼Œé»˜è®¤æƒ…å†µä¸‹å®ƒè¦æ±‚ä¾èµ–å¯¹è±¡å¿…é¡»å­˜åœ¨ï¼Œå¦‚æœå…è®¸ null å€¼ï¼Œå¯ä»¥è®¾ç½®å®ƒçš„ required å±æ€§ä¸º falseã€‚å¦‚æœæˆ‘ä»¬æƒ³ä½¿ç”¨æŒ‰ç…§åç§°ï¼ˆbyNameï¼‰æ¥è£…é…ï¼Œå¯ä»¥ç»“åˆ<code>@Qualifier</code>æ³¨è§£ä¸€èµ·ä½¿ç”¨ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestServiceImpl</span></span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="meta">@Qualified</span>(<span class="string">"userDao"</span>)</span><br><span class="line">    <span class="keyword">private</span> UserDao userDao;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="2">
<li><em>@Resource</em></li>
</ol>
<pre><code>- `@Resource`é»˜è®¤æŒ‰ç…§ ByName è‡ªåŠ¨æ³¨å…¥ï¼Œç”± J2EE æä¾›ï¼Œéœ€è¦å¯¼å…¥åŒ…`javax.annotation.Resource`ã€‚`@Resource`æœ‰ä¸¤ä¸ªé‡è¦çš„å±æ€§ï¼šname å’Œ typeï¼Œè€Œ Spring å°†`@Resource`æ³¨è§£çš„ name å±æ€§è§£æä¸º bean çš„åå­—ï¼Œè€Œ type å±æ€§åˆ™è§£æä¸º bean çš„ç±»å‹ã€‚æ‰€ä»¥ï¼Œå¦‚æœä½¿ç”¨ name å±æ€§ï¼Œåˆ™ä½¿ç”¨ byName çš„è‡ªåŠ¨æ³¨å…¥ç­–ç•¥ï¼Œè€Œä½¿ç”¨ type å±æ€§æ—¶åˆ™ä½¿ç”¨ byType è‡ªåŠ¨æ³¨å…¥ç­–ç•¥ã€‚å¦‚æœæ—¢ä¸åˆ¶å®š name ä¹Ÿä¸åˆ¶å®š type å±æ€§ï¼Œè¿™æ—¶å°†é€šè¿‡åå°„æœºåˆ¶ä½¿ç”¨ byName è‡ªåŠ¨æ³¨å…¥ç­–ç•¥ã€‚
</code></pre>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestServiceImpl</span> </span>&#123;</span><br><span class="line">    <span class="comment">// ä¸‹é¢ä¸¤ç§@Resourceåªè¦ä½¿ç”¨ä¸€ç§å³å¯</span></span><br><span class="line">    <span class="meta">@Resource</span>(name=<span class="string">"userDao"</span>)</span><br><span class="line">    <span class="keyword">private</span> UserDao userDao; <span class="comment">// ç”¨äºå­—æ®µä¸Š</span></span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Resource</span>(name=<span class="string">"userDao"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUserDao</span><span class="params">(UserDao userDao)</span> </span>&#123; <span class="comment">// ç”¨äºå±æ€§çš„setteræ–¹æ³•ä¸Š</span></span><br><span class="line">        <span class="keyword">this</span>.userDao = userDao;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<pre><code>- **æ³¨**ï¼šæœ€å¥½æ˜¯å°†`@Resource`æ”¾åœ¨ setter æ–¹æ³•ä¸Šï¼Œå› ä¸ºè¿™æ ·æ›´ç¬¦åˆé¢å‘å¯¹è±¡çš„æ€æƒ³ï¼Œé€šè¿‡ setã€get å»æ“ä½œå±æ€§ï¼Œè€Œä¸æ˜¯ç›´æ¥å»æ“ä½œå±æ€§ã€‚
</code></pre>
<h3 id="resource-è£…é…é¡ºåº"><a class="markdownIt-Anchor" href="#resource-è£…é…é¡ºåº"></a> <code>@Resource è£…é…é¡ºåº</code>ï¼š</h3>
<ol>
<li>å¦‚æœåŒæ—¶æŒ‡å®šäº† name å’Œ typeï¼Œåˆ™ä» Spring ä¸Šä¸‹æ–‡ä¸­æ‰¾åˆ°å”¯ä¸€åŒ¹é…çš„ bean è¿›è¡Œè£…é…ï¼Œæ‰¾ä¸åˆ°åˆ™æŠ›å‡ºå¼‚å¸¸ã€‚</li>
<li>å¦‚æœæŒ‡å®šäº† nameï¼Œåˆ™ä»ä¸Šä¸‹æ–‡ä¸­æŸ¥æ‰¾åç§°ï¼ˆidï¼‰åŒ¹é…çš„ bean è¿›è¡Œè£…é…ï¼Œæ‰¾ä¸åˆ°åˆ™æŠ›å‡ºå¼‚å¸¸ã€‚</li>
<li>å¦‚æœæŒ‡å®šäº† typeï¼Œåˆ™ä»ä¸Šä¸‹æ–‡ä¸­æ‰¾åˆ°ç±»ä¼¼åŒ¹é…çš„å”¯ä¸€ bean è¿›è¡Œè£…é…ï¼Œæ‰¾ä¸åˆ°æˆ–æ˜¯æ‰¾åˆ°å¤šä¸ªï¼Œéƒ½ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚</li>
<li>å¦‚æœæ—¢æ²¡æœ‰æŒ‡å®š nameï¼Œåˆæ²¡æœ‰æŒ‡å®š typeï¼Œåˆ™è‡ªåŠ¨æŒ‰ç…§ byName æ–¹å¼è¿›è¡Œè£…é…ï¼›å¦‚æœæ²¡æœ‰åŒ¹é…ï¼Œåˆ™é€€å›ä¸€ä¸ªåŸå§‹ç±»å‹è¿›è¡ŒåŒ¹é…ï¼Œå¦‚æœåŒ¹é…åˆ™è‡ªåŠ¨è£…é…ã€‚</li>
</ol>
<ul>
<li><strong><code>@Resource</code>çš„ä½œç”¨ç›¸å½“äº<code>@Autowired</code>ï¼Œåªä¸è¿‡<code>@Autowired</code>æŒ‰ç…§ byName è‡ªåŠ¨æ³¨å…¥ã€‚</strong></li>
</ul>
]]></content>
      
        
        <tags>
            
            <tag> ARTS æ‰“å¡ </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[2019æ–°å¹´è®¡åˆ’]]></title>
      <url>http://tech.noexception.cn/2019/01/06/2019first/</url>
      <content type="html"><![CDATA[<div id="hbe-security">
  <div class="hbe-input-container">
  <input type="password" class="hbe-form-control" id="pass" placeholder="å‹¤åŠ³æ¸©æŸ”ï¼Œè¿˜å–„è‰¯" />
    <label for="pass">å‹¤åŠ³æ¸©æŸ”ï¼Œè¿˜å–„è‰¯</label>
    <div class="bottom-line"></div>
  </div>
</div>
<div id="decryptionError" style="display: none;">Incorrect Password!</div>
<div id="noContentError" style="display: none;">No content to display!</div>
<div id="encrypt-blog" style="display:none">
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
</div>
<script src="/lib/crypto-js.js"></script><script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
      
        
        <tags>
            
            <tag> æ–°å¹´è®¡åˆ’ </tag>
            
            <tag> ç®—æ—§è´¦ </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[ä¸¢å¤±çš„æ–‡ç« è®°å½•]]></title>
      <url>http://tech.noexception.cn/2018/10/01/logbefore/</url>
      <content type="html"><![CDATA[<div id="hbe-security">
  <div class="hbe-input-container">
  <input type="password" class="hbe-form-control" id="pass" placeholder="ä¸–ç•Œä¸Šæœ€ç¾ä¸½çš„äººæ˜¯è°." />
    <label for="pass">ä¸–ç•Œä¸Šæœ€ç¾ä¸½çš„äººæ˜¯è°.</label>
    <div class="bottom-line"></div>
  </div>
</div>
<div id="decryptionError" style="display: none;">Incorrect Password!</div>
<div id="noContentError" style="display: none;">No content to display!</div>
<div id="encrypt-blog" style="display:none">
U2FsdGVkX1+dikaSo94F+W/1R235MD9POmQzNUwvMB0K//nIAGOKJRjOXczSp4mVWMYxANOY+fyPcAjplaGGJ8f1lqfXpwk6KhYV1TtRvi0r4VxtPowJnIu90kps2HG4ixCLeyFxem5h11fNwNQ+0RekGbpgXJR+L1+rF0OcUOx9SLdLpnLJYVQ9tW891/TS2JniiGaXb8dcNHGawAHtFaAOkVIi3/HNL5f4WnsWIXx+1fABr//pt66psdaVHP9MaFsoZg5zHoGn80zEl4IyYwr6ZtaP4yih1trm2UPh3Uroq1/Mz3UJQMIbqHcpXVTw28oWCxnNxa06tjzZAr4ggOUDdLXLmuqLrqAONtMXnhgSCGqKmVKB+xQCpWtq9JjLs00Ep0rg+Ii2S/hT1Et8s2zhT6bdRl1x18JaBH9Zf4I5ztFOZR/i20IHcDD1PORnYpYrIoeCd6vK9U4kJ1gJ3hzfSDspfshppvh33bVZjxzYssYekZY188r+ECXTNK3xQIlWcpCsfUEujZ3xtcMXjfs/FpWNBTGpDzZkbQj+IQMiwEGE9OiidM71qExQAc2SO9qxsmz2RO9RnMXu183e5qtZMAndOzMsjOvoVI1Ea4trBjqnikd8GWUHqtWIAhsdW1r+ZE10Zl/ltlp0dBdqiPi161BSzlVilVXU/H650ZXJnG7N8fdeIs3qdGYx2rEgj+ule1tP9lM5CRBwBXALrAjIY6zFQduZf2sPMt2M3g7JT6pVtTjsOcmo7l8++Cwvwzmg8FOh7NjgQlZ/NIIPYWOij34wzHmJnXLyQqHqXCiU/jqlkFQwQxj2F4R0cWZzDLL4p37l2Jb7ZBWcF3iu+GdRcsNuOzSV59vJHAiyjOTCM4hSsXcmx1r+ITxI0eYk9KMUBsuCXyTptohtPQ521mzmlnyNA3WcRTFcq1w7ncS/8XECtReIgmYkGCRhW3voH5UhdvYyX5WuuEuFNVZmbrbKvIkW+f9nBgbrxujr7ck3dBc2Kefehjn5C9hn/ozp5Md0Hh4EUKJyU7ncskE1Radish+e/diiNYPlJL0J6DUfXL2mF4YE3QCYu3m9Mnzh4WxnB/Atq3MCn1BzWhAc27msis5Q541PQ+zmuAe85mtSWLA8JepLY+jQi2zpx9R5XUKGJroJpQzXsSm+KUus18+ig8MOdW4Ic4TdXskYaaHw80dz3kZYVxXLmUXr2njcrUFZ+anzX+vP3BUq1+c5zjgukP+HNrYttR1pzG8Piay1wIRwAUx/G7NF03vibIbzLwGBSGB/zrhE3+opndOR81NuqONny74qiInsSLrYIgjCq0oQ3fdkSqUWPCBHAWDY+xMhQ2F0kRBYzkftET3s1IykWHLWKSlmqykUtrgiHsILs2fS1IwGlFHtMe5tIJJ8SDY1FPmeN7Qhu5ZXJXi3DZUyYWtk2mdMZNOGesg0uwQlYLHWvq6KxlNvQhF9/OhT
</div>
<script src="/lib/crypto-js.js"></script><script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
      
        
    </entry>
    
    <entry>
      <title><![CDATA[SQL ç‰¹æ€§]]></title>
      <url>http://tech.noexception.cn/2017/04/13/SQLAdavance/</url>
      <content type="html"><![CDATA[<p>å…³äºé«˜çº§ SQL ç‰¹æ€§çš„è¯»ä¹¦ç¬”è®°æ•´ç†</p>
<a id="more"></a>
<h1 id="çº¦æŸ"><a class="markdownIt-Anchor" href="#çº¦æŸ"></a> çº¦æŸ</h1>
<ul>
<li>çº¦æŸ(constraint)ï¼šç®¡ç†å¦‚ä½•æ’å…¥æˆ–å¤„ç†æ•°æ®åº“æ•°æ®çš„è§„åˆ™ã€‚</li>
</ul>
<h2 id="ä¸»é”®"><a class="markdownIt-Anchor" href="#ä¸»é”®"></a> ä¸»é”®</h2>
<ul>
<li>ä¸»é”®æ˜¯ä¸€ç§ç‰¹æ®Šçš„çº¦æŸï¼Œç”¨æ¥ä¿è¯ä¸€åˆ—ä¸­çš„å€¼æ˜¯å”¯ä¸€çš„ï¼Œè€Œä¸”æ°¸ä¸æ”¹åŠ¨ã€‚</li>
<li>ä¸»é”®è¦æ»¡è¶³çš„æ¡ä»¶ï¼š
<ol>
<li>ä»»æ„ä¸¤è¡Œçš„ä¸»é”®å€¼éƒ½ä¸åŒã€‚</li>
<li>æ¯è¡Œéƒ½å…·æœ‰ä¸€ä¸ªä¸»é”®å€¼ï¼ˆå³åˆ—ä¸­ä¸å…è®¸ NULL å€¼ï¼‰</li>
<li>åŒ…å«ä¸»é”®å€¼çš„åˆ—ä»ä¸ä¿®æ”¹æˆ–æ›´æ–°ã€‚</li>
<li>ä¸»é”®å€¼ä¸èƒ½é‡ç”¨ã€‚å¦‚æœè¡¨ä¸­åˆ é™¤æŸä¸€è¡Œï¼Œå…¶ä¸»é”®å€¼ä¸åˆ†é…ç»™æ–°è¡Œã€‚</li>
</ol>
</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- åœ¨å»ºè¡¨æ—¶å®šä¹‰ä¸»é”®ï¼š</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> tablename</span><br><span class="line">(</span><br><span class="line">    cum1	<span class="built_in">CHAR</span>(<span class="number">10</span>)	<span class="keyword">NOT</span> <span class="literal">NULL</span> PRIMARY <span class="keyword">KEY</span>,</span><br><span class="line">	cum2	<span class="built_in">CHAR</span>(<span class="number">10</span>)	<span class="keyword">NOT</span> <span class="literal">NULL</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- å®šäºä¸»é”®çš„ç¬¬äºŒç§æ–¹æ³•ï¼š</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> tablename </span><br><span class="line"><span class="keyword">CONSTRAINT</span> PRIMARY <span class="keyword">KEY</span> (cum1);</span><br><span class="line"><span class="comment">-- æ³¨æ„ï¼šåœ¨ SQLite ä¸­ä¸å…è®¸ä½¿ç”¨ ALTER TABLE å®šä¹‰é”®ï¼Œè¦æ±‚åœ¨åˆå§‹çš„ CREATE TABLE è¯­å¥ä¸­å®šä¹‰å®ƒä»¬ã€‚</span></span><br></pre></td></tr></table></figure>
<h2 id="å¤–é”®"><a class="markdownIt-Anchor" href="#å¤–é”®"></a> å¤–é”®</h2>
<ul>
<li>
<p>å¤–é”®æ˜¯è¡¨ä¸­çš„ä¸€åˆ—ï¼Œå…¶å€¼å¿…é¡»åˆ—åœ¨å¦ä¸€è¡¨ä¸­çš„ä¸»é”®ä¸­ã€‚å¤–é”®æ˜¯ä¿è¯å¼•ç”¨å®Œæ•´æ€§çš„æå…¶é‡è¦çš„éƒ¨åˆ†ã€‚</p>
</li>
<li>
<p>ã€ŠSQL å¿…çŸ¥å¿…ä¼šã€‹ ä¸­çš„ä¾‹å­ï¼š</p>
<ul>
<li>Orders è¡¨å°†å½•å…¥åˆ°ç³»ç»Ÿçš„æ¯ä¸ªè®¢å•ä½œä¸ºä¸€è¡ŒåŒ…å«å…¶ä¸­ã€‚é¡¾å®¢ä¿¡æ¯å­˜å‚¨åœ¨ Customers è¡¨ä¸­ã€‚ Orders è¡¨ä¸­è®¢å•é€šè¿‡é¡¾å®¢ ID ä¸ Customers è¡¨ä¸­çš„ç‰¹å®šè¡Œç›¸å…³è”ã€‚é¡¾å®¢ ID ä¸º Customers è¡¨çš„ä¸»é”®ï¼Œæ¯ä¸ªé¡¾å®¢éƒ½æœ‰å”¯ä¸€çš„ IDã€‚è®¢å•å·ä¸º Orders è¡¨çš„ä¸»é”®ï¼Œæ¯ä¸ªè®¢å•éƒ½æœ‰å”¯ä¸€çš„è®¢å•å·ã€‚</br>Order è¡¨ä¸­é¡¾å®¢ ID åˆ—çš„å€¼ä¸ä¸€å®šæ˜¯å”¯ä¸€çš„ã€‚å¦‚æœæŸä¸ªé¡¾å®¢æœ‰å¤šä¸ªè®¢å•ï¼Œåˆ™æœ‰å¤šä¸ªè¡Œå…·æœ‰ç›¸åŒçš„é¡¾å®¢ ID ï¼ˆè™½ç„¶æ¯ä¸ªè®¢å•éƒ½æœ‰ä¸åŒçš„è®¢å•å·ï¼‰ã€‚åŒäº‹ï¼ŒOrders è¡¨ä¸­é¡¾å®¢ ID åˆ—çš„åˆæ³•å€¼ä¸º Customers è¡¨ä¸­é¡¾å®¢çš„ IDã€‚</li>
</ul>
</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- åœ¨å»ºè¡¨è¯­å¥ä¸­å®šä¹‰å¤–é”®ï¼š</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> Orders</span><br><span class="line">(</span><br><span class="line">	order_num	<span class="built_in">INTEGER</span>		<span class="keyword">NOT</span> <span class="literal">NULL</span> PRIMARY <span class="keyword">KEY</span>,</span><br><span class="line">	order_date	DATETIME	<span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">	cust_id		<span class="built_in">CHAR</span>(<span class="number">10</span>)	<span class="keyword">NOT</span> <span class="literal">NULL</span> <span class="keyword">REFERENCES</span> Customers(cust_id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- åœ¨ ALTER TABLE è¯­å¥ä¸­ç”¨ CONSTRAINT è¯­æ³•æ¥å®Œæˆï¼š</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> Orders</span><br><span class="line"><span class="keyword">ADD</span> <span class="keyword">CONSTRAINT</span></span><br><span class="line"><span class="keyword">FOREIGN</span> <span class="keyword">KEY</span> (cust_id) <span class="keyword">REFERENCES</span> Customers (cust_id)</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>å¤–é”®æœ‰åŠ©äºé˜²æ­¢æ„å¤–åˆ é™¤ï¼š</strong>
<ul>
<li>åœ¨å®šä¹‰å¤–é”®åï¼ŒDBMS ä¸å…è®¸åˆ é™¤åœ¨å¦ä¸€ä¸ªè¡¨ä¸­å…·æœ‰å…³è”è¡Œçš„è¡Œã€‚ä¾‹å¦‚ä¸èƒ½åˆ é™¤å…³è”è®¢å•çš„é¡¾å®¢ã€‚åˆ é™¤é¡¾å®¢çš„å”¯ä¸€æ–¹æ³•æ˜¯é¦–å…ˆåˆ é™¤ç›¸å…³è®¢å•ã€‚ç”±äºéœ€è¦ä¸€ç³»åˆ—çš„åˆ é™¤ï¼Œå› è€Œåˆ©ç”¨å¤–é”®å¯ä»¥é˜²æ­¢æ„å¤–åˆ é™¤æ•°æ®ã€‚</li>
<li>æœ‰çš„ DBMS æ”¯æŒæˆä¸º<strong>çº§è”åˆ é™¤</strong>çš„ç‰¹æ€§ã€‚å¦‚æœå¯ç”¨ï¼Œè¯¥ç‰¹æ€§åœ¨ä»ä¸€ä¸ªè¡¨ä¸­åˆ é™¤è¡Œæ—¶åˆ é™¤æ‰€æœ‰ç›¸å…³çš„æ•°æ®ã€‚</li>
</ul>
</li>
</ul>
<h2 id="å”¯ä¸€çº¦æŸ"><a class="markdownIt-Anchor" href="#å”¯ä¸€çº¦æŸ"></a> å”¯ä¸€çº¦æŸ</h2>
<ul>
<li>
<p>å”¯ä¸€çº¦æŸç”¨æ¥ä¿è¯ä¸€åˆ—ï¼ˆæˆ–ä¸€ç»„åˆ—ï¼‰ä¸­çš„æ•°æ®æ—¶å”¯ä¸€çš„ã€‚</p>
</li>
<li>
<p>å”¯ä¸€çº¦æŸä¸ä¸»é”®çš„åŒºåˆ«ï¼š</p>
<ul>
<li><strong>è¡¨å¯åŒ…å«å¤šä¸ªå”¯ä¸€çº¦æŸï¼Œä½†æ¯ä¸ªè¡¨åªå…è®¸ä¸€ä¸ªä¸»é”®ã€‚</strong></li>
<li>å”¯ä¸€çº¦æŸåˆ—å¯åŒ…å« NULL å€¼ã€‚</li>
<li>å”¯ä¸€çº¦æŸåˆ—å¯ä¿®æ”¹å’Œæ›´æ–°ã€‚</li>
<li>å”¯ä¸€çº¦æŸåˆ—çš„å€¼å¯é‡å¤ä½¿ç”¨ã€‚</li>
<li>ä¸ä¸»é”®ä¸ä¸€æ ·ï¼Œå”¯ä¸€çº¦æŸä¸èƒ½ç”¨æ¥å®šä¹‰å¤–é”®ã€‚</li>
</ul>
</li>
<li>
<p>è¯­æ³•ï¼š åŒå…¶ä»–çº¦æŸçš„è¯­æ³•ã€‚å…³é”®å­— UNIQUEã€‚</p>
</li>
</ul>
<h2 id="æ£€æŸ¥çº¦æŸ"><a class="markdownIt-Anchor" href="#æ£€æŸ¥çº¦æŸ"></a> æ£€æŸ¥çº¦æŸ</h2>
<ul>
<li>æ£€æŸ¥çº¦æŸç”¨æ¥ä¿è¯ä¸€åˆ—ï¼ˆæˆ–ä¸€ç»„åˆ—ï¼‰ä¸­çš„æ•°æ®æ»¡è¶³ä¸€ç»„æŒ‡å®šçš„æ¡ä»¶ã€‚</li>
<li>æ£€æŸ¥çº¦æŸçš„å¸¸è§ç”¨é€”ï¼š
<ul>
<li>**æ£€æŸ¥æœ€å¤§æˆ–æœ€å°å€¼ã€‚**ä¾‹å¦‚ï¼Œé˜²æ­¢0ä¸ªç‰©å“çš„è®¢å•ã€‚</li>
<li>**æŒ‡å®šèŒƒå›´ã€‚**ä¾‹å¦‚ä¿è¯å‘è´§æ—¥æœŸå¤§äºç­‰äºä»Šå¤©çš„æ—¥æœŸï¼Œä½†ä¸è¶…è¿‡ä»Šå¤©èµ·ä¸€å¹´åçš„æ—¥æœŸã€‚</li>
<li>**åªå…è®¸ç‰¹å®šçš„å€¼ã€‚**ä¾‹å¦‚ï¼Œåœ¨æ€§åˆ«å­—æ®µä¸­åªå…è®¸ M æˆ– Fã€‚</li>
</ul>
</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- åœ¨å»ºè¡¨è¯­å¥ä¸­å®šä¹‰æ£€æŸ¥çº¦æŸï¼š</span></span><br><span class="line"><span class="comment">-- ä¿è¯ quantity å¤§äº 0.</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> OrderItems</span><br><span class="line">(</span><br><span class="line">	order_num	<span class="built_in">INTEGER</span>		<span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">	order_item	<span class="built_in">INTEGER</span>		<span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">	prod_id		<span class="built_in">INTEGER</span>		<span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">	quantity	<span class="built_in">INTEGER</span>		<span class="keyword">NOT</span> <span class="literal">NULL</span> <span class="keyword">CHECK</span> (quantity &gt; <span class="number">0</span>),</span><br><span class="line">	item_price	MONEY		<span class="keyword">NOT</span> <span class="literal">NULL</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- æ£€æŸ¥åä¸º gender çš„åˆ—åªåŒ…å« M æˆ– Fï¼Œå¯ç¼–å†™å¦‚ä¸‹çš„ ALTER TABLE è¯­å¥ï¼š</span></span><br><span class="line">ADD CONSTRAINT <span class="keyword">CHECK</span> (gender <span class="keyword">LIKE</span> <span class="string">'[MF]'</span>)</span><br></pre></td></tr></table></figure>
<h1 id="ç´¢å¼•"><a class="markdownIt-Anchor" href="#ç´¢å¼•"></a> ç´¢å¼•</h1>
<ul>
<li>ç´¢å¼•ç”¨æ¥æ’åºæ•°æ®ä»¥åŠ å¿«æœç´¢å’Œæ’åºæ“ä½œçš„é€Ÿåº¦ã€‚</li>
<li>å¯ä»¥åœ¨ä¸€ä¸ªæˆ–å¤šä¸ªåˆ—ä¸Šå®šä¹‰ç´¢å¼•ï¼Œä½¿ DBMS ä¿å­˜æœŸå†…å®¹çš„ä¸€ä¸ªæ’è¿‡åºçš„åˆ—è¡¨ã€‚åœ¨å®šä¹‰äº†ç´¢å¼•åï¼ŒDBMS ä»¥ä½¿ç”¨ä¹¦çš„ç´¢å¼•ç±»ä¼¼çš„æ–¹æ³•ä½¿ç”¨å®ƒã€‚DBMS æœç´¢æ’è¿‡åºçš„ç´¢å¼•ï¼Œæ‰¾å‡ºåŒ¹é…çš„ä½ç½®ï¼Œç„¶åæ£€ç´¢è¿™äº›è¡Œã€‚</li>
<li>åˆ›å»ºç´¢å¼•å‰è¦æ³¨æ„ï¼š
<ul>
<li>**ç´¢å¼•æ”¹å–„æ£€ç´¢æ“ä½œçš„æ€§èƒ½ï¼Œä½†é™ä½äº†æ•°æ®æ’å…¥ã€ä¿®æ”¹å’Œåˆ é™¤çš„æ€§èƒ½ã€‚**åœ¨æ‰§è¡Œè¿™äº›æ“ä½œæ—¶ï¼ŒDBMS å¿…é¡»åŠ¨æ€åœ°æ›´æ–°ç´¢å¼•</li>
<li><strong>ç´¢å¼•æ•°æ®å¯èƒ½è¦å ç”¨å¤§é‡çš„å­˜å‚¨ç©ºé—´ã€‚</strong></li>
<li>**å¹¶éæ‰€æœ‰æ•°æ®éƒ½é€‚åˆåšç´¢å¼•ã€‚**å–å€¼ä¸å¤šçš„æ•°æ®ä¸å¦‚å…·æœ‰æ›´å¤šå¯èƒ½å€¼çš„æ•°æ®ï¼Œèƒ½ç”¨è¿‡ç´¢å¼•å¾—åˆ°é‚£ä¹ˆå¤šçš„å¥½å¤„ã€‚</li>
<li>**ç´¢å¼•ç”¨äºæ•°æ®è¿‡æ»¤å’Œæ•°æ®æ’åºã€‚**å¦‚æœä½ ç»å¸¸ä»¥æŸç§ç‰¹å®šçš„é¡ºåºæ’åºæ•°æ®ï¼Œåˆ™è¯¥æ•°æ®å¯èƒ½é€‚åˆåšç´¢å¼•ã€‚</li>
<li><strong>å¯ä»¥åœ¨ç´¢å¼•ä¸­å®šä¹‰å¤šä¸ªåˆ—ã€‚</strong></li>
</ul>
</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- åˆ›å»ºç´¢å¼•ï¼š</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">INDEX</span> prod_name_ind</span><br><span class="line"><span class="keyword">ON</span> Products (prod_name);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ç´¢å¼•å¿…é¡»å”¯ä¸€å‘½åã€‚</span></span><br></pre></td></tr></table></figure>
<h1 id="è§¦å‘å™¨"><a class="markdownIt-Anchor" href="#è§¦å‘å™¨"></a> è§¦å‘å™¨</h1>
<ul>
<li>
<p>è§¦å‘å™¨æ˜¯ç‰¹æ®Šçš„å­˜å‚¨è¿‡ç¨‹ï¼Œå®ƒåœ¨ç‰¹å®šçš„æ•°æ®åº“æ´»åŠ¨å‘ç”Ÿæ—¶è‡ªåŠ¨æ‰§è¡Œã€‚</p>
</li>
<li>
<p>ä¸å­˜å‚¨è¿‡ç¨‹ä¸ä¸€æ ·ï¼Œè§¦å‘å™¨ä¸å•ä¸ªçš„è¡¨ç›¸å…³è”ã€‚ä¸ Orders è¡¨ä¸Šçš„ INSERT æ“ä½œç›¸å…³è”çš„è§¦å‘å™¨åªåœ¨ Orders è¡¨ä¸­æ’å…¥è¡Œæ—¶æ‰§è¡Œã€‚</p>
</li>
<li>
<p><strong>çº¦æŸçš„å¤„ç†æ¯”è§¦å‘å™¨å¿«ï¼Œåœ¨å¯èƒ½çš„æ—¶å€™ï¼Œåº”è¯¥å°½é‡ä½¿ç”¨çº¦æŸã€‚</strong></p>
</li>
</ul>
]]></content>
      
        <categories>
            
            <category> MySQL </category>
            
            <category> æ•°æ®åº“ </category>
            
        </categories>
        
        
        <tags>
            
            <tag> çº¦æŸ </tag>
            
            <tag> ç´¢å¼• </tag>
            
            <tag> è§¦å‘å™¨ </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[äº‹åŠ¡å¤„ç†]]></title>
      <url>http://tech.noexception.cn/2017/04/10/transactionprocessing/</url>
      <content type="html"><![CDATA[<p>ä¸€ç¯‡å…³äºäº‹åŠ¡å¤„ç†çš„ç¬”è®°ã€‚</p>
<a id="more"></a>
<h1 id="äº‹åŠ¡å¤„ç†"><a class="markdownIt-Anchor" href="#äº‹åŠ¡å¤„ç†"></a> äº‹åŠ¡å¤„ç†</h1>
<ul>
<li>
<p>é€šè¿‡ç¡®ä¿æˆæ‰¹çš„ SQL æ“ä½œè¦ä¹ˆå®Œå…¨æ‰§è¡Œï¼Œè¦ä¹ˆå®Œå…¨ä¸æ‰§è¡Œï¼Œæ¥ç»´æŠ¤æ•°æ®åº“çš„å®Œæ•´æ€§ã€‚</p>
</li>
<li>
<p>åˆ©ç”¨äº‹åŠ¡å¤„ç†ï¼Œå¯ä»¥ä¿è¯ä¸€ç»„æ“ä½œä¸ä¼šä¸­é€”åœæ­¢ï¼Œå®ƒä»¬è¦ä¹ˆå®Œå…¨æ‰§è¡Œï¼Œè¦ä¹ˆå®Œå…¨ä¸æ‰§è¡Œã€‚å¦‚æœæ²¡æœ‰é”™è¯¯å‘ç”Ÿï¼Œæ•´ç»„è¯­å¥æäº¤åˆ°æ•°æ®åº“è¡¨ï¼›å¦‚æœå‘ç”Ÿé”™è¯¯ï¼Œåˆ™è¿›è¡Œå›é€€ï¼Œå°†æ•°æ®åº“æ¢å¤åˆ°æŸä¸ªå·²çŸ¥ä¸”å®‰å…¨çš„çŠ¶æ€ã€‚</p>
</li>
<li>
<p>å…³é”®è¯ï¼š</p>
<ul>
<li>äº‹åŠ¡( transaction )æŒ‡ä¸€ç»„ SQL è¯­å¥ï¼›</li>
<li>å›é€€ï¼ˆrollbackï¼‰æŒ‡æ’¤é”€æŒ‡å®š SQL è¯­å¥çš„è¿‡ç¨‹ï¼›</li>
<li>æäº¤ï¼ˆcommitï¼‰æŒ‡å°†æœªå­˜å‚¨çš„ SQL è¯­å¥ç»“æœå†™å…¥æ•°æ®åº“è¡¨ï¼›</li>
<li>ä¿ç•™ç‚¹ï¼ˆsavepointï¼‰æŒ‡äº‹åŠ¡å¤„ç†ä¸­è®¾ç½®çš„ä¸´æ—¶å ä½ç¬¦ï¼Œå¯ä»¥å¯¹å®ƒå‘å¸ƒå›é€€ï¼ˆä¸å›é€€æ•´ä¸ªäº‹åŠ¡å¤„ç†ä¸åŒï¼‰ã€‚</li>
</ul>
</li>
<li>
<p>å¯ä»¥å›é€€çš„è¯­å¥ï¼šINSERTã€UPDATEã€DELETEã€‚</p>
</li>
</ul>
<h1 id="æ§åˆ¶äº‹åŠ¡å¤„ç†"><a class="markdownIt-Anchor" href="#æ§åˆ¶äº‹åŠ¡å¤„ç†"></a> æ§åˆ¶äº‹åŠ¡å¤„ç†</h1>
<ul>
<li>
<p>äº‹åŠ¡å¤„ç†çš„è¯­æ³•ï¼š</p>
<ul>
<li><code>START TRANSACTION</code> æˆ– <code>BEGIN</code> ï¼šå¼€å§‹ä¸€ä¸ªæ–°çš„äº‹åŠ¡ï¼›</li>
<li><code>COMMIT</code>ï¼šæäº¤å½“å‰çš„äº‹åŠ¡ï¼Œæäº¤ä»¥åï¼Œæ— æ³•å›æ»šï¼›</li>
<li><code>ROLLBACK</code>ï¼šå›æ»šå½“å‰çš„äº‹åŠ¡ï¼Œå–æ¶ˆå¯¹è¡¨çš„æ“ä½œï¼›</li>
<li><code>SET autocommit</code>ï¼šä¸ºå½“å‰çš„ä¼šè¯æ‰“å¼€æˆ–å…³é—­ autocommit æ¨¡å¼ï¼Œé»˜è®¤æ‰“å¼€ã€‚</li>
</ul>
</li>
<li>
<p>éšå¼åœ°å…³é—­ autocommit æ¨¡å¼ï¼Œè¦ç”¨ <code>START TRANSACTION</code> è¯­å¥ï¼š</p>
</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">START</span> <span class="keyword">TRANSACTION</span>;</span><br><span class="line"><span class="keyword">SELECT</span> @A:=<span class="keyword">SUM</span>(salary) <span class="keyword">FROM</span> table1 <span class="keyword">WHERE</span> <span class="keyword">type</span>=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">UPDATE</span> table2 <span class="keyword">SET</span> summary=@A <span class="keyword">WHERE</span> <span class="keyword">type</span>=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">COMMIT</span>;</span><br><span class="line"><span class="comment">-- åœ¨ START TRANSACTION ä¸­ï¼Œ autocommit æ¨¡å¼ä¼šæš‚æ—¶çš„ä¸ºå…³é—­çŠ¶æ€ï¼ŒæŒ‡å¯¼ COMMIT æˆ–è€… ROLLBACK è¯­å¥è¢«æ‰§è¡Œã€‚è¿™æ˜¯ autocommit æ¨¡å¼æ‰ä¼šå›åˆ°ä¹‹å‰çš„çŠ¶æ€ã€‚</span></span><br></pre></td></tr></table></figure>
<h2 id="rollback"><a class="markdownIt-Anchor" href="#rollback"></a> ROLLBACK</h2>
<ul>
<li>SQL çš„ ROLLBACK å‘½ä»¤ç”¨æ¥å›é€€ SQL è¯­å¥ã€‚</li>
<li>åœ¨äº‹åŠ¡å¤„ç†å—ä¸­ï¼ŒDELETE æ“ä½œï¼ˆSELECT å’Œ UPDATE ä¸€æ ·ï¼‰å¹¶ä¸æ˜¯æœ€ç»ˆçš„ç»“æœã€‚</li>
</ul>
<h2 id="commit"><a class="markdownIt-Anchor" href="#commit"></a> COMMIT</h2>
<ul>
<li>éšå¼æäº¤ï¼ˆimplicit commitï¼‰ï¼šä¸€èˆ¬çš„ SQL è¯­å¥éƒ½æ˜¯é’ˆå¯¹æ•°æ®åº“è¡¨ç›´æ¥æ‰§è¡Œå’Œç¼–å†™çš„ï¼Œå³æäº¤ï¼ˆå†™æˆ–ä¿å­˜ï¼‰æ“ä½œæ˜¯è‡ªåŠ¨è¿›è¡Œçš„ã€‚</li>
</ul>
<h2 id="savepoint"><a class="markdownIt-Anchor" href="#savepoint"></a> SAVEPOINT</h2>
<ul>
<li>ä½¿ç”¨ç®€å•çš„ ROLLBACK å’Œ COMMIT è¯­å¥ï¼Œå°±å¯ä»¥å†™å…¥æˆ–æ’¤é”€æ•´ä¸ªäº‹åŠ¡ã€‚ä½†æ˜¯ï¼Œåªå¯¹ç®€å•çš„äº‹åŠ¡æ‰èƒ½è¿™æ ·åšï¼Œå¤æ‚çš„äº‹åŠ¡å¯èƒ½éœ€è¦éƒ¨åˆ†æäº¤æˆ–å›é€€ã€‚</li>
<li>è¦æ”¯æŒå›é€€éƒ¨åˆ†äº‹åŠ¡ï¼Œå¿…é¡»åœ¨äº‹åŠ¡å¤„ç†å—ä¸­åˆé€‚çš„ä½ç½®æ”¾å ä½ç¬¦ã€‚</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SAVEPOINT</span> identifier;</span><br><span class="line"></span><br><span class="line"><span class="keyword">ROLLBACK</span> <span class="keyword">TO</span> identifier;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>SAVEPOINT è¶Šå¤šè¶Šå¥½</strong>ï¼š ä¿ç•™ç‚¹è¶Šå¤šï¼Œè¶Šèƒ½çµæ´»åœ°è¿›è¡Œå›é€€ã€‚</li>
</ul>
]]></content>
      
        <categories>
            
            <category> MySQL </category>
            
        </categories>
        
        
        <tags>
            
            <tag> äº‹åŠ¡ </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[MySQL è§†å›¾]]></title>
      <url>http://tech.noexception.cn/2017/04/09/MySQLView/</url>
      <content type="html"><![CDATA[<p>å…³äº MySQL çš„è§†å›¾çš„ç¬”è®°</p>
<a id="more"></a>
<h1 id="è§†å›¾"><a class="markdownIt-Anchor" href="#è§†å›¾"></a> è§†å›¾</h1>
<ul>
<li><strong>è§†å›¾æ˜¯è™šæ‹Ÿçš„è¡¨ã€‚ä¸åŒ…å«æ•°æ®çš„è¡¨ä¸ä¸€æ ·ï¼Œè§†å›¾åªåŒ…å«ä½¿ç”¨æ—¶åŠ¨æ€æ£€ç´¢æ•°æ®çš„æŸ¥è¯¢ã€‚å®ƒå¯ä»¥æŠŠæŸ¥è¯¢åŒ…è£…ç§¤ä¸€ä¸ªè™šæ‹Ÿè¡¨ï¼Œå°±å¯ä»¥è½»æ¾åœ°æ£€ç´¢å‡ºç›¸åŒçš„æ•°æ®ã€‚è§†å›¾ä¸åŒ…å«ä»»ä½•åˆ—æˆ–æ•°æ®ï¼ŒåŒ…å«çš„æ˜¯ä¸€ä¸ªæŸ¥è¯¢ã€‚</strong></li>
<li>è§†å›¾æ˜¯è™šæ‹Ÿçš„è¡¨ã€‚å®ƒä»¬åŒ…å«çš„ä¸æ˜¯æ•°æ®è€Œæ˜¯æ ¹æ®éœ€è¦æ£€ç´¢æ•°æ®çš„æŸ¥è¯¢ã€‚è§†å›¾æä¾›äº†ä¸€ç§å°è£… SELECT è¯­å¥çš„å±‚æ¬¡ï¼Œå¯ç”¨æ¥ç®€åŒ–æ•°æ®å¤„ç†ï¼Œé‡æ–°æ ¼å¼åŒ–æˆ–ä¿æŠ¤åŸºç¡€æ•°æ®ã€‚</li>
</ul>
<h2 id="ä½¿ç”¨è§†å›¾"><a class="markdownIt-Anchor" href="#ä½¿ç”¨è§†å›¾"></a> ä½¿ç”¨è§†å›¾</h2>
<ul>
<li>
<p>ä½¿ç”¨è§†å›¾çš„å¥½å¤„ï¼š</p>
<ol>
<li>é‡ç”¨ SQL è¯­å¥ã€‚</li>
<li>ç®€åŒ–å¤æ‚çš„ SQL æ“ä½œã€‚åœ¨ç¼–å†™æŸ¥è¯¢åï¼Œå¯ä»¥æ–¹ä¾¿åœ°é‡ç”¨å®ƒè€Œä¸å¿…çŸ¥é“å…¶åŸºæœ¬æŸ¥è¯¢ç»†èŠ‚ã€‚</li>
<li>ä½¿ç”¨è¡¨çš„ä¸€éƒ¨åˆ†è€Œä¸æ˜¯æ•´ä¸ªè¡¨ã€‚</li>
<li>ä¿æŠ¤æ•°æ®ã€‚å¯ä»¥æˆäºˆç”¨æˆ·è®¿é—®è¡¨çš„ç‰¹å®šéƒ¨åˆ†çš„æƒé™ï¼Œè€Œä¸æ˜¯æ•´ä¸ªè¡¨çš„è®¿é—®æƒé™ã€‚</li>
<li>æ›´æ”¹æ•°æ®æ ¼å¼å’Œè¡¨ç¤ºã€‚è§†å›¾å¯è¿”å›ä¸åº•å±‚è¡¨çš„è¡¨ç¤ºå’Œæ ¼å¼ä¸åŒçš„æ•°æ®ã€‚</li>
</ol>
</li>
<li>
<p>è§†å›¾ä¸è¡¨ï¼š</p>
<ol>
<li>åˆ›å»ºè§†å›¾åï¼Œå¯ä»¥ç”¨ä¸è¡¨ç›¸åŒçš„æ–¹å¼ä½¿ç”¨å®ƒä»¬ã€‚ä¾‹å¦‚ï¼šSELECTã€è¿‡æ»¤ã€æ’åºã€å°†è§†å›¾ä¸è¡¨æˆ–å…¶ä»–è§†å›¾è”æ¥ã€æ·»åŠ æ›´æ–°æ•°æ®ç­‰ç­‰ã€‚</li>
<li>è§†å›¾æ˜¯ç”¨æ¥æŸ¥çœ‹å­˜å‚¨åœ¨åˆ«å¤„æ•°æ®çš„ä¸€ç§è®¾æ–½ï¼Œæœ¬èº«ä¸åŒ…å«æ•°æ®ï¼Œå› æ­¤è¿”å›çš„æ•°æ®æ˜¯ä»å…¶ä»–è¡¨ä¸­æ£€ç´¢å‡ºæ¥çš„ã€‚</li>
<li>æ€§èƒ½é—®é¢˜ï¼Œå¦‚ä¸Šæ‰€è¿°ï¼Œè‹¥ç”¨å¤šä¸ªè”ç»“å’Œè¿‡æ»¤åˆ›å»ºäº†å¤æ‚çš„è§†å›¾æˆ–è€…åµŒå¥—å¤šå±‚è§†å›¾ï¼Œæ€§èƒ½ä¼šå¤§å¹…åº¦ä¸‹é™ã€‚åœ¨éƒ¨ç½²ä½¿ç”¨äº†å¤§é‡è§†å›¾çš„åº”ç”¨å‰ï¼Œåº”è¯¥è¿›è¡Œæµ‹è¯•ã€‚</li>
</ol>
</li>
</ul>
<h2 id="è§„åˆ™å’Œé™åˆ¶"><a class="markdownIt-Anchor" href="#è§„åˆ™å’Œé™åˆ¶"></a> è§„åˆ™å’Œé™åˆ¶</h2>
<ul>
<li>å…³äºè§†å›¾åˆ›å»ºå’Œä½¿ç”¨æœ€å¸¸è§çš„è§„åˆ™å’Œé™åˆ¶ï¼š
<ol>
<li>ä¸è¡¨ä¸€æ ·ï¼Œè§†å›¾å¿…é¡»å”¯ä¸€å‘½åï¼ˆä¸èƒ½ç»™è§†å›¾å–ä¸åˆ«çš„è§†å›¾æˆ–è¡¨ç›¸åŒçš„åå­—ï¼‰ã€‚</li>
<li>å¯¹äºå¯ä»¥åˆ›å»ºçš„è§†å›¾æ•°ç›®æ²¡æœ‰é™åˆ¶ã€‚</li>
<li>åˆ›å»ºè§†å›¾ï¼Œå¿…é¡»å…·æœ‰è¶³å¤Ÿçš„è®¿é—®æƒé™ã€‚è¿™äº›æƒé™é€šå¸¸ç”±æ•°æ®åº“ç®¡ç†äººå‘˜æˆäºˆã€‚</li>
<li>è§†å›¾å¯ä»¥åµŒå¥—ï¼Œå³å¯ä»¥åˆ©ç”¨ä»å…¶ä»–è§†å›¾ä¸­æ£€ç´¢æ•°æ®çš„æŸ¥è¯¢æ¥æ„é€ è§†å›¾ã€‚æ‰€å…è®¸çš„åµŒå¥—å±‚æ•°åœ¨ä¸åŒçš„ DBMS ä¸­æœ‰æ‰€ä¸åŒï¼ˆåµŒå¥—è§†å›¾å¯èƒ½ä¼šä¸¥é‡é™ä½æŸ¥è¯¢çš„æ€§èƒ½ï¼Œå› æ­¤åœ¨äº§å“ç¯å¢ƒä¸­ä½¿ç”¨ä¹‹å‰ï¼Œåº”è¯¥å¯¹å…¶è¿›è¡Œå…¨é¢æµ‹è¯•ï¼‰ã€‚</li>
<li>è®¸å¤š DBMS ç¦æ­¢åœ¨è§†å›¾æŸ¥è¯¢ä¸­ä½¿ç”¨ <code>ORDER BY</code> å­—å¥ï¼ˆMySQL ä¸­è²Œä¼¼æ²¡æœ‰é™åˆ¶ï¼‰ã€‚</li>
<li>æœ‰äº› DBMS è¦æ±‚å¯¹è¿”å›çš„æ‰€æœ‰åˆ—è¿›è¡Œå‘½åï¼Œå¦‚æœåˆ—æ˜¯è®¡ç®—å­—æ®µï¼Œåˆ™éœ€è¦ä½¿ç”¨åˆ«åã€‚</li>
<li><strong>è§†å›¾ä¸èƒ½ç´¢å¼•ï¼Œä¹Ÿä¸èƒ½æœ‰å…³è”çš„è§¦å‘å™¨æˆ–é»˜è®¤å€¼ã€‚</strong></li>
<li>æœ‰äº› DBMS æŠŠè§†å›¾ä½œä¸ºåªè¯»çš„æŸ¥è¯¢ï¼Œè¿™è¡¨ç¤ºå¯ä»¥ä»è§†å›¾æ£€ç´¢æ•°æ®ï¼Œä½†ä¸èƒ½å°†æ•°æ®å†™ä¼šåº•å±‚è¡¨ã€‚ï¼ˆè¯¦æƒ…å‚é˜…å…·ä½“çš„ DBMS æ–‡æ¡£ï¼‰</li>
<li>æœ‰äº› DBMS å…è®¸åˆ›å»ºè¿™æ ·çš„è§†å›¾ï¼Œå®ƒä¸èƒ½è¿›è¡Œå¯¼è‡´è¡Œä¸å†å±äºè§†å›¾çš„æ’å…¥æˆ–æ›´æ–°ã€‚ä¾‹å¦‚æœ‰ä¸€ä¸ªè§†å›¾ï¼Œåªæ£€ç´¢å¸¦æœ‰ç”µå­é‚®ä»¶åœ°å€çš„é¡¾å®¢ã€‚å¦‚æœæ›´æ–°æŸä¸ªé¡¾å®¢ï¼Œåˆ é™¤ä»–çš„ç”µå­é‚®ä»¶åœ°å€ï¼Œå°†ä½¿é¡¾å®¢ä¸å†å±äºè§†å›¾ã€‚è¿™æ˜¯é»˜è®¤è¡Œä¸ºï¼Œè€Œä¸”æ˜¯å…è®¸çš„ï¼Œä½†æœ‰çš„ DBMS å¯èƒ½ä¼šé˜²æ­¢è¿™ç§æƒ…å†µå‘ç”Ÿã€‚</li>
</ol>
</li>
</ul>
<h1 id="åˆ›å»ºè§†å›¾"><a class="markdownIt-Anchor" href="#åˆ›å»ºè§†å›¾"></a> åˆ›å»ºè§†å›¾</h1>
<ul>
<li>åˆ›å»ºè§†å›¾è¯­å¥ï¼š</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> viewname <span class="keyword">AS</span> </span><br><span class="line"><span class="keyword">SELECT</span> field_name1, field_name2, field_name3</span><br><span class="line"><span class="keyword">FROM</span> table_name1, table_name2, table_name3</span><br><span class="line"><span class="keyword">WHERE</span> table_name1.... = table_name2....</span><br><span class="line"><span class="keyword">AND</span> table_name2.... = table_name3....;</span><br></pre></td></tr></table></figure>
<ul>
<li>åˆ é™¤è§†å›¾è¯­å¥ï¼š(è¦†ç›–æˆ–æ›´æ–°è§†å›¾æ—¶ï¼Œå¿…é¡»å…ˆåˆ é™¤å®ƒï¼Œç„¶åå†é‡æ–°åˆ›å»ºã€‚)</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">VIEW</span> viewname;</span><br></pre></td></tr></table></figure>
<h2 id="åˆ©ç”¨è§†å›¾ç®€åŒ–å¤æ‚çš„è”ç»“"><a class="markdownIt-Anchor" href="#åˆ©ç”¨è§†å›¾ç®€åŒ–å¤æ‚çš„è”ç»“"></a> åˆ©ç”¨è§†å›¾ç®€åŒ–å¤æ‚çš„è”ç»“</h2>
<ul>
<li>åˆ›å»ºä¸ç»‘å®šç‰¹å®šæ•°æ®çš„è§†å›¾æ˜¯ä¸€ç§å¥½åŠæ³•ã€‚æ‰©å±•è§†å›¾çš„èŒƒå›´ä¸ä»…ä½¿å¾—å®ƒèƒ½è¢«é‡ç”¨ï¼Œè€Œä¸”å¯èƒ½æ›´æœ‰ç”¨ã€‚è¿™æ ·åšä¸éœ€è¦åˆ›å»ºå’Œç»´æŠ¤å¤šä¸ªç±»ä¼¼è§†å›¾ã€‚</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¿™æ˜¯ä¸€ä¸ªä¾‹å­:</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">view</span> ProductCustomers <span class="keyword">as</span></span><br><span class="line"><span class="keyword">select</span> cust_name, cust_contact, prod_id</span><br><span class="line"><span class="keyword">from</span> Customers, Orders, OrderItems</span><br><span class="line"><span class="keyword">where</span> Customers.cust_id = Orders.cust_id</span><br><span class="line"><span class="keyword">and</span> OrderItems.order_num = Orders.order_num;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> cust_name, cust_contact</span><br><span class="line"><span class="keyword">from</span> ProductCustomers</span><br><span class="line"><span class="keyword">where</span> prod_id = <span class="string">'RGAN01'</span>;</span><br></pre></td></tr></table></figure>
<h2 id="æ ¼å¼åŒ–æ£€ç´¢å‡ºçš„æ•°æ®"><a class="markdownIt-Anchor" href="#æ ¼å¼åŒ–æ£€ç´¢å‡ºçš„æ•°æ®"></a> æ ¼å¼åŒ–æ£€ç´¢å‡ºçš„æ•°æ®</h2>
<ul>
<li><strong>SELECT çº¦æŸå…¨éƒ¨ä½¿ç”¨ã€‚</strong></li>
<li>MySQL ä¸æ”¯æŒ<code>+ã€||</code>æ“ä½œç¬¦æ¥æ‹¼æ¥å€¼ï¼Œæ£€ç´¢å‡ºæ¥çš„ç»“æœå…¨ä¸º0ï¼Œä½†æ˜¯è¡Œæ•°ä¸æ‰€æ±‚çš„è¡Œæ•°æ˜¯ç›¸åŒçš„ã€‚è¦ä½¿ç”¨å‡½æ•°<code>Concat()</code>ä¾‹å¦‚ï¼š(å‡ºå¤„ã€ŠSQLå¿…çŸ¥å¿…ä¼šã€‹)</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">Concat</span>(vend_name, <span class="string">'('</span>, vend_country, <span class="string">')'</span>) </span><br><span class="line"><span class="keyword">from</span> Vendors </span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> vend_name;</span><br></pre></td></tr></table></figure>
<h2 id="ç”¨è§†å›¾è¿‡æ»¤ä¸æƒ³è¦çš„æ•°æ®"><a class="markdownIt-Anchor" href="#ç”¨è§†å›¾è¿‡æ»¤ä¸æƒ³è¦çš„æ•°æ®"></a> ç”¨è§†å›¾è¿‡æ»¤ä¸æƒ³è¦çš„æ•°æ®</h2>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¿™æ˜¯ä¸€ä¸ªä¾‹å­ï¼š</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">view</span> CustomerEmailList <span class="keyword">as</span> </span><br><span class="line"><span class="keyword">select</span> cust_id, cust_name, cust_email</span><br><span class="line"><span class="keyword">from</span> Customers</span><br><span class="line"><span class="keyword">where</span> cust_email <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> CustomersEmailList;</span><br></pre></td></tr></table></figure>
<h2 id="è§†å›¾ä¸è®¡ç®—å­—æ®µ"><a class="markdownIt-Anchor" href="#è§†å›¾ä¸è®¡ç®—å­—æ®µ"></a> è§†å›¾ä¸è®¡ç®—å­—æ®µ</h2>
<ul>
<li>ä½¿ç”¨æ–¹æ³•åŒè¡¨ã€‚</li>
</ul>
<p></br></br></p>
<p>å‚è€ƒæ–‡çŒ®ï¼šã€Š SQL å¿…çŸ¥å¿…ä¼šã€‹</p>
]]></content>
      
        <categories>
            
            <category> MySQL </category>
            
        </categories>
        
        
        <tags>
            
            <tag> è§†å›¾ </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Mysql é”™è¯¯è®°å½•]]></title>
      <url>http://tech.noexception.cn/2017/04/09/MysqlError/</url>
      <content type="html"><![CDATA[<p><img src="http://image53.360doc.com/DownloadImg/2012/07/1409/25499912_4.jpg" alt="å¤©é“é…¬å‹¤" /></p>
<a id="more"></a>
<h2 id="1-mysqlè¿œç¨‹è¿æ¥é—®é¢˜"><a class="markdownIt-Anchor" href="#1-mysqlè¿œç¨‹è¿æ¥é—®é¢˜"></a> 1. Mysqlè¿œç¨‹è¿æ¥é—®é¢˜</h2>
<h3 id="é—®é¢˜æè¿°"><a class="markdownIt-Anchor" href="#é—®é¢˜æè¿°"></a> é—®é¢˜æè¿°ï¼š</h3>
<ul>
<li>
<p>ä»ä¸€å°linuxå®¢æˆ·æ¬¾è¿œç¨‹è¿æ¥Mysqlï¼Œå‡ºç°é”™è¯¯ä»£ç <code>ERROR 2003 (HY000): Can't connect to MySQL server on '***.***.***.***' (111)</code></p>
</li>
<li>
<p>é—®é¢˜åˆ†æï¼š</p>
<ol>
<li>ç½‘ç»œè¿æ¥é—®é¢˜ã€‚</li>
</ol>
<ul>
<li>æ’é™¤ï¼Œå±€åŸŸç½‘å†…ï¼Œå‡èƒ½ç›¸äº’pingé€š</li>
</ul>
<ol start="2">
<li>é…ç½®æ–‡ä»¶ä¸­<code>bind_address</code>é¡¹</li>
<li>DNSè§£æçš„é—®é¢˜</li>
</ol>
<ul>
<li>ç›´æ¥ç”¨çš„æ˜¯ä¸»æœºIPè€Œéä¸»æœºåï¼Œä¸å­˜åœ¨è§£æé”™è¯¯çš„é—®é¢˜</li>
</ul>
</li>
<li>
<p>è§£å†³æ–¹æ³•ï¼š</p>
<ol>
<li>ç¼–è¾‘ MySQL é…ç½®æ–‡ä»¶ my.cnf <code>sudo vim /etc/mysql/my.cnf</code></li>
<li>æ‰¾åˆ°<code>bind-address = 127.0.0.1</code>ï¼Œç”¨<code>#</code>å·å°†å…¶æ³¨é‡Šæ‰ã€‚</li>
<li>é‡å¯ MySQL æœåŠ¡ã€‚</li>
<li>å€˜è‹¥åœ¨ç¬¬ä¸€æ­¥çš„æ—¶å€™ï¼Œæ²¡æœ‰åœ¨<code>my.cnf</code>ä¸­æ‰¾åˆ°<code>bind-address=127.0.0.1</code>ï¼Œåˆ™å»<code>/etc/mysql/mysql.conf.d/mysqld.cnf</code>æ–‡ä»¶ä¸­å¯»æ‰¾ã€‚</li>
<li>é—®é¢˜è§£å†³ã€‚</li>
</ol>
<ul>
<li><strong>æ¥æºäºStackOverflow</strong></li>
</ul>
</li>
</ul>
]]></content>
      
        
        <tags>
            
            <tag> Mysql </tag>
            
            <tag> Error </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[æ¶ˆæ¯é˜Ÿåˆ—å’ŒCelery]]></title>
      <url>http://tech.noexception.cn/2017/03/28/messagehandle/</url>
      <content type="html"><![CDATA[<p><img src="http://image53.360doc.com/DownloadImg/2012/07/1409/25499912_4.jpg" alt="å¤©é“é…¬å‹¤" /></p>
<a id="more"></a>
<h2 id="beanstalkd"><a class="markdownIt-Anchor" href="#beanstalkd"></a> Beanstalkd</h2>
<h3 id="beanstalkd-çš„ç‰¹ç‚¹"><a class="markdownIt-Anchor" href="#beanstalkd-çš„ç‰¹ç‚¹"></a> Beanstalkd çš„ç‰¹ç‚¹ï¼š</h3>
<ol>
<li><strong>å¯æŒä¹…åŒ–ã€‚</strong> Beanstalkd è¿è¡Œä½¿ç”¨å†…å­˜ï¼Œä½†ä¹Ÿæä¾›äº†æŒä¹…æ€§æ”¯æŒã€‚åœ¨å¯åŠ¨çš„æ—¶å€™ä½¿ç”¨ <code>-b</code> å‚æ•°æŒ‡å®šæŒä¹…åŒ–ç›®å½•ï¼Œå®ƒä¼šå°†æ‰€æœ‰çš„ä»»åŠ¡å†™å…¥ binlog æ–‡ä»¶ã€‚åœ¨å‘ç”Ÿæ–­ç”µç­‰æƒ…å†µåï¼Œç”¨åŒæ ·çš„å‚æ•°æŒ‡å®šé‡å¯å®ƒï¼Œå°†æ¢å¤ binlog ä¸­çš„å†…å®¹ã€‚</li>
<li><strong>ä»»åŠ¡è¶…æ—¶é‡å‘ã€‚</strong> æ¶ˆè´¹è€…å¿…é¡»åœ¨é¢„è®¾çš„ TTR ï¼ˆTime To Runï¼‰ æ—¶é—´å†…å‘é€ delete/release/bury æ”¹å˜ä»»åŠ¡çŠ¶æ€ï¼Œå¦åˆ™å®ƒä¼šè®¤ä¸ºæ¶ˆæ¯å¤„ç†å¤±è´¥ï¼ŒæŠŠä»»åŠ¡äº¤ç»™åˆ«çš„æ¶ˆè´¹è€…èŠ‚ç‚¹æ‰§è¡Œã€‚</li>
<li>**æ”¯æŒä»»åŠ¡é¢„ç•™ã€‚**å¦‚æœä»»åŠ¡å› ä¸ºæŸäº›åŸå› æ— æ³•æ‰§è¡Œï¼Œæ¶ˆè´¹è€…å¯ä»¥æŠŠä»»åŠ¡ç½®ä¸º buried çŠ¶æ€ä¿ç•™è¿™äº›ä»»åŠ¡ã€‚</li>
<li>**æ”¯æŒåˆ†å¸ƒå¼ã€‚**å®¢æˆ·ç«¯å¯ä»¥å®ç°å’Œ Memcached ä¸€æ ·çš„åˆ†å¸ƒå¼ã€‚</li>
<li><strong>çµæ´»è®¾ç½®ä»»åŠ¡è¿‡æœŸå’ŒTTRæ—¶é—´ã€‚</strong></li>
</ol>
<h3 id="job"><a class="markdownIt-Anchor" href="#job"></a> job</h3>
<ul>
<li>job å°±æ˜¯å¾…å¼‚æ­¥æ‰§è¡Œçš„ä»»åŠ¡ï¼Œä¹Ÿå°±æ˜¯æ¶ˆæ¯ï¼Œæ˜¯ Beanstalkd ä¸­çš„åŸºæœ¬å•å…ƒã€‚ä¸€ä¸ª job é€šè¿‡ç”Ÿäº§è€…ä½¿ç”¨ put å‘½ä»¤æ—¶åˆ›å»ºï¼Œç„¶åè¢«æ”¾åœ¨ä¸€ä¸ªç®¡é“ï¼ˆtubeï¼‰ä¸­ã€‚åœ¨æ•´ä¸ªç”Ÿå‘½å‘¨æœŸä¸­ job å¯èƒ½æœ‰4ä¸ªå·¥ä½œçŠ¶æ€ã€‚
<ol>
<li><strong>ready:</strong> ç­‰å¾…è¢«å–å‡ºå¹¶å¤„ç†ã€‚</li>
<li><strong>reserved:</strong> å¦‚æœ job è¢«æ¶ˆè´¹è€…ï¼ˆworkerï¼‰å–å‡ºï¼Œå°†è¢«æ­¤æ¶ˆè´¹è€…é¢„è®¢ï¼Œæ¶ˆè´¹è€…å°†æ‰§è¡Œ job .</li>
<li><strong>delayed:</strong> ç­‰å¾…ç‰¹å®šæ—¶é—´ä¹‹åï¼ŒçŠ¶æ€å†æ”¹ä¸º ready çŠ¶æ€ã€‚</li>
<li><strong>buried:</strong> ç­‰å¾…å”¤é†’ï¼Œé€šå¸¸åœ¨ job å¤„ç†å¤±è´¥æ—¶ï¼Œä¼šå˜æˆè¿™ä¸ªçŠ¶æ€ã€‚</li>
</ol>
</li>
</ul>
<h3 id="beanstalkc"><a class="markdownIt-Anchor" href="#beanstalkc"></a> Beanstalkc</h3>
<ul>
<li>Beanstalkd å€Ÿé‰´äº† Memcached è®¾è®¡ï¼Œå®ƒä»¬çš„åè®®å’Œä½¿ç”¨æ–¹å¼çš„é£æ ¼å¾ˆåƒã€‚æœ¬èŠ‚ä½¿ç”¨ Beanstalkd çš„ Python å®¢æˆ·ç«¯ Beanstalkc æ¼”ç¤º Beanstalkd çš„ç”¨æ³•</li>
</ul>
<blockquote>
<p><code>pip install PyYAML beanstalkc #å®‰è£…</code></p>
</blockquote>
]]></content>
      
        <categories>
            
            <category> Python </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Python </tag>
            
            <tag> Webå¼€å‘ </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Pythonç³»ç»Ÿç®¡ç†â€”â€”Supervisor]]></title>
      <url>http://tech.noexception.cn/2017/03/21/python-supervisor/</url>
      <content type="html"><![CDATA[<p><img src="http://image53.360doc.com/DownloadImg/2012/07/1409/25499912_4.jpg" alt="å¤©é“é…¬å‹¤" /></p>
<a id="more"></a>
<h3 id="supervisor-ç»„ä»¶"><a class="markdownIt-Anchor" href="#supervisor-ç»„ä»¶"></a> Supervisor ç»„ä»¶</h3>
<ol>
<li>Supervisord : æœåŠ¡ç«¯ç¨‹åºï¼Œå®ƒçš„ä¸»è¦åŠŸèƒ½æ˜¯å¯åŠ¨ Supervisord æœåŠ¡åŠå…¶ç®¡ç†çš„å­è¿›ç¨‹ï¼Œè®°å½•æ—¥å¿—ï¼Œé‡å¯å´©æºƒçš„è¿›ç¨‹ç­‰ã€‚</li>
<li>Supervisorctl : å‘½ä»¤è¡Œå®¢æˆ·ç«¯ç¨‹åºï¼Œå®ƒæä¾›ä¸€ä¸ªç±»ä¼¼ Shell çš„æ¥å£ï¼Œé€šè¿‡ UNIX åŸŸå¥—æ¥å­—æˆ–è€… TCP/IP å¥—æ¥å­—ä½¿ç”¨ XML_RPC åè®®ä¸ Supervisord è¿›ç¨‹è¿›è¡Œæ•°æ®é€šä¿¡ã€‚å®ƒçš„ä¸»è¦åŠŸèƒ½å°±æ˜¯ç®¡ç†ï¼ˆå¯åŠ¨ã€å…³é—­ã€é‡å¯ã€æŸ¥çœ‹çŠ¶æ€ç­‰ï¼‰å­è¿›ç¨‹ã€‚</li>
<li>Web Server : å®ç°äº†åœ¨ç•Œé¢ä¸Šç®¡ç†è¿›ç¨‹ï¼Œè¿˜èƒ½æŸ¥çœ‹è¿›ç¨‹æ—¥å¿—å’Œæ¸…é™¤æ—¥å¿—ã€‚Web Server å…¶å®æ˜¯é€šè¿‡ XML_RPC æ¥å®ç°çš„ï¼Œå¯ä»¥å‘ Supervisord è¯·æ±‚æ•°æ®ã€‚å®ƒé…ç½®çˆ± [inet_http_server] å—é‡Œé¢ã€‚</li>
<li>XML_RPC æ¥å£ : å¯ä»¥é€šè¿‡XML-RPC åè®®å¯¹ Web Server è¿›è¡Œè¿œç¨‹è°ƒç”¨ï¼Œè¾¾åˆ°å’Œ Supervisorctl ä»¥åŠ Web Server ä¸€æ ·çš„ç®¡ç†åŠŸèƒ½ã€‚</li>
</ol>
<h3 id="é…ç½®-supervisor"><a class="markdownIt-Anchor" href="#é…ç½®-supervisor"></a> é…ç½® Supervisor</h3>
<ul>
<li>Supervisor çš„é…ç½®æ–‡ä»¶ä¸€èˆ¬éƒ½å« supervisord.confã€‚å¯åŠ¨ Supervisord çš„æ—¶å€™ä¼šæŒ‰ç…§å¦‚ä¸‹è·¯å¾„å¯»æ‰¾é…ç½®æ–‡ä»¶ï¼š
<ol>
<li>å½“å‰ç›®å½•ä¸‹çš„ supervisord.conf ($CWD/supervisord.conf)ã€‚</li>
<li>å½“å‰ç›®å½•çš„ etc ç›®å½•ä¸‹çš„ supervisord.conf ï¼ˆ$CWD/etc/supervisord.confï¼‰</li>
<li>ç›¸å¯¹äºå¯æ‰§è¡Œæ–‡ä»¶ supervisord çš„ä¸Šä¸€çº§çš„ etc ç›®å½•ä¸‹çš„ supervisord.conf (â€¦/etc/supervisord.conf)ã€‚</li>
<li>ç›¸å¯¹äºå¯æ‰§è¡Œæ–‡ä»¶ supervisord çš„ä¸Šä¸€çº§çš„ supervisord.conf ï¼ˆâ€¦/supervisord.confï¼‰</li>
</ol>
<ul>
<li><strong>å¯ä»¥ä½¿ç”¨ -c é€‰é¡¹æŒ‡å®šä¸ç¬¦åˆå¦‚ä¸Šè¦æ±‚çš„é…ç½®æ–‡ä»¶è·¯å¾„</strong></li>
</ul>
</li>
</ul>
<h3 id="ä½¿ç”¨-supervisor"><a class="markdownIt-Anchor" href="#ä½¿ç”¨-supervisor"></a> ä½¿ç”¨ Supervisor</h3>
<p>â€ƒâ€ƒåˆ†ä¸ºä¸‰ç§ï¼šsupervisorctl å‘½ä»¤è¡Œæ–¹å¼ç®¡ç†è¿›ç¨‹ã€é€šè¿‡ web æ–¹å¼ç®¡ç†è¿›ç¨‹å’Œé€šè¿‡ XML_RPC æ¥å£æ¥ç®¡ç†è¿›ç¨‹ã€‚</p>
]]></content>
      
        <categories>
            
            <category> Python </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Python </tag>
            
            <tag> ç³»ç»Ÿç®¡ç† </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[å…³äº Flask ä¿¡å·çš„ä¸€ç‚¹å°ç¬”è®°]]></title>
      <url>http://tech.noexception.cn/2017/03/17/day0317/</url>
      <content type="html"><![CDATA[<p>Flaskä¸­çš„ä¿¡å·åŠå…¶å«ä¹‰</p>
<a id="more"></a>
<h1 id="ä¿¡å·"><a class="markdownIt-Anchor" href="#ä¿¡å·"></a> ä¿¡å·</h1>
<ul>
<li>ä¿¡å·é€šè¿‡å‘é€å‘ç”Ÿåœ¨æ ¸å¿ƒæ¡†æ¶çš„å…¶ä»–åœ°æ–¹æˆ– Flask æ‰©å±•çš„åŠ¨ä½œæ—¶çš„é€šçŸ¥æ¥å¸®åŠ©ä½ è§£è€¦åº”ç”¨ã€‚ç®€è€Œè¨€ä¹‹ï¼Œä¿¡å·å…è®¸ç‰¹å®šçš„å‘é€ç«¯é€šçŸ¥è®¢é˜…è€…å‘ç”Ÿäº†ä»€ä¹ˆ</li>
</ul>
<h2 id="è®¢é˜…ä¿¡å·"><a class="markdownIt-Anchor" href="#è®¢é˜…ä¿¡å·"></a> è®¢é˜…ä¿¡å·</h2>
<ul>
<li>ä½¿ç”¨ connect() æ–¹æ³•æ¥è®¢é˜…ä¿¡å·ã€‚è¯¥å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¿¡å·å‘å‡ºæ—¶è¦è°ƒç”¨çš„å‡½æ•°ï¼Œç¬¬äºŒä¸ªå‚æ•°å¯é€‰ï¼Œç”¨äºç¡®å®šä¿¡å·çš„å‘é€ç«¯ã€‚</li>
<li>ä½¿ç”¨ disconnect() æ–¹æ³•æ¥é€€è®¢ã€‚</li>
<li>å¯¹äºæ‰€æœ‰çš„æ ¸å¿ƒ Flask ä¿¡å·ï¼Œå‘é€ç«¯éƒ½æ˜¯å‘é€ä¿¡å·çš„åº”ç”¨ã€‚å½“ä½ è®¢é˜…ä¸€ä¸ªä¿¡å·ï¼Œè¯·ç¡®ä¿ä¹Ÿæä¾›ä¸€ä¸ªå‘é€ç«¯ï¼Œé™¤éä½ ç¡®å®æƒ³ç›‘å¬å…¨éƒ¨åº”ç”¨çš„ä¿¡å·ã€‚è¿™åœ¨ä½ å¼€å‘ä¸€ä¸ªæ‰©å±•çš„æ—¶å€™å°¤å…¶æ­£ç¡®ã€‚</li>
</ul>
<h2 id="åˆ›å»ºä¿¡å·"><a class="markdownIt-Anchor" href="#åˆ›å»ºä¿¡å·"></a> åˆ›å»ºä¿¡å·</h2>
<ul>
<li>åœ¨å®šä¹‰çš„ Namespace ä¸­å‘½åä¿¡å·ã€‚è¿™ä¹Ÿæ˜¯å¤§å¤šæ—¶å€™æ¨èçš„åšæ³•ï¼š</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> blinker <span class="keyword">import</span> Namespace</span><br><span class="line">my_signals = Namespace()</span><br></pre></td></tr></table></figure>
<p>-åˆ›å»ºä¿¡å·ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">model_saved = mysignals.signal(<span class="string">'model-saved'</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li>è¿™é‡Œä½¿ç”¨å”¯ä¸€çš„ä¿¡å·åï¼Œç®€åŒ–è°ƒè¯•ã€‚å¯ä»¥ç”¨ name å±æ€§æ¥è®¿é—®ä¿¡å·åã€‚</li>
</ul>
<h2 id="å‘é€ä¿¡å·"><a class="markdownIt-Anchor" href="#å‘é€ä¿¡å·"></a> å‘é€ä¿¡å·</h2>
<ul>
<li>è°ƒç”¨ send() æ–¹æ³•ï¼Œå‘å‡ºä¿¡å·ã€‚ å®ƒæ¥å—å‘é€ç«¯ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ï¼Œå’Œä¸€äº›æ¨é€åˆ°ä¿¡å·è®¢é˜…è€…çš„å¯é€‰å…³é”®å­—å‚æ•°ï¼š</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Model</span><span class="params">(object)</span>:</span></span><br><span class="line">    ...</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">save</span><span class="params">(self)</span>:</span></span><br><span class="line">        model_saved.send(self)</span><br></pre></td></tr></table></figure>
<ul>
<li>
<p>æ°¸è¿œå°è¯•é€‰æ‹©ä¸€ä¸ªåˆé€‚çš„å‘é€ç«¯ã€‚å¦‚æœä½ æœ‰ä¸€ä¸ªå‘å‡ºä¿¡å·çš„ç±»ï¼ŒæŠŠ self ä½œä¸ºå‘é€ç«¯ã€‚å¦‚æœä½ ä»ä¸€ä¸ªéšè®°çš„å‡½æ•°å‘å‡ºä¿¡å·ï¼ŒæŠŠ <code>current_app._get_current_object()</code> ä½œä¸ºå‘é€ç«¯ã€‚</p>
</li>
<li>
<p><strong>ä¼ é€’ä»£ç†ä½œä¸ºå‘é€ç«¯ï¼š</strong> æ°¸è¿œä¸è¦å‘ä¿¡å·ä¼ é€’ current_app ä½œä¸ºå‘é€ç«¯ï¼Œä½¿ç”¨ <code>current_app._get_current_object()</code> ä½œä¸ºæ›¿ä»£ã€‚è¿™æ ·çš„åŸå› æ˜¯ï¼Œ current_app æ˜¯ä¸€ä¸ªä»£ç†ï¼Œè€Œä¸æ˜¯çœŸæ­£çš„å¯¹è±¡ã€‚</p>
</li>
</ul>
<h2 id="ä¿¡å·ä¸-flask-çš„è¯·æ±‚ä¸Šä¸‹æ–‡"><a class="markdownIt-Anchor" href="#ä¿¡å·ä¸-flask-çš„è¯·æ±‚ä¸Šä¸‹æ–‡"></a> ä¿¡å·ä¸ Flask çš„è¯·æ±‚ä¸Šä¸‹æ–‡</h2>
<ul>
<li>ä¿¡å·åœ¨æ¥æ”¶æ—¶ï¼Œå®Œå…¨æ”¯æŒè¯·æ±‚ä¸Šä¸‹æ–‡ã€‚ä¸Šä¸‹æ–‡æœ¬åœ°çš„å˜é‡åœ¨ request_started å’Œ request_finished ä¸€è´¯å¯ç”¨ï¼Œæ‰€ä»¥ä½ å¯ä»¥ä¿¡ä»» flask.g å’Œå…¶ä»–éœ€è¦çš„ä¸œè¥¿ã€‚</li>
</ul>
<h2 id="åŸºäºè£…é¥°å™¨çš„ä¿¡å·è®¢é˜…"><a class="markdownIt-Anchor" href="#åŸºäºè£…é¥°å™¨çš„ä¿¡å·è®¢é˜…"></a> åŸºäºè£…é¥°å™¨çš„ä¿¡å·è®¢é˜…</h2>
<ul>
<li>å¯ä»¥åœ¨ Blinker 1.1 ä¸­å®¹æ˜“åœ°ç”¨æ–°çš„ connect_via() è£…é¥°å™¨è®¢é˜…ä¿¡å·ï¼š</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> template_rendered</span><br><span class="line"></span><br><span class="line"><span class="meta">@template_rendered.connect_via(app)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">when_template_rendered</span><span class="params">(sender, template, context, **extra)</span>:</span></span><br><span class="line">    <span class="keyword">print</span> <span class="string">'Template %s is rendered with %s'</span> % (template.name, context)</span><br></pre></td></tr></table></figure>
<h2 id="æ ¸å¿ƒä¿¡å·"><a class="markdownIt-Anchor" href="#æ ¸å¿ƒä¿¡å·"></a> æ ¸å¿ƒä¿¡å·</h2>
<ol>
<li><code>flask.template_rendered</code>ï¼šæ¨¡æ¿æ¸²æŸ“æˆåŠŸçš„æ—¶å€™å‘é€ï¼Œè¿™ä¸ªä¿¡å·ä¸æ¨¡æ¿å®ä¾‹<code>template</code>ã€ä¸Šä¸‹æ–‡çš„å­—å…¸ä¸€èµ·ç”¨ã€‚</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">log_template_renders</span><span class="params">(sender, template, context, **extra)</span>:</span></span><br><span class="line">    sender.logger.debug(<span class="string">'Rendering template "%s" with context %s'</span>, </span><br><span class="line">                         template.name <span class="keyword">or</span> <span class="string">'string template'</span>, </span><br><span class="line">                         context)</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> template_rendered</span><br><span class="line">template_rendered.connect(log_template_renders, app)</span><br></pre></td></tr></table></figure>
<ol start="2">
<li><code>flask.request_started</code>ï¼šå»ºç«‹è¯·æ±‚ä¸Šä¸‹æ–‡åï¼Œåœ¨è¯·æ±‚å¤„ç†å¼€å§‹å‰å‘é€ï¼Œè®¢é˜…è€…å¯ä»¥ç”¨ request ä¹‹ç±»çš„æ ‡å‡†å…¨å±€ä»£ç†è®¿é—®è¯·æ±‚ã€‚</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">log_request</span><span class="params">(sender, **extra)</span>:</span></span><br><span class="line">    sender.logger.debug(<span class="string">'Request context is set up'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> request_started</span><br><span class="line">request_started.connect(log_request, app)</span><br></pre></td></tr></table></figure>
<ol start="3">
<li><code>flask.request_finished</code>ï¼šåœ¨å“åº”å‘é€ç»™å®¢æˆ·ç«¯ä¹‹å‰å‘é€ï¼Œå¯ä»¥ä¼ é€’ response ã€‚</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">log_response</span><span class="params">(sender, response, **extra)</span>:</span></span><br><span class="line">    sender.logger.debug(<span class="string">'Request context is about to close down.'</span></span><br><span class="line">                        <span class="string">'Response: %s'</span>, response)</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> request_finished</span><br><span class="line">request_finished.connect(log_response, app)</span><br></pre></td></tr></table></figure>
<ol start="4">
<li><code>flask.got_request_exception</code>ï¼šåœ¨è¯·æ±‚å¤„ç†ä¸­æŠ›å‡ºå¼‚å¸¸æ—¶å‘é€ï¼Œå¼‚å¸¸æœ¬èº«ä¼šé€šè¿‡ exception ä¼ é€’åˆ°è®¢é˜…çš„å‡½æ•°ã€‚</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">log_exception</span><span class="params">(sender, exception, **extra)</span>:</span></span><br><span class="line">    sender.logger.debug(<span class="string">'Got exception during processing: %s'</span>, exception)</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> got_request_exception</span><br><span class="line">got_request_exception.connect(log_exception, app)</span><br></pre></td></tr></table></figure>
<ol start="5">
<li><code>flask.request_tearing_down</code>ï¼šåœ¨è¯·æ±‚é”€æ¯æ—¶å‘é€ï¼Œå®ƒæ€»æ˜¯è¢«è°ƒç”¨ï¼Œå³ä½¿å‘ç”Ÿå¼‚å¸¸ã€‚</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">close_db_connection</span><span class="params">(sender, **extra)</span>:</span></span><br><span class="line">    session.close()</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> request_tearing_down</span><br><span class="line">request_tearing_down.connect(close_db_connection, app)</span><br></pre></td></tr></table></figure>
<ol start="6">
<li><code>flask.appcontext_tearing_down</code>ï¼šåœ¨åº”ç”¨ä¸Šä¸‹æ–‡é”€æ¯æ—¶å‘é€ï¼Œå®ƒæ€»æ˜¯è¢«è°ƒç”¨ï¼Œå³ä½¿å‘ç”Ÿå¼‚å¸¸ã€‚</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">close_db_connection</span><span class="params">(sender, **extra)</span>:</span></span><br><span class="line">    session.close()</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> request_tearing_down</span><br><span class="line">appcontext_tearing_down.connect(close_db_connection, app)</span><br></pre></td></tr></table></figure>
<ol start="7">
<li><code>flask.appcontext_pushed</code>: è¿™ä¸ªä¿¡å·åœ¨åº”ç”¨ä¸Šä¸‹æ–‡å‹å…¥æ ˆæ—¶å‘é€ã€‚å‘é€è€…æ˜¯åº”ç”¨å¯¹è±¡ã€‚è¿™é€šå¸¸åœ¨å•å…ƒæµ‹è¯•ä¸­ä¸ºäº†æš‚æ—¶åœ°é’©ä½ä¿¡æ¯æ¯”è¾ƒæœ‰ç”¨ã€‚ä¾‹å¦‚è¿™å¯ä»¥ç”¨æ¥æå‰åœ¨ g å¯¹è±¡ä¸Šè®¾ç½®ä¸€äº›èµ„æºã€‚</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> contextlib <span class="keyword">import</span> contextmanager</span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> appcontext_pushed</span><br><span class="line"></span><br><span class="line"><span class="meta">@contextmanager</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">user_set</span><span class="params">(app, user)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">handler</span><span class="params">(sender, **kwargs)</span>:</span></span><br><span class="line">        g.user = user</span><br><span class="line">    <span class="keyword">with</span> appcontext_pushed.connected_to(handler, app):</span><br><span class="line">        <span class="keyword">yield</span></span><br><span class="line"><span class="comment"># æµ‹è¯•ä»£ç </span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test_user_me</span><span class="params">(self)</span>:</span></span><br><span class="line">    <span class="keyword">with</span> user_set(app, <span class="string">'john'</span>):</span><br><span class="line">        c = app.test_client()</span><br><span class="line">        resp = c.get(<span class="string">'/user/me'</span>)</span><br><span class="line">        <span class="keyword">assert</span> resp.data == <span class="string">'username=john'</span></span><br></pre></td></tr></table></figure>
<ol start="8">
<li><code>flask.appcontext_popped</code>: è¿™ä¸ªä¿¡å·åœ¨åº”ç”¨ä¸Šä¸‹æ–‡å¼¹å‡ºæ ˆæ—¶å‘é€ã€‚å‘é€è€…æ˜¯åº”ç”¨å¯¹è±¡ã€‚è¿™é€šå¸¸åœ¨ <strong>appcontext_tearing_down</strong> ä¿¡å·å‘é€åå‘é€</li>
<li><code>flask.message_flashed</code>: è¿™ä¸ªä¿¡å·åœ¨åº”ç”¨å¯¹è±¡é—ªç°ä¸€ä¸ªæ¶ˆæ¯æ—¶å‘é€ã€‚æ¶ˆæ¯ä½œä¸º message å‘½åå‚æ•°å‘é€ï¼Œåˆ†ç±»åˆ™æ˜¯ category å‚æ•°ã€‚</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">recorded = []</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">record</span><span class="params">(sender, message, category, **extra)</span>:</span></span><br><span class="line">    recorded.append((message, category))</span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> message_flashed</span><br><span class="line">message_flashed.connect(record, app)</span><br></pre></td></tr></table></figure>
]]></content>
      
        <categories>
            
            <category> Python Web </category>
            
            <category> Flask </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Flask </tag>
            
            <tag> ä¿¡å· </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Lxmléšè®°]]></title>
      <url>http://tech.noexception.cn/2017/02/18/Lxml%25E7%25AC%2594/</url>
      <content type="html"><![CDATA[<p><img src="http://img.wowoqq.com/allimg/150627/1-15062FI956.jpg" alt="love" /></p>
<a id="more"></a>
<h3 id="ç®€ä»‹"><a class="markdownIt-Anchor" href="#ç®€ä»‹"></a> ç®€ä»‹ï¼š</h3>
<ul>
<li>Lxmlæ˜¯åŸºäºlibxml2è§£æåº“çš„Pythonå°è£…ã€‚è§£æé€Ÿåº¦æ¯”Beautiful Soup å¿«ï¼Œç¼ºç‚¹å°±æ˜¯å®‰è£…éº»çƒ¦ã€‚</li>
</ul>
<h3 id="cssé€‰æ‹©å™¨"><a class="markdownIt-Anchor" href="#cssé€‰æ‹©å™¨"></a> CSSé€‰æ‹©å™¨ï¼š</h3>
<ul>
<li>CSSé€‰æ‹©å™¨è¡¨ç¤ºé€‰æ‹©å…ƒç´ æ‰€ä½¿ç”¨çš„æ¨¡å¼</li>
<li>ç¤ºä¾‹ï¼š
<ul>
<li>é€‰æ‹©æ‰€æœ‰æ ‡ç­¾ï¼š<code>*</code></li>
<li>é€‰æ‹©<a>æ ‡ç­¾ï¼š<code>a</code></li>
<li>é€‰æ‹©æ‰€æœ‰class=&quot;link&quot;çš„å…ƒç´ ï¼š<code>.link</code></li>
<li>é€‰æ‹©class=&quot;link&quot;çš„<a>æ ‡ç­¾ï¼š<code>a.link</code></li>
<li>é€‰æ‹©id=&quot;home&quot;çš„<a>æ ‡ç­¾ï¼š<code>a#home</code></li>
<li>é€‰æ‹©çˆ¶å…ƒç´ ä¸º<a>æ ‡ç­¾çš„æ‰€æœ‰<span>å­æ ‡ç­¾ï¼š<code>a &gt; span</code></li>
<li>é€‰æ‹©<a>æ ‡ç­¾å†…éƒ¨çš„æ‰€æœ‰<span>æ ‡ç­¾ï¼š<code>a span</code></li>
<li>é€‰æ‹©titleå±æ€§ä¸º&quot;Home&quot;çš„æ‰€æœ‰<a>æ ‡ç­¾ï¼š<code>a[title=Home]</code></li>
</ul>
</li>
</ul>
]]></content>
      
        <categories>
            
            <category> Python </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Python </tag>
            
            <tag> çˆ¬è™« </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[2016å¹´ç»ˆæ€»ç»“]]></title>
      <url>http://tech.noexception.cn/2017/01/03/2016%25E5%25B9%25B4%25E7%25BB%2588%25E6%2580%25BB%25E7%25BB%2593/</url>
      <content type="html"><![CDATA[<div id="hbe-security">
  <div class="hbe-input-container">
  <input type="password" class="hbe-form-control" id="pass" placeholder="å‹¤åŠ³æ¸©æŸ”ï¼Œè¿˜å–„è‰¯" />
    <label for="pass">å‹¤åŠ³æ¸©æŸ”ï¼Œè¿˜å–„è‰¯</label>
    <div class="bottom-line"></div>
  </div>
</div>
<div id="decryptionError" style="display: none;">Incorrect Password!</div>
<div id="noContentError" style="display: none;">No content to display!</div>
<div id="encrypt-blog" style="display:none">
U2FsdGVkX1+TaTXCbvK0swgb9kBHyw7fr9DJ3c2xFDB3BrgcQSSeLfVtWYyyT/kmZspudi/sYNr6lFHz/YpETq6POzCgSUJ0bwP1UDyRD11i7Se7rddVJ6i+ma5iSNS7R6W4+jrJB4uaE4MFFKvI/74ym7cMeulWhHbuqaXwbChNM+CnMWI07IvH3d9s2yeL7NZFuNapSr/OGen9k+3eTZy/kKWfp59jlBNPZNAsDWClg+xYldNIH7Aw2mcRZYTySYN0u/VKPjThbLCij50yygP4pCMLbXwXySx7qcLY5l5WjSTEgZfaKRSwvgWQA0s/Lj2DJH9va8+qykjJXrm58mVkXmQ4cscX2GEFw0aeAg7/480trcucspYNhqvbGMqpMIobvUzQ0a+7MKDsjhu0rR0EC4yh5H6NhbFRJsgmxuU4DN2vss6mVOUWyQ+GrLmoS9AK/oHlu0PhbPDVKx5cyfdtJf0Crheger4DNWxtx/jHbzOfQET1+W/EkCwyY+htW1+1gqrWLq8zG9djxPwIsdhlOo/uz9RnXqHKpgN0jgmdVyVwrNvmGorr9e2o3A0zJHHj/F+IPIRi7KK2h1GHuVzC3/nxgCzmRd2XlhOgsSSqB498I1nB7vAA0M9h8PlWu6iADENJe49vwpWt/d+ET0mhu5AkJOLiUOdHVEDPZEZpuj6XWcEC5Ct4OfLzX+NVMsg+5MMS/yN61HMxuwE3PFc3++OvxA/YSiH2jmpuOTx/5A1nrBhEYcSyZMYufQLMznZ5HzlPMfUkN82xlwb1vavIj4D1P06Q4F0nRqKlh+9pHfxDzTdbvhWAiSsiZ3f70GWdsu6uodnz344o8nUV5TkT0/HfoPqwOMin0UEzfppt7QSXeS5KHTCI2wglRSiyc5EWQzu9EkzUlw02quwf0J4Tdte1E9Js5pGuI7Lg5LyMesFi3BhQT1/4/iWoBX+IPpQq9z6HHJRA2iSGQk/0EGXPX2wM3HjVz3Ucs4XLDU1uNbJeYRs0m2gtMDXg/9XyHgRMh7u24K6DM+JDQ/MLSel8eOUYuRHbVyp+COBGp63gmEtdMQhn5Ip5JG4VBkCvqWulFjQpVIogm9oPyXRzpXupYA4QR5IjqnQYBZ8IMGV8hZ4BQFZwrrbXzXEWN5EDff+0EKVkWI+2a7NQdrD9nCrqZSJmC9Hk/3Qah1ECYkjHZ6e0Ou84ADRN3Hhr9lt3J7uOCmKaNnjjHD5zUYdbkOrwTfxk+B7Uz4omBIEUniN1SqidUwSAovlh/YRaumHcVnGoh5OA7wWtlUtOptxcdztDZjp0C2rbJ6cFj598qttMjO12gheLmtxd+Db3iVNtCrlpDzcYxT9a2RUJJRccSMuiEoahIWkoy4X4TlqhO315/jzZgAGFffFxjelqyvDh9zmdplVZBkinmPv5ynA2NTe6ti8hyDzvscjtno+KUWjSRUqGQt7xBwCM2UiO3kpXGnu97SBXNYKQ3RK2ScsRAM4A4/MzW8PSqvLxNtBpM2uKWAFlSMVwot/Bbof1nUEBSP6AkPAIti1dnY8P2jkmv0SS4kOqhXzV7joTyG6MfmmH2/hMGC8ykmGgUrTlgTNPUQ+i3mOWsWTlAGTSnhjW+3zfbxiwMqwDpv/6PS8ef2evxAoqt+M8LH3Q/iljZ4ygOjFkNuag58wgE13l4ULg5Z8yfKee3RB18JFWW9NGvcRBTHaXSGwENd6NWNVb3NgZ0UEg+e8jKfC+qgRxSRX4oD4OTPnL5LZYC9nbMwHXQY0SlRFf6FyQFlU+pek4db8wDGxP3veAajwh5VCMRqScUSyl1utfXsX41+vJPvQP7P2CG7qrxyrz6XnOKxQQkXl27yevKavAdCA7ousz7a6nilUaP5I3AuCUvNthMWCrhE1u++u7Ew0EAmU2IZUZLJgT/ixJ5GOZr8hOIhEU7fMeSb0Fov4A40GfETwLglF/aSfUFH52kPfSdwiNnIPRogK0VcyP7opaeweMyA4Vz1w6M9DFptv7FJY7h47+gNDhwpOPJhfxD4gVZsU+3+nlX4SNZgSC3+Henvcn60Bytw7X2KQDsZp6lvTfPETyhk5cfYjUiHCo80Z/iP4B4SUF5WPTwH2/DagHmrDXAMy5D7Rqp6lQkNJptjg3ycuhStcn/iD5Y+g8WJvQpRKf2K7TBXunngPxDekgpwITa/+cQhOMwfwa5XewcEYqm+kpPOzQd5dNKg7Mm0sBySSvmHR7GlEcZXOoScq/KWze+LssZK0uyrnUd/BSxe1jSQq2NVhHT7ojVJQK4R3poCkKfLs3ysr545r1rVceHOJF7gWFxtWjWHakkG3ejaEsbX2DA8bw1JrooiCVftR5amALPMb20YswHH970cD6eAxwQ9Lo7nEeh7ZLF3tDW6La/Ik26pkPGMvha1pUVM38ei/oGhD2CJnD7xaCx1aFGXL6cO1CO/6oHGrUEY8eFNfsEvMvlGJ8HdUWZv7xEaCbd3L5thb6BISqVjX0RvSmWuSXDZDu8GUouKWcS4YSB69VHVg02zvfAsSZaT73VBlsojInKKXLtN6oVezdRS1/JTE+Xnvo1hbgSfkysHbRqHfue43qLx4Q/pwwwDLk60gjnEVcVZnt0LTXH5oZYMPwtvxLl0J1lkdRg+XymQbCzBvEfVFg3eeiRpaB/qvCnj56Un/Ro8CkfqQQuxMH7FqIvkE5KE0U9eUNf6tK2XvJmqhhlIil/Wikm4ifvg4vqcgoyyzJBgqpKjn0/tUkSDw9vKNnGoLiV/NH9Yqn1g7xBoecIGHNffreuApyszqdsDi8CZrp4XQcCpIohSZXYhC0KWVhRNsHcl7dgEB0QxhrWLVJbrEJ2gOIsOfE2tl9ikT+v6FPdQFkemMUvKXXeeXgE68+vVRm+LZVCmYEBKc2ytCwg/SCGSObCs9tYImpjS7/wg5qWH374m0XDM3H22HHJIxhD9EcsApNoGdaWLWe2Losftos4+0I0dTvFb3m06TKwuVg2OFK33w+dB92yUyUu1G8TjdzCmoBOuaVZFK4hBo+uJ3+WsqwhYhm8dG8V1hTIY5Vg99g+DilPTs/zU8VaGW2p8h9ZN5g5IepdNKmh4SEube0blUpaN1M1NZCErsZjcAOxOr4NEj1WZ+sbndRNChMCZ+nyAbdkmr7EE8OU+ZF6jDsTaJonEws2vK5mZRXwDs6WdybVRj2MJ0ymg6ZJtgXgORqfeFZw+CQLV68eRhKsJUGXnyzGKZzMja/60qMa7P11XbOhmJrMub8MBE0CCnfCu8lk+uVjtUsplTx6BkITEUgsG2686oI25IXjlahpx/x85THw+t9h05uTt9Ic3eM9c521aJd06CRBclerKhfRL34DY2beD8sfakY4k1GWuaD86xHyixl9CSNlrtA4esTILfbECvxYsZ/DIHdZ4qxpu3jjg0OkKYpxxxV/XWXZMwj313CVXC1ST+cAC3RFosLwchmZtgVfTbEx6i01sEaoXi9SvOmsyPr1pfBeL+y8Fp5liTH7uH8D8GwowXNWex+1UbzFPEHAcB86QOE31nx/Vss5H+jgGYqwm68vtY4vpaB8HnAMa3tjcsVrAbD2K+VXXyAaE5JOwFqHdTMJLSgXPD1XfYkH59r7GviKck2lc1UAwNIJBZmvJIoUo7s4257JPE6H1ia+rZieaV7gnyDfEzU8DJITPN9VgqncCe3D4DFfqT7i/rgV042jGUgvEDARNQ1OAGi/LqDVuz9guyMzG2sVePbprfTsouje883exBSEdGb8cvJCC41j/Mu8tBXAvJdnwWgUwP2pXmBDKhqaoym9uMVmHMG8/Xc3EPOGCVeaN9k0QNNDOymrXkgnwPX3n8XCoff2gtumbgTucNYuwfWixoCkBg1+lqPYyG2MHk+Z+mbr1uWcBdaX0UKT9eJ+iHTYarr+WeQkcdOtLAeKa6GToLhVeCENnkQGfkFXWyXtTjk/ZAmQgMH8YOBuNibwGliSK3r9iJssQfLmk6Eo5nbfNNFmRsEHDcN3vZJvvlBO7ZQsTCj9/eQb3ynCmDvF9wHTVHD4diQls0ezlz71KxZO6y67iE0x3Bft6FfOERQ83RWaDsD2lP/CasJiVuQa753j0MLDqMKANwMp8lf+3fzyfP3JYIwzBrUPHuPm7gTNzodofiIoImSRnHiOlWgMO/v/48JEXNROl3iOh16nn62fsZTXUx7hMucvCum2S+khfM/1W2WA9PHXEUxPvwf2H0Xz/FfZrI0EUTkKILvpLUX3MGvZ37j85p28eAE/baqeoBjFv3B6jWfBv85XWfI4l5Qu2MrgHUOb1TBpyfovReUAWCtYYhxMZKlCcnwPikoHkE4VKi71ouMf59Ta52KxYsZU/UB0CEKDg8DOGMFlbUY433pKIX8fEqFvl049nGpDMs3EXWjsL5ZWVhC2JnMPjRy54DdAq/dGcjHWIP6XrgObraBXUVfDAVI+GOP5b82iJjZMy3clpQYuVBTGA2fZBluPicYEVsr0kghdtiwIA7jwkT0Stzl678Y23CS3wEfaVzcJcVjbYVYkB9IlgKqDxBfM8p0IlL968Sx5A0sv9VouanXYMIU/T1wykgcsYaDNIoLiHVjQht/fOkEF3l1bcBvYWqHX+GL89ofYRdfMPho3o3tG5gI02jmaktJ88Hvqnqgr379Y5Ndlemu/bbiJc06Ye8Hs3oEAIdSCOls3f7hCs97xEFTB6Je6P4H9eBx+a4TZYHAbYgIkzYXajOMLZXpKI1w0YG9ycS6rA5wW9G221CpXA9a0qVUSxotcpaJbzyM5CpZRqXSyeOeQkC3fY/THNooUXlrc26gpzzsgpAqyEzx1kuOcG4iZz2Te5RNHEHrXvmG226der+PoVpM9rAkaMYdl8Umg9Rbkcgq9EomLeDTutFHidVO2C6WS5A6J2cPz/wuPuMxSDwjkbGcb1QW0YoYT9hkyTs/XffhVnNYjFjcPqwSY4t+5/nmU9KWQNcbQyW6UlSIkh65NnOhyAmz7h93OshnHLf+0XvmkgOcGWdpCA5Kr2aBM9De+RMUr48Wykum7x/ydx1sJNsy6kpJCQ1PcWUmFUqlqCSwKgacEnYuQZ0Ye3tGuZep6qYJ+PRk5hr88ylCDlknqkufMT/xWudrIfA8Kl6M1JONiNgPYKR2f5bEQj2YhQpuVXnJviu644ee3ccLMU/iABSUvkqNKaqDZUGjq3eyF0UHEdgTEramWWyMcoN0cp0rQNOnxny4PtfsMxXUs8gtMVrkE4E+UjzaqiJXvt2sXhkdWDNkjlV3wUMJf9aIV7lD/ghNuFavMl4abyfbMMs4EKQK9/FXKo4ZhCJy1gDBuPsx8+qGC4BVaxQJe/yZYsb9HCczjZBI5cJGAGaSF+3TtqaYy95w+IZZGDRiaO0vtah6n3XxbFz/vhWvlkX0JDiH0o/hhlDyCi9lg30JDSU0ITv04h1fg3KWpyHX+xqHJsnEwujWi8ZQnhKLRhgt4shePhuhiMJUugLFDEd3TghXt67/VW390+UfBWJ1GcOh27BpGmWoE5gpRx8zID43uZ07P90pl+vccShO/94z9RmMj/ed73dQHh3j48aJKxJrq6J+OPopfaIkHp2hc84YgVPkV2un6d3qEYEPHQ7LUQ7TwRU/ZkiMK7BLlCVIRx01trUTcaoRo5qb5M/mikc3s+ja3AmbK7wUjSMG33iVHa7nikDelZRgc5cVNWqlDJPpSvXRo39PIKiUdLJhUG8/MZKYgYkNEA900nvFIw19M2n08CB5/dJWlYNsYnqdF1DZoodzO6VtU29Lmr3dTNlEpO1OlBJyMAGzlDCj/HfMIDTiljrdL2Cj2pq4tnDWqZW2pZfKHE/XDrE5ya8Nc/p4YQXdyS/0LcfUQbGShjYeiyfxKSMARzd7mtaJ3AB99+b/7PZ/nQeaaRk6zT2kVd4PuiRpJKn93aTdaKVr/TIaEguraap+cSMafdk9gQgmdPPkyigak3m10LsJsDvgQgPPP1FKJXvt+xLzAgpLo4NHPGhbaN1xoHSfLoOq3c9BcvfUS4yW04hU7+yewphI2zzf9nhyjs4UZgrpt+2lLdFUoZPq9DTxtKQ9AQ1WE1/FUEN7zVQXdtzFR02FOp0LCrmb9C489IOqsjUcCO3TPUlGjaNQWxN6zUlixeA3kqd4qHb4pQhy/6skLQug9ZiqKtTQgyVG8BA4wAmmecb8MNFfFIVj0dwc/KNzwPYzV5ymFRFx8z5BIxar7ijCnliLNrPBo76hqKU3I4M5RpXuyTLUbFbfeBTVn6izHYHk6NBskaRvukTwLmBlRL09xFMjlOiwSBpMsLxoXlenJjHyfWPUCLcfxvV1U2+VIIU+94vzhx5l4LHJd45NsVIQ2wws14cV4ql1d7kl4qCIOUd3YhqeORYa6pYtw7zYhqubXoIEckJpuFJLWnP9KNLmVGIJOB/WCQE751j4ofMIKdgkcmQJIoG+Jw+oQRv6X1iP8nJG/fKTmTDVeIXUm0KnrhLYd8Ml/ZeXyyzO70KWmDDHtUuNdBQK9Q7Ae5nyzu/xWaYOuJWoNlp+B9EWpM9Jso3C988hQX0OotEB6pBxzBXJsKHJmkMqrJrPXQI2O9eKNlQswVgOtYSIxpmldx9vn9Qk0UEGfU9SU1WEzb6mrzjEInESa4zaprxxmMf6UwrJ/zRP8dPV7kj8OJbTljHykcNdENSpqUFk3RGpRjTRWuC0KTdzM+uJEkBFwXv77QquyubC6yfkGtPNaQ0sWFintHDVV9d2KJajzL2bjkyQjvtBs5lIXhphKAovSgFSxWoC7Q==
</div>
<script src="/lib/crypto-js.js"></script><script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
      
        <categories>
            
            <category> å¹´åº¦æ€»ç»“ </category>
            
        </categories>
        
        
        <tags>
            
            <tag> æ€»ç»“ </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[ã€ŠC++ Primerã€‹ç¬¬å…«ç« å°ç»“]]></title>
      <url>http://tech.noexception.cn/2016/12/29/sumeryofchapter8/</url>
      <content type="html"><![CDATA[<p align="center">IOåº“å°ç»“</p>
<a id="more"></a>
<h2 id="c-ä½¿ç”¨æ ‡å‡†åº“ç±»æ¥å¤„ç†é¢å‘æµçš„è¾“å…¥å’Œè¾“å‡º"><a class="markdownIt-Anchor" href="#c-ä½¿ç”¨æ ‡å‡†åº“ç±»æ¥å¤„ç†é¢å‘æµçš„è¾“å…¥å’Œè¾“å‡º"></a> C++ ä½¿ç”¨æ ‡å‡†åº“ç±»æ¥å¤„ç†é¢å‘æµçš„è¾“å…¥å’Œè¾“å‡ºï¼›</h2>
<ul>
<li><code>iostream</code>å¤„ç†æ§åˆ¶å°IO</li>
<li><code>fstream</code>å¤„ç†å‘½åæ–‡ä»¶IO</li>
<li><code>stringstream</code>å®Œæˆå†…å­˜stringçš„IO</li>
</ul>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç±»`fstream`å’Œ`stringstream`éƒ½æ˜¯ç»§æ‰¿è‡ªç±»`iostream`çš„ã€‚è¾“å…¥ç±»éƒ½ç»§æ‰¿è‡ª`istream`ï¼Œè¾“å‡ºç±»éƒ½ç»§æ‰¿è‡ª`ostream`ã€‚å› æ­¤ï¼Œå¯ä»¥åœ¨`istream`å¯¹è±¡ä¸Šæ‰§è¡Œçš„æ“ä½œï¼Œä¹Ÿå¯åœ¨`ifstream`æˆ–`istringstream`å¯¹è±¡ä¸Šæ‰§è¡Œã€‚ç»§æ‰¿è‡ª`ostream`çš„è¾“å‡ºç±»ä¹Ÿæœ‰ç±»ä¼¼æƒ…å†µã€‚</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ¯ä¸ªIOå¯¹è±¡éƒ½ç»´æŠ¤ä¸€ç»„æ¡ä»¶çŠ¶æ€ï¼Œç”¨æ¥æŒ‡å‡ºå¯¹è±¡ä¸Šæ˜¯å¦å¯ä»¥è¿›è¡ŒIOæ“ä½œã€‚å¦‚æœé‡åˆ°äº†é”™è¯¯â€”â€”ä¾‹å¦‚åœ¨è¾“å…¥æµä¸Šé‡åˆ°äº†æ–‡ä»¶æœ«å°¾ï¼Œåˆ™å¯¹è±¡çš„çŠ¶æ€å˜ä¸ºå¤±æ•ˆï¼Œæ‰€æœ‰åç»­è¾“å…¥æ“ä½œéƒ½ä¸èƒ½æ‰§è¡Œï¼Œç›´è‡³é”™è¯¯è¢«çº æ­£ã€‚æ ‡å‡†åº“æä¾›äº†ä¸€ç»„å‡½æ•°ï¼Œç”¨æ¥è®¾ç½®å’Œæ£€æµ‹è¿™äº›çŠ¶æ€ã€‚</p>
]]></content>
      
        <categories>
            
            <category> è¯»ä¹¦ç¬”è®° </category>
            
        </categories>
        
        
        <tags>
            
            <tag> C++ </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[CentOS7å®‰è£…Mysql]]></title>
      <url>http://tech.noexception.cn/2016/11/15/CentOS7%25E5%25AE%2589%25E8%25A3%2585Mysql/</url>
      <content type="html"><![CDATA[<h2 id="centos7é»˜è®¤çš„yumæºæ²¡æœ‰mysql-serverè¿™ä¸ªåº“æ‰€ä»¥yum-install-y-mysql-serverè¿™ä¸ªå‘½ä»¤åœ¨centos7ä¸­æ— æ³•ä½¿ç”¨"><a class="markdownIt-Anchor" href="#centos7é»˜è®¤çš„yumæºæ²¡æœ‰mysql-serverè¿™ä¸ªåº“æ‰€ä»¥yum-install-y-mysql-serverè¿™ä¸ªå‘½ä»¤åœ¨centos7ä¸­æ— æ³•ä½¿ç”¨"></a> CENTOS7é»˜è®¤çš„yumæºæ²¡æœ‰mysql-serverè¿™ä¸ªåº“ï¼Œæ‰€ä»¥<code>yum install -y mysql-server</code>è¿™ä¸ªå‘½ä»¤åœ¨CENTOS7ä¸­æ— æ³•ä½¿ç”¨ã€‚</h2>
<a id="more"></a>
<h2 id="1-å®‰è£…"><a class="markdownIt-Anchor" href="#1-å®‰è£…"></a> 1. å®‰è£…ï¼š</h2>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">wget http:&#x2F;&#x2F;repo.mysql.com&#x2F;mysql-community-release-el7-5.noarch.rpm</span><br><span class="line">sudo rpm -yvh mysql-community-release-el7-5.noarch.rpm</span><br><span class="line">yum update</span><br><span class="line">sudo yum install mysql-server</span><br><span class="line">sudo systemctl start mysqld</span><br></pre></td></tr></table></figure>
<h2 id="2-ç®¡ç†rootå¯†ç "><a class="markdownIt-Anchor" href="#2-ç®¡ç†rootå¯†ç "></a> 2. ç®¡ç†rootå¯†ç </h2>
<ul>
<li>é»˜è®¤å®‰è£…çš„mysqlæ˜¯æ²¡æœ‰å¯†ç çš„</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">#æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼Œç›´æ¥å›è½¦å³å¯è¿›å…¥mysqlç»ˆç«¯</span><br><span class="line">mysql -u root -p</span><br><span class="line">#æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ç»™rootç”¨æˆ·è®¾ç½®å¯†ç </span><br><span class="line">set password for root@localhost&#x3D;password(&#39;123&#39;);</span><br><span class="line">#ç„¶åé€€å‡º</span><br><span class="line">quit</span><br><span class="line">#å†æ¬¡ç™»é™†ï¼Œéœ€è¦å¯†ç è¿›å…¥</span><br><span class="line">mysql -u root -p</span><br><span class="line">#æˆ–è€…å¿«æ·æ–¹å¼è¿›å…¥</span><br><span class="line">mysql -uroot -p123</span><br></pre></td></tr></table></figure>
<h2 id="3-è®¾ç½®mysqlçš„è®¿é—®æƒé™"><a class="markdownIt-Anchor" href="#3-è®¾ç½®mysqlçš„è®¿é—®æƒé™"></a> 3. è®¾ç½®Mysqlçš„è®¿é—®æƒé™</h2>
<ul>
<li>è®¾ç½®æ‰€æœ‰ipå¯ä»¥è®¿é—®è¿™å°mysqlçš„å‘½ä»¤ï¼Œé»˜è®¤æƒ…å†µä¸‹åªæœ‰æœ¬æœºèƒ½è®¿é—®ï¼Œå¯¹å¤–æ˜¯ä¸å…¬å¼€çš„</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">grant all on *.* to &#39;root&#39;@&#39;%&#39; identified by &#39;123&#39; with grant option;</span><br><span class="line">flush privileges;</span><br><span class="line"></span><br><span class="line">#å‘½ä»¤è¯´æ˜ï¼š</span><br><span class="line">grant all ï¼šæ‰€æœ‰çš„æƒé™ç”¨all</span><br><span class="line"></span><br><span class="line">on *.*ï¼šåŒ¹é…åº“å.è¡¨åï¼Œ*.*æŒ‡çš„æ˜¯å…è®¸æ‰€æœ‰çš„åº“å’Œè¡¨è¢«è®¿é—®ã€‚</span><br><span class="line"></span><br><span class="line">&#39;root&#39;@&#39;%&#39;ï¼šç”¨æˆ·å@IPï¼Œæ³¨æ„ç”¨æˆ·åå’Œipéƒ½è¦ç”¨å•å¼•å·å¼•èµ·æ¥</span><br><span class="line">ipè¿™ä¸ªåœ°æ–¹ï¼Œæ”¯æŒlikeé€šé…ï¼Œæ¯”å¦‚%devï¼Œå…è®¸æ‰€æœ‰ä»¥devç»“å°¾çš„åŸŸåè®¿é—®</span><br><span class="line">%ä»£è¡¨æ‰€æœ‰çš„ip</span><br><span class="line"></span><br><span class="line">&#39;123&#39;ä»£è¡¨rootå¯†ç </span><br></pre></td></tr></table></figure>
<h2 id="4-mysqlæœ‰å…³çš„ç³»ç»Ÿç®¡ç†å‘½ä»¤"><a class="markdownIt-Anchor" href="#4-mysqlæœ‰å…³çš„ç³»ç»Ÿç®¡ç†å‘½ä»¤"></a> 4. mysqlæœ‰å…³çš„ç³»ç»Ÿç®¡ç†å‘½ä»¤</h2>
<ul>
<li>CentOS7ç®¡ç†Mysqlçš„å¯åŠ¨å’Œåœæ­¢</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">systemctl start mysqld</span><br><span class="line">systemctl stop mysqld</span><br><span class="line">systemctl status mysqld</span><br></pre></td></tr></table></figure>
<hr />
<p>è½¬è‡ªï¼š<a href="http://mp.weixin.qq.com/s?__biz=MzAxMzE4MDI0NQ==&amp;mid=2650335219&amp;idx=1&amp;sn=38abc805b96fb7d4f497a90f28f377c2&amp;chksm=83aacbc9b4dd42dfbf2be8b83155124aeafd490234a9bcfbb6a94fa255d455fe8d04b4467da6&amp;scene=4#wechat_redirect" target="_blank" rel="noopener">http://mp.weixin.qq.com/s?__biz=MzAxMzE4MDI0NQ==&amp;mid=2650335219&amp;idx=1&amp;sn=38abc805b96fb7d4f497a90f28f377c2&amp;chksm=83aacbc9b4dd42dfbf2be8b83155124aeafd490234a9bcfbb6a94fa255d455fe8d04b4467da6&amp;scene=4#wechat_redirect</a></p>
]]></content>
      
        <categories>
            
            <category> Mysql </category>
            
        </categories>
        
        
        <tags>
            
            <tag> CentOS7 </tag>
            
            <tag> Mysql </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[æ•°æ®ç»“æ„ä¸ç®—æ³•å¤ä¹ ï¼ˆä¸€ï¼‰]]></title>
      <url>http://tech.noexception.cn/2016/11/07/%25E6%2595%25B0%25E6%258D%25AE%25E7%25BB%2593%25E6%259E%2584%25E4%25B8%258E%25E7%25AE%2597%25E6%25B3%2595%25E5%25A4%258D%25E4%25B9%25A0%25EF%25BC%2588%25E4%25B8%2580%25EF%25BC%2589/</url>
      <content type="html"><![CDATA[<p align="center">æœ¬ç¯‡ä¸ºå¤ä¹ æ•°æ®ç»“æ„ä¸ç®—æ³•çš„ç¬¬ä¸€ç¯‡</p>
<a id="more"></a>
<h2 id="èƒŒåŒ…-é˜Ÿåˆ—å’Œæ ˆ"><a class="markdownIt-Anchor" href="#èƒŒåŒ…-é˜Ÿåˆ—å’Œæ ˆ"></a> èƒŒåŒ…ã€é˜Ÿåˆ—å’Œæ ˆ</h2>
<h3 id="api"><a class="markdownIt-Anchor" href="#api"></a> API</h3>
<ul>
<li><strong>æ³›å‹å¯è¿­ä»£çš„åŸºç¡€é›†åˆæ•°æ®ç±»å‹çš„API</strong></li>
</ul>
<table>
<thead>
<tr>
<th>èƒŒåŒ…</th>
<th><code>public class Bag&lt;Item&gt; implements Iterable&lt;Item&gt;</code></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Bag()</code></td>
<td>åˆ›å»ºä¸€ä¸ªç©ºèƒŒåŒ…</td>
</tr>
<tr>
<td><code>void add(Item item)</code></td>
<td>æ·»åŠ ä¸€ä¸ªå…ƒç´ </td>
</tr>
<tr>
<td><code>boolean isEmpty()</code></td>
<td>èƒŒåŒ…æ˜¯å¦ä¸ºç©º</td>
</tr>
<tr>
<td><code>int size()</code></td>
<td>èƒŒåŒ…ä¸­çš„å…ƒç´ æ•°é‡</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>å…ˆè¿›å…ˆå‡º(FIFO)é˜Ÿåˆ—</th>
<th><code>public class Queue&lt;Item&gt; implements Iterable&lt;Item&gt;</code></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Queue()</code></td>
<td>åˆ›å»ºç©ºé˜Ÿåˆ—</td>
</tr>
<tr>
<td><code>void enqueue(Item item)</code></td>
<td>æ·»åŠ ä¸€ä¸ªå…ƒç´ </td>
</tr>
<tr>
<td><code>Item dequeue()</code></td>
<td>åˆ é™¤æœ€æ—©æ·»åŠ çš„å…ƒç´ </td>
</tr>
<tr>
<td><code>boolean isEmpty()</code></td>
<td>é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º</td>
</tr>
<tr>
<td><code>int size()</code></td>
<td>é˜Ÿåˆ—ä¸­çš„å…ƒç´ æ•°é‡</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>ä¸‹å‹(åè¿›å…ˆå‡ºï¼ŒLIFO)æ ˆ</th>
<th><code>public class Stack&lt;Item&gt; implements Iterable&lt;Item&gt;</code></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Stack()</code></td>
<td>åˆ›å»ºä¸€ä¸ªç©ºæ ˆ</td>
</tr>
<tr>
<td><code>void push(Item item)</code></td>
<td>æ·»åŠ ä¸€ä¸ªå…ƒç´ </td>
</tr>
<tr>
<td><code>Item pop()</code></td>
<td>åˆ é™¤æœ€è¿‘æ·»åŠ çš„å…ƒç´ </td>
</tr>
<tr>
<td><code>boolean isEmpty()</code></td>
<td>æ ˆæ˜¯å¦ä¸ºç©º</td>
</tr>
<tr>
<td><code>int size()</code></td>
<td>æ ˆä¸­çš„å…ƒç´ æ•°é‡</td>
</tr>
</tbody>
</table>
<ol>
<li><strong>æ³›å‹</strong></li>
</ol>
<ul>
<li>é›†åˆç±»çš„æŠ½è±¡æ•°æ®ç±»å‹çš„ä¸€ä¸ªå…³é”®ç‰¹æ€§æ˜¯æˆ‘ä»¬åº”è¯¥å¯ä»¥ç”¨å®ƒä»¬å­˜å‚¨ä»»æ„ç±»å‹çš„æ•°æ®ã€‚ä¸€ç§ç‰¹åˆ«çš„Javaæœºåˆ¶èƒ½å¤Ÿåšåˆ°è¿™ä¸€ç‚¹ï¼Œå®ƒè¢«æˆä¸º<em>æ³›å‹</em>ï¼Œä¹Ÿå«åšå‚æ•°åŒ–ç±»å‹ã€‚</li>
<li>åœ¨æ¯ä»½APIä¸­ï¼Œç±»ååçš„<Item>è®°å·å°†Itemå®šä¹‰ä¸ºä¸€ä¸ªç±»å‹å‚æ•°ï¼Œå®ƒä¸€ä¸ªè±¡å¾æ€§çš„å ä½ç¬¦ï¼Œè¡¨ç¤ºçš„æ˜¯ç”¨ä¾‹å°†ä¼šä½¿ç”¨çš„æŸç§å…·ä½“æ•°æ®ç±»å‹ã€‚å¯ä»¥å°†Stack<Item>ç†è§£ä¸ºæŸç§å…ƒç´ çš„æ ˆã€‚</li>
<li>åœ¨åˆ›å»ºæ ˆæ—¶ï¼Œç”¨ä¾‹ä¼šæä¾›ä¸€ç§å…·ä½“çš„æ•°æ®ç±»å‹ï¼šæˆ‘ä»¬å¯ä»¥å°†Itemæ›¿æ¢ä¸ºä»»æ„å¼•ç”¨æ•°æ®ç±»å‹ï¼ˆItemå‡ºç°çš„æ¯ä¸ªåœ°æ–¹éƒ½æ˜¯å¦‚æ­¤ï¼‰ã€‚</li>
</ul>
<ol start="2">
<li><strong>è‡ªåŠ¨è£…ç®±</strong></li>
</ol>
<ul>
<li>ç±»å‹å‚æ•°å¿…é¡»è¢«å®ä¾‹åŒ–ä¸ºå¼•ç”¨ç±»å‹ï¼Œå› æ­¤Javaæœ‰ä¸€ç§ç‰¹æ®Šæœºåˆ¶æ¥ä½¿æ³›å‹ä»£ç èƒ½å¤Ÿå¤„ç†åŸå§‹æ•°æ®ç±»å‹ã€‚<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Stack&lt;Integer&gt; stack = <span class="keyword">new</span> Stack&lt;Integer&gt;();</span><br><span class="line">stack.push(<span class="number">17</span>);   <span class="comment">//è‡ªåŠ¨è£…ç®±(int -&gt; Integer)</span></span><br><span class="line"><span class="keyword">int</span> i = stack.pop();  <span class="comment">//è‡ªåŠ¨æ‹†ç®±(Integer -&gt; int)</span></span><br></pre></td></tr></table></figure>
</li>
<li>è‡ªåŠ¨å°†ä¸€ä¸ªåŸå§‹æ•°æ®ç±»å‹è½¬æ¢ä¸ºä¸€ä¸ªå°è£…ç±»å‹è¢«æˆä¸ºè‡ªåŠ¨è£…ç®±ï¼Œè‡ªåŠ¨å°†ä¸€ä¸ªå°è£…ç±»å‹è½¬æ¢ä¸ºä¸€ä¸ªåŸå§‹æ•°æ®ç±»å‹è¢«æˆä¸ºè‡ªåŠ¨æ‹†ç®±ã€‚</li>
</ul>
<ol start="3">
<li><strong>å¯è¿­ä»£çš„é›†åˆç±»å‹</strong></li>
</ol>
<ul>
<li>å¯¹äºè®¸å¤šåº”ç”¨åœºæ™¯ï¼Œç”¨ä¾‹çš„è¦æ±‚åªæ˜¯ç”¨æŸç§æ–¹å¼å¤„ç†é›†åˆä¸­çš„æ¯ä¸ªå…ƒç´ ï¼Œæˆ–è€…å«åš<em>è¿­ä»£è®¿é—®</em>é›†åˆä¸­çš„æ‰€æœ‰å…ƒç´ ã€‚</li>
<li>ä¾‹å¦‚ï¼Œå‡è®¾ç”¨ä¾‹åœ¨Queueä¸­ç»´æŠ¤ä¸€ä¸ªäº¤æ˜“é›†åˆï¼š</li>
</ul>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Queue&lt;Transaction&gt; collection = <span class="keyword">new</span> Queue&lt;Transaction&gt;();</span><br><span class="line"><span class="comment">//å¦‚æœé›†åˆæ˜¯å¯è¿­ä»£çš„ï¼Œç”¨ä¾‹ç”¨ä¸€è¡Œè¯­å¥å³å¯æ‰“å°å‡ºäº¤æ˜“çš„åˆ—è¡¨ï¼š</span></span><br><span class="line"><span class="keyword">for</span>(Transaction t : collection)&#123;</span><br><span class="line">    StdOUt.println(t);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//è¿™ç§è¯­æ³•å«åšforeachè¯­å¥ï¼šå¯ä»¥å°†forè¯­å¥çœ‹åšå¯¹äºé›†åˆä¸­çš„æ¯ä¸ªäº¤æ˜“t(foreach)ï¼Œæ‰§è¡Œä¸€ä¸‹ä»£ç æ–­ã€‚</span></span><br></pre></td></tr></table></figure>
<ol start="4">
<li><strong>èƒŒåŒ…</strong></li>
</ol>
<ul>
<li>èƒŒåŒ…å¸‚ä¸€ç§ä¸æ”¯æŒä»ä¸­åˆ é™¤å…ƒç´ çš„é›†åˆæ•°æ®ç±»å‹â€”â€”å®ƒçš„ç›®çš„å°±æ˜¯å¸®åŠ©ç”¨ä¾‹æ‰‹æœºå…ƒç´ å¹¶è¿­ä»£ä¾¿åˆ©æ‰€æœ‰æ”¶é›†åˆ°çš„å…ƒç´ ï¼ˆç”¨ä¾‹ä¹Ÿå¯ä»¥æ£€æŸ¥èƒŒåŒ…æ˜¯å¦ä¸ºç©ºæˆ–è€…è·å–èƒŒåŒ…ä¸­çš„å…ƒç´ æ•°é‡ï¼‰ã€‚</li>
</ul>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Stats</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">        Bag&lt;Double&gt; numbers = <span class="keyword">new</span> Bag&lt;Double&gt;();</span><br><span class="line">        <span class="keyword">while</span>(!StdIn.isEmpty())</span><br><span class="line">            numbers.add(StdIn.readDouble());</span><br><span class="line">        <span class="keyword">int</span> N = numbers.size();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">double</span> sum = <span class="number">0.0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">double</span> x: numbers)&#123;</span><br><span class="line">            sum+=x;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">double</span> mean = sum/N;</span><br><span class="line">        sum = <span class="number">0.0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">double</span> x : numbers)&#123;</span><br><span class="line">            sum += (x-mean)*(x-mean);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">double</span> std = Math.sqrt(sum/(N-<span class="number">1</span>));</span><br><span class="line">        StdOUt.printf(<span class="string">"Mean: %.2f\n"</span>, mean);</span><br><span class="line">        StdOUt.printf(<span class="string">"Std dev: %.2f\n"</span>, std);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>ä¸Šè¿°çš„Statsç±»æ˜¯Bagçš„ä¸€ä¸ªå…¸å‹ç”¨ä¾‹ã€‚å®ƒçš„ä»»åŠ¡æ˜¯ç®€å•çš„è®¡ç®—æ ‡å‡†è¾“å…¥ä¸­çš„æ‰€æœ‰doubleå€¼çš„å¹³å‡å€¼å’Œæ ·æœ¬æ ‡å‡†å·®ã€‚å¦‚æœæ ‡å‡†è¾“å…¥ä¸­æœ‰Nä¸ªæ•°å­—ï¼Œé‚£ä¹ˆå¹³å‡å€¼ä¸ºå®ƒä»¬çš„å’Œé™¤ä»¥Nï¼Œæ ·æœ¬æ ‡å‡†å·®ä¸ºæ¯ä¸ªå€¼å’Œå¹³å‡å€¼åªå·®çš„å¹³æ–¹ä¹‹å’Œé™¤ä»¥N-1ä¹‹åçš„å¹³æ–¹æ ¹ã€‚</li>
<li>åœ¨è¿™äº›è®¡ç®—ä¸­ï¼Œæ•°çš„è®¡ç®—é¡ºåºå’Œç»“æœæ— å…³ï¼Œå› æ­¤æˆ‘ä»¬å°†å®ƒä»¬ä¿å­˜åœ¨ä¸€ä¸ªBagå¯¹è±¡ä¸­å¹¶ä½¿ç”¨foreachè¯­æ³•æ¥è®¡ç®—æ¯ä¸ªå’Œã€‚</li>
<li>**æ³¨æ„:**ä¸éœ€è¦ä¿å­˜æ‰€æœ‰çš„æ•°ä¹Ÿå¯ä»¥è®¡ç®—æ ‡å‡†å·®ï¼ˆå°±åƒæˆ‘ä»¬åœ¨Accumulatorä¸­è®¡ç®—å¹³å‡å€¼é‚£æ ·ï¼‰ã€‚</li>
</ul>
<ol start="5">
<li><strong>å…ˆè¿›å…ˆå‡ºé˜Ÿåˆ—</strong></li>
</ol>
<ul>
<li><em>å…ˆè¿›å…ˆå‡ºé˜Ÿåˆ—</em>ï¼ˆæˆ–ç®€ç§°é˜Ÿåˆ—ï¼‰æ˜¯ä¸€ç§åŸºäº<em>å…ˆè¿›å…ˆå‡º</em>ï¼ˆFIFOï¼‰ç­–ç•¥çš„é›†åˆç±»å‹ã€‚</li>
<li>åœ¨æåˆ°å…¬å¹³æ—¶å¤§å¤šæ•°çƒ­çš„ç¬¬ä¸€ä¸ªæƒ³æ³•å°±æ˜¯åº”è¯¥ä¼˜å…ˆæœåŠ¡ç­‰å¾…æ—¶é—´æœ€ä¹…çš„äººï¼Œè¿™æ­£æ˜¯å…ˆè¿›å…ˆå‡ºç­–ç•¥çš„å‡†åˆ™ã€‚é˜Ÿåˆ—æ˜¯è®¸å¤šæ—¥å¸¸ç°è±¡çš„è‡ªç„¶æ¨¡å‹ï¼Œå®ƒæ˜¯æ— æ•°åº”ç”¨ç¨‹åºçš„æ ¸å¿ƒã€‚</li>
<li>å½“ç”¨ä¾‹ä½¿ç”¨foreachè¯­å¥è¿­ä»£è®¿é—®é˜Ÿåˆ—ä¸­çš„å…ƒç´ æ—¶ï¼Œå…ƒç´ çš„å¤„ç†é¡ºåºå°±æ˜¯å®ƒä»¬è¢«æ·»åŠ åˆ°é˜Ÿåˆ—ä¸­çš„é¡ºåºã€‚</li>
</ul>
<ol start="6">
<li><strong>ä¸‹å‹æ ˆ</strong></li>
</ol>
<ul>
<li>ä¸‹å‹æ ˆï¼ˆæˆ–ç®€ç§°æ ˆï¼‰æ˜¯ä¸€ç§åŸºäºåè¿›å…ˆå‡ºï¼ˆLIFOï¼‰ç­–ç•¥çš„é›†åˆç±»å‹ã€‚</li>
<li>å½“ä½ çš„é‚®ä»¶åœ¨æ¡Œä¸Šæ”¾æˆä¸€å æ—¶ï¼Œä½¿ç”¨çš„å°±æ˜¯æ ˆã€‚</li>
<li>è¿™ç§ç­–ç•¥çš„å¥½å¤„æ˜¯æˆ‘ä»¬èƒ½å¤ŸåŠæ—¶çœ‹åˆ°æ„Ÿå…´è¶£çš„é‚®ä»¶ï¼Œåå¤„æ˜¯å¦‚æœä½ ä¸æŠŠæ ˆæ¸…ç©ºï¼ŒæŸäº›è¾ƒæ—©çš„é‚®ä»¶å¯èƒ½æ°¸è¿œä¸ä¼šè¢«é˜…è¯»ã€‚</li>
<li>å½“ç”¨ä¾‹ä½¿ç”¨foreachè¯­å¥è¿­ä»£éå†æ ˆä¸­çš„å…ƒç´ æ—¶ï¼Œå…ƒç´ å¤„ç†é¡ºåºå’Œå®ƒä»¬è¢«å‹å…¥æ ˆçš„é¡ºåºæ­£å¥½ç›¸åã€‚</li>
<li>åœ¨åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨æ ˆè¿­ä»£å™¨çš„ä¸€ä¸ªå…¸å‹åŸå› æ˜¯åœ¨ç”¨é›†åˆä¿å­˜å…ƒç´ çš„åŒæ—¶é¢ å€’ä»–ä»¬çš„ç›¸å¯¹é¡ºåºã€‚</li>
</ul>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Reserse</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">        Stack&lt;Integer&gt; stack;</span><br><span class="line">        stack = <span class="keyword">new</span> Stack&lt;Integer&gt;();</span><br><span class="line">        <span class="keyword">while</span>(!StdIn.isEmpty())</span><br><span class="line">            stack.push(StdIn.readInt());</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i : stack)</span><br><span class="line">            StdOUt.println(i);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="7">
<li><strong>ç®—æœ¯è¡¨è¾¾å¼æ±‚å€¼</strong></li>
</ol>
<ul>
<li>E.W.Dijkstraåœ¨20ä¸–çºª60å¹´ä»£å‘æ˜äº†ä¸€ä¸ªéå¸¸ç®€å•çš„ç®—æ³•ï¼Œç”¨ä¸¤ä¸ªæ ˆï¼ˆä¸€ä¸ªç”¨äºä¿å­˜è¿ç®—ç¬¦ï¼Œä¸€ä¸ªç”¨äºä¿å­˜æ“ä½œæ•°ï¼‰å®Œæˆäº†è¿™ä¸ªä»»åŠ¡ï¼Œå…¶å®ç°è¿‡ç¨‹å¦‚ä¸‹ï¼š</li>
</ul>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Dijkstraçš„åŒæ ˆç®—æœ¯è¡¨è¾¾å¼æ±‚å€¼ç®—æ³•</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Evaluate</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">        Stack&lt;String&gt; ops = <span class="keyword">new</span> Stack&lt;String&gt;();</span><br><span class="line">        Stack&lt;Double&gt; vals = <span class="keyword">new</span> Stack&lt;Double&gt;();</span><br><span class="line">        <span class="keyword">while</span>(!StdIn.isEmpty())&#123;</span><br><span class="line">            <span class="comment">//è¯»å–å­—ç¬¦ï¼Œå¦‚æœæ˜¯è¿ç®—ç¬¦åˆ™å‹å…¥æ ˆ</span></span><br><span class="line">            String s = StdIn.readString();</span><br><span class="line">            <span class="keyword">if</span>(s.equals(<span class="string">"("</span>));</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(s.equals(<span class="string">"+"</span>))  ops.push(s);</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(s.equals(<span class="string">"-"</span>))  ops.push(s);</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(s.equals(<span class="string">"*"</span>))  ops.push(s);</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(s.equals(<span class="string">"/"</span>))  ops.push(s);</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(s.equals(<span class="string">"sqrt"</span>))   ops.push(s);</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(s.equals(<span class="string">")"</span>))&#123;</span><br><span class="line">                <span class="comment">//å¦‚æœå­—ç¬¦ä¸ºâ€œ)â€ï¼Œå¼¹å‡ºè¿ç®—ç¬¦å’Œæ“ä½œæ•°ï¼Œè®¡ç®—ç»“æœå¹¶å‹å…¥æ ˆ</span></span><br><span class="line">                String op = ops.pop();</span><br><span class="line">                <span class="keyword">double</span> v = vals.pop();</span><br><span class="line">                <span class="keyword">if</span>      (op.equals(<span class="string">"+"</span>))        v = vals.pop() + v;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span> (op.equals(<span class="string">"-"</span>))        v = vals.pop() - v;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span> (op.equals(<span class="string">"*"</span>))        v = vals.pop() * v;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span> (op.equals(<span class="string">"/"</span>))        v = vals.pop() / v;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span> (op.equals(<span class="string">"sqrt"</span>))     v = Math.sqrt(v);</span><br><span class="line">                vals.push(v);</span><br><span class="line">            &#125;   <span class="comment">//å¦‚æœå­—ç¬¦æ—¢éè¿ç®—ç¬¦ä¹Ÿä¸æ˜¯æ‹¬å·ï¼Œå°†å®ƒä½œä¸ºdoubleå€¼å‹å…¥æ ˆ</span></span><br><span class="line">            <span class="keyword">else</span> vals.push(Double.parseDouble(s));</span><br><span class="line">        &#125;</span><br><span class="line">        StdOut.println(vals.pop());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>è¿™æ®µStackçš„ç”¨ä¾‹ä½¿ç”¨äº†ä¸¤ä¸ªæ ˆæ¥è®¡ç®—è¡¨è¾¾å¼çš„å€¼ã€‚å®ƒå±•ç¤ºäº†ä¸€ç§é‡è¦çš„è®¡ç®—æ¨¡å‹ï¼šå°†ä¸€ä¸ªå­—ç¬¦ä¸²è§£é‡Šä¸ºä¸€æ®µç¨‹åºå¹¶æ‰§è¡Œè¯¥ç¨‹åºå¾—åˆ°ç»“æœã€‚æœ‰äº†æ³›å‹ï¼Œæˆ‘ä»¬åªéœ€å®ç°Stackä¸€æ¬¡å³å¯ä½¿ç”¨Stringå€¼çš„æ ˆå’ŒDoubleå€¼çš„æ ˆã€‚</li>
<li>è¡¨è¾¾å¼ç”±æ‹¬å·ã€è¿ç®—ç¬¦å’Œæ“ä½œæ•°ï¼ˆæ•°ç»„ï¼‰ç»„æˆã€‚æˆ‘ä»¬æ ¹æ®ä¸€ä¸‹4ç§æƒ…å†µä»å·¦åˆ°å³é€ä¸ªå°†è¿™äº›å®ä½“é€å…¥æ ˆå¤„ç†ï¼š
<ol>
<li>å°†æ“ä½œæ•°å‹å…¥æ“ä½œæ•°æ ˆï¼›</li>
<li>å°†è¿ç®—ç¬¦å‹å…¥è¿ç®—ç¬¦æ ˆï¼›</li>
<li>å¿½ç•¥å·¦æ‹¬å·ï¼›</li>
<li>åœ¨é‡åˆ°å³æ‹¬å·æ—¶ï¼Œå¼¹å‡ºä¸€ä¸ªè¿ç®—ç¬¦ï¼Œå¼¹å‡ºæ‰€éœ€æ•°é‡çš„æ“ä½œæ•°ï¼Œå¹¶å°†è¿ç®—ç¬¦å’Œæ“ä½œæ•°çš„è¿ç®—ç»“æœå‹å…¥æ“ä½œæ•°æ ˆä¸­ã€‚</li>
</ol>
</li>
</ul>
<hr />
<p>æœªå®Œå¾…ç»­â€¦â€¦</p>
]]></content>
      
        <categories>
            
            <category> æ•°æ®ç»“æ„ </category>
            
        </categories>
        
        
        <tags>
            
            <tag> èƒŒåŒ… </tag>
            
            <tag> é˜Ÿåˆ— </tag>
            
            <tag> æ ˆ </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[MathJaxç›¸å…³]]></title>
      <url>http://tech.noexception.cn/2016/11/05/MathJax%25E7%259B%25B8%25E5%2585%25B3-md/</url>
      <content type="html"><![CDATA[<p>æœ¬ç¯‡è®°å½•äº†ä¸€äº›å’ŒMathJaxç›¸å…³çš„ä¸œè¥¿ï¼Œä»¥åŠæ•°å­¦å…¬å¼ä¹¦å†™çš„è§„åˆ™è¿˜æœ‰ä¸€äº›å¸¸ç”¨çš„å¸Œè…Šå­—æ¯</p>
<a id="more"></a>
<h3 id="å¸Œè…Šå­—æ¯"><a class="markdownIt-Anchor" href="#å¸Œè…Šå­—æ¯"></a> å¸Œè…Šå­—æ¯</h3>
<table>
<thead>
<tr>
<th>å­—æ¯åç§°</th>
<th>å¤§å†™</th>
<th>MarkdownåŸæ–‡</th>
<th>å°å†™</th>
<th>MarkdownåŸæ–‡</th>
</tr>
</thead>
<tbody>
<tr>
<td>alpha</td>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span></span></span></span></td>
<td><code>A</code></td>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Î±</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.0037em;">Î±</span></span></span></span></td>
<td><code>\alpha</code></td>
</tr>
<tr>
<td>beta</td>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span></span></span></span></td>
<td><code>B</code></td>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Î²</mi></mrow><annotation encoding="application/x-tex">\beta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.05278em;">Î²</span></span></span></span></td>
<td><code>\beta</code></td>
</tr>
<tr>
<td>gamma</td>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">Î“</mi></mrow><annotation encoding="application/x-tex">\Gamma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Î“</span></span></span></span></td>
<td><code>\Gamma</code></td>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Î³</mi></mrow><annotation encoding="application/x-tex">\gamma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.05556em;">Î³</span></span></span></span></td>
<td><code>\gamma</code></td>
</tr>
<tr>
<td>delta</td>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">Î”</mi></mrow><annotation encoding="application/x-tex">\Delta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Î”</span></span></span></span></td>
<td><code>\Delta</code></td>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Î´</mi></mrow><annotation encoding="application/x-tex">\delta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03785em;">Î´</span></span></span></span></td>
<td><code>\delta</code></td>
</tr>
<tr>
<td>epsilon</td>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>E</mi></mrow><annotation encoding="application/x-tex">E</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span></span></span></span></td>
<td><code>E</code></td>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Ïµ</mi></mrow><annotation encoding="application/x-tex">\epsilon</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">Ïµ</span></span></span></span></td>
<td><code>\epsilon</code></td>
</tr>
<tr>
<td></td>
<td></td>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Îµ</mi></mrow><annotation encoding="application/x-tex">\varepsilon</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">Îµ</span></span></span></span></td>
<td><code>\varepsilon</code></td>
<td></td>
</tr>
<tr>
<td>zeta</td>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Z</mi></mrow><annotation encoding="application/x-tex">Z</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">Z</span></span></span></span></td>
<td><code>Z</code></td>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Î¶</mi></mrow><annotation encoding="application/x-tex">\zeta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.07378em;">Î¶</span></span></span></span></td>
<td><code>\zeta</code></td>
</tr>
<tr>
<td>eta</td>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>H</mi></mrow><annotation encoding="application/x-tex">H</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span></span></span></span></td>
<td><code>H</code></td>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Î·</mi></mrow><annotation encoding="application/x-tex">\eta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">Î·</span></span></span></span></td>
<td><code>\eta</code></td>
</tr>
<tr>
<td>theta</td>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">Î˜</mi></mrow><annotation encoding="application/x-tex">\Theta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Î˜</span></span></span></span></td>
<td><code>\Theta</code></td>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Î¸</mi></mrow><annotation encoding="application/x-tex">\theta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">Î¸</span></span></span></span></td>
<td><code>\theta</code></td>
</tr>
<tr>
<td>iota</td>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>I</mi></mrow><annotation encoding="application/x-tex">I</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span></span></span></span></td>
<td><code>I</code></td>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Î¹</mi></mrow><annotation encoding="application/x-tex">\iota</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">Î¹</span></span></span></span></td>
<td><code>\iota</code></td>
</tr>
<tr>
<td>kappa</td>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>K</mi></mrow><annotation encoding="application/x-tex">K</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">K</span></span></span></span></td>
<td><code>K</code></td>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Îº</mi></mrow><annotation encoding="application/x-tex">\kappa</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">Îº</span></span></span></span></td>
<td><code>\kappa</code></td>
</tr>
<tr>
<td>lambda</td>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">Î›</mi></mrow><annotation encoding="application/x-tex">\Lambda</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Î›</span></span></span></span></td>
<td><code>\Lambda</code></td>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Î»</mi></mrow><annotation encoding="application/x-tex">\lambda</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">Î»</span></span></span></span></td>
<td><code>\lambda</code></td>
</tr>
<tr>
<td>mu</td>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span></span></span></span></td>
<td><code>M</code></td>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Î¼</mi></mrow><annotation encoding="application/x-tex">\mu</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">Î¼</span></span></span></span></td>
<td><code>\mu</code></td>
</tr>
<tr>
<td>nu</td>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span></td>
<td><code>N</code></td>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Î½</mi></mrow><annotation encoding="application/x-tex">\nu</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.06366em;">Î½</span></span></span></span></td>
<td><code>\nu</code></td>
</tr>
<tr>
<td>xi</td>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">Î</mi></mrow><annotation encoding="application/x-tex">\Xi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Î</span></span></span></span></td>
<td><code>\Xi</code></td>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Î¾</mi></mrow><annotation encoding="application/x-tex">\xi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.04601em;">Î¾</span></span></span></span></td>
<td><code>\xi</code></td>
</tr>
<tr>
<td>omicron</td>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi></mrow><annotation encoding="application/x-tex">O</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span></span></span></span></td>
<td><code>O</code></td>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Î¿</mi></mrow><annotation encoding="application/x-tex">\omicron</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">Î¿</span></span></span></span></td>
<td><code>\omicron</code></td>
</tr>
<tr>
<td>pi</td>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">Î </mi></mrow><annotation encoding="application/x-tex">\Pi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Î </span></span></span></span></td>
<td><code>\Pi</code></td>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Ï€</mi></mrow><annotation encoding="application/x-tex">\pi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">Ï€</span></span></span></span></td>
<td><code>\pi</code></td>
</tr>
<tr>
<td>rho</td>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>P</mi></mrow><annotation encoding="application/x-tex">P</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span></span></span></span></td>
<td><code>P</code></td>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Ï</mi></mrow><annotation encoding="application/x-tex">\rho</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">Ï</span></span></span></span></td>
<td><code>\rho</code></td>
</tr>
<tr>
<td>sigma</td>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">Î£</mi></mrow><annotation encoding="application/x-tex">\Sigma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Î£</span></span></span></span></td>
<td><code>\Sigma</code></td>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Ïƒ</mi></mrow><annotation encoding="application/x-tex">\sigma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span></span></span></span></td>
<td><code>\sigma</code></td>
</tr>
<tr>
<td>tau</td>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>T</mi></mrow><annotation encoding="application/x-tex">T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span></span></span></span></td>
<td><code>T</code></td>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Ï„</mi></mrow><annotation encoding="application/x-tex">\tau</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.1132em;">Ï„</span></span></span></span></td>
<td><code>\tau</code></td>
</tr>
<tr>
<td>upsilon</td>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">Î¥</mi></mrow><annotation encoding="application/x-tex">\Upsilon</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Î¥</span></span></span></span></td>
<td><code>\Upsilon</code></td>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Ï…</mi></mrow><annotation encoding="application/x-tex">\upsilon</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">Ï…</span></span></span></span></td>
<td><code>\upsilon</code></td>
</tr>
<tr>
<td>phi</td>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">Î¦</mi></mrow><annotation encoding="application/x-tex">\Phi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Î¦</span></span></span></span></td>
<td><code>\Phi</code></td>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Ï•</mi></mrow><annotation encoding="application/x-tex">\phi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">Ï•</span></span></span></span></td>
<td><code>\phi</code></td>
</tr>
<tr>
<td></td>
<td></td>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Ï†</mi></mrow><annotation encoding="application/x-tex">\varphi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">Ï†</span></span></span></span></td>
<td><code>\varphi</code></td>
<td></td>
</tr>
<tr>
<td>chi</td>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span></span></td>
<td><code>X</code></td>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Ï‡</mi></mrow><annotation encoding="application/x-tex">\chi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">Ï‡</span></span></span></span></td>
<td><code>\chi</code></td>
</tr>
<tr>
<td>psi</td>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">Î¨</mi></mrow><annotation encoding="application/x-tex">\Psi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Î¨</span></span></span></span></td>
<td><code>\Psi</code></td>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Ïˆ</mi></mrow><annotation encoding="application/x-tex">\psi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">Ïˆ</span></span></span></span></td>
<td><code>\psi</code></td>
</tr>
<tr>
<td>omega</td>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">Î©</mi></mrow><annotation encoding="application/x-tex">\Omega</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Î©</span></span></span></span></td>
<td><code>\Omega</code></td>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Ï‰</mi></mrow><annotation encoding="application/x-tex">\omega</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">Ï‰</span></span></span></span></td>
<td><code>\omega</code></td>
</tr>
</tbody>
</table>
<h3 id="æ‹¬å·"><a class="markdownIt-Anchor" href="#æ‹¬å·"></a> æ‹¬å·</h3>
<ul>
<li>å°æ‹¬å·ä¸ä¸­æ‹¬å·å¯ä»¥ç›´æ¥ä½¿ç”¨</li>
</ul>
<table>
<thead>
<tr>
<th>ç¬¦å·</th>
<th>MarkdownåŸæ–‡</th>
</tr>
</thead>
<tbody>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">{</mo></mrow><annotation encoding="application/x-tex">\lbrace</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span></span></span></span></td>
<td><code>\lbrace</code></td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\rbrace</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mclose">}</span></span></span></span></td>
<td><code>\rbrace</code></td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">âŸ¨</mo></mrow><annotation encoding="application/x-tex">\langle</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">âŸ¨</span></span></span></span></td>
<td><code>\langle</code></td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">âŸ©</mo></mrow><annotation encoding="application/x-tex">\rangle</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mclose">âŸ©</span></span></span></span></td>
<td><code>\rangle</code></td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">âŒˆ</mo></mrow><annotation encoding="application/x-tex">\lceil</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">âŒˆ</span></span></span></span></td>
<td><code>\lceil</code></td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">âŒ‰</mo></mrow><annotation encoding="application/x-tex">\rceil</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mclose">âŒ‰</span></span></span></span></td>
<td><code>\rceil</code></td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">âŒŠ</mo></mrow><annotation encoding="application/x-tex">\lfloor</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">âŒŠ</span></span></span></span></td>
<td><code>\lfloor</code></td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">âŒ‹</mo></mrow><annotation encoding="application/x-tex">\rfloor</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mclose">âŒ‹</span></span></span></span></td>
<td><code>\rfloor</code></td>
</tr>
</tbody>
</table>
<h3 id="mathjaxå…¬å¼ç¼–è¾‘"><a class="markdownIt-Anchor" href="#mathjaxå…¬å¼ç¼–è¾‘"></a> MathJaxå…¬å¼ç¼–è¾‘</h3>
<ol>
<li><strong>è¡Œå†…å…¬å¼</strong>ï¼šè¡Œå†…å…¬å¼å¯ä»¥ä¸å…¶ä»–å†…å®¹æ˜¾ç¤ºåœ¨åŒä¸€è¡Œ</li>
</ol>
<pre><code>- ç”¨æ³•ï¼šç”¨ä¸¤ä¸ªç¾å…ƒç¬¦$åŒ…è£¹ä½å…¬å¼å³å¯ã€‚
- $f(x)=ax+b$
</code></pre>
<ol start="2">
<li><strong>è¡Œé—´å…¬å¼</strong>ï¼šè¡Œé—´å…¬å¼ä¼šå æ®å•ç‹¬çš„è¡Œã€‚</li>
</ol>
<pre><code>- ç”¨æ³•ï¼šå…¬å¼å‰åå„æ·»åŠ ä¸¤ä¸ªç¾å…ƒç¬¦
$$
f(x)=ax+b
$$
</code></pre>
<ol start="3">
<li><strong>å‡ ä¸ªç‰¹æ®Šç¬¦å·</strong></li>
</ol>
<pre><code>- **^è¡¨ç¤ºä¸Šæ ‡**
  - `$a^2$`
  - $a^2$
- **\_è¡¨ç¤ºä¸‹æ ‡**
  - ç”±äºmarkdownä¸MathJaxçš„æ¸²æŸ“æœ‰å†²çªï¼Œä¸‹åˆ’çº¿å¿…é¡»ä½¿ç”¨åæ–œæ è½¬ä¹‰
  - `$a\_2$`
  - $a\_2$
- **{}ç”¨äºåˆ†ç»„**
  - ä¸¾ä¸ªä¾‹å­ï¼Œaçš„bä¹˜cæ¬¡æ–¹ï¼Œéœ€è¦å¯¹bcè¿›è¡Œåˆ†ç»„ï¼Œå¦åˆ™å°±å˜æˆäº†açš„bæ¬¡æ–¹ä¹˜cã€‚
  - `$a^{bc}$`
  - $a^{bc}$
- **å…¬å¼æ¨å€’è¿‡ç¨‹**
  - æœ‰æ—¶ä¸€è¡Œæ”¾ä¸ä¸‹æ‰€æœ‰çš„æ¨å¯¼è¿‡ç¨‹ï¼Œæ”¾åˆ°å¤šè¡Œå¹¶ä½¿å¾—æ¯è¡Œçš„ç­‰å·å¯¹é½å¯ä»¥å¤§å¤§å¢åŠ å¯è¯»æ€§ã€‚
  - ä¸‹é¢è¿™ä¸ªä¾‹å­åŸå§‹å½¢å¼æ˜¯Aï¼Œç„¶åç»è¿‡ä¸‰æ­¥æ¨å¯¼æœ€ç»ˆå¾—åˆ°äº†Dã€‚
  - ä»¥ç¬¦å· &amp; çš„ä¸‹ä¸€ä¸ªå­—ç¬¦è¿›è¡Œå¯¹é½ï¼Œæœ«å°¾çš„ä¸‰ä¸ªåæ–œæ \ç”¨æ¥åˆ†å‰²è¡Œã€‚
  $$
  \begin {aligned}
  A&amp;=B \\\
  &amp;=C\\\
  &amp;=D
  \end {aligned}
  $$
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$$</span><br><span class="line">\begin &#123;aligned&#125;</span><br><span class="line">A&amp;&#x3D;B \\\</span><br><span class="line">&amp;&#x3D;C\\\</span><br><span class="line">&amp;&#x3D;D</span><br><span class="line">\end &#123;aligned&#125;</span><br><span class="line">$$</span><br></pre></td></tr></table></figure>
</code></pre>
<ol start="4">
<li><strong>åˆ†æ®µå‡½æ•°</strong></li>
</ol>
<pre><code>- ä»¥ç¬¦å· &amp; çš„ä¸‹ä¸€ä¸ªå­—ç¬¦è¿›è¡Œå¯¹é½ï¼Œæœ«å°¾çš„ä¸‰ä¸ªåæ–œæ \ç”¨æ¥åˆ†å‰²è¡Œã€‚
$$
sign(x)=\begin {cases}
+1, &amp; x\geq0 \\\
-1, &amp; x&lt;0
\end {cases}
$$
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$$</span><br><span class="line">sign(x)&#x3D;\begin &#123;cases&#125;</span><br><span class="line">+1, &amp; x\geq0 \\\</span><br><span class="line">-1, &amp; x\&lt;0</span><br><span class="line">\end &#123;cases&#125;</span><br><span class="line">$$</span><br></pre></td></tr></table></figure>
</code></pre>
<ol start="5">
<li><strong>åˆ†æ•°è¡¨ç¤º</strong></li>
</ol>
<pre><code>- ç”¨æ³•ï¼š\fracåé¢çš„ä¸¤ä¸ªåˆ†ç»„åˆ†åˆ«ä½œä¸ºåˆ†å­å’Œåˆ†æ¯ã€‚
- $\frac{1}{6}$
- `$\frac{1}{6}$`
</code></pre>
<h3 id="mathjaxç”¨æ³•åŠä¾‹å­"><a class="markdownIt-Anchor" href="#mathjaxç”¨æ³•åŠä¾‹å­"></a> MathJaxç”¨æ³•åŠä¾‹å­</h3>
<ol>
<li><strong>è¾“å…¥å¼€æ–¹</strong></li>
</ol>
<pre><code>- \sqrt{2} å’Œ \sqrt{3}
- $\sqrt{2}$ å’Œ $\sqrt{3}$
</code></pre>
<ol start="2">
<li><strong>è¾“å…¥çœç•¥å·</strong></li>
</ol>
<pre><code>- æ•°å­¦å…¬å¼ä¸­å¸¸è§çš„çœç•¥å·æœ‰ä¸¤ç§ï¼Œ\ldotsè¡¨ç¤ºä¸æ–‡æœ¬åº•çº¿å¯¹é½çš„çœç•¥å·ï¼Œ\cdotsè¡¨ç¤ºä¸æ–‡æœ¬ä¸­çº¿å¯¹é½çš„çœç•¥å·ã€‚
- f(x1,x2,\ldots,xn) = x1^2 + x2^2 + \cdots + xn^2
- $f(x1,x2,\ldots,xn) = x1^2 + x2^2 + \cdots + xn^2$
</code></pre>
<ol start="3">
<li><strong>è¾“å…¥çŸ¢é‡</strong></li>
</ol>
<pre><code>- \vec{a} \cdot \vec{b}=0
- $\vec{a} \cdot \vec{b}=0$
</code></pre>
<ol start="4">
<li><strong>è¾“å…¥ç§¯åˆ†</strong></li>
</ol>
<pre><code>- \int_0^1 x^2 {\rm d}x
- $\int_0^1 x^2 {\rm d}x$
</code></pre>
<ol start="5">
<li><strong>æé™è¿ç®—</strong></li>
</ol>
<pre><code>- \lim_{n \rightarrow +\infty} \frac{1}{n(n+1)}
- $\lim_{n \rightarrow +\infty} \frac{1}{n(n+1)}$
</code></pre>
<ol start="6">
<li><strong>ç´¯åŠ ã€ç´¯ä¹˜è¿ç®—</strong></li>
</ol>
<pre><code>- \sum{i=0}^n \frac{1}{i^2}ã€€å’Œã€€\prod{i=0}^n \frac{1}{i^2}
- $\sum{i=0}^n \frac{1}{i^2}ã€€å’Œã€€\prod{i=0}^n \frac{1}{i^2}$
</code></pre>
<ol start="7">
<li><strong>å…¶ä»–ç‰¹æ®Šå­—ç¬¦</strong></li>
</ol>
<ul>
<li>å…³ç³»è¿ç®—ç¬¦ï¼š</li>
</ul>
<table>
<thead>
<tr>
<th>ç¬¦å·</th>
<th>è¡¨è¾¾å¼</th>
</tr>
</thead>
<tbody>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>Â±</mo></mrow><annotation encoding="application/x-tex">\pm</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord">Â±</span></span></span></span></td>
<td>\pm</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>Ã—</mo></mrow><annotation encoding="application/x-tex">\times</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord">Ã—</span></span></span></span></td>
<td>\times</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>Ã·</mo></mrow><annotation encoding="application/x-tex">\div</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord">Ã·</span></span></span></span></td>
<td>\div</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>âˆ£</mo></mrow><annotation encoding="application/x-tex">\mid</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mrel">âˆ£</span></span></span></span></td>
<td>\mid</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>âˆ¤</mo></mrow><annotation encoding="application/x-tex">\nmid</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.99253em;vertical-align:-0.25142em;"></span><span class="mrel amsrm">âˆ¤</span></span></span></span></td>
<td>\nmid</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>â‹…</mo></mrow><annotation encoding="application/x-tex">\cdot</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.44445em;vertical-align:0em;"></span><span class="mord">â‹…</span></span></span></span></td>
<td>\cdot</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>âˆ˜</mo></mrow><annotation encoding="application/x-tex">\circ</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.44445em;vertical-align:0em;"></span><span class="mord">âˆ˜</span></span></span></span></td>
<td>\circ</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>âˆ—</mo></mrow><annotation encoding="application/x-tex">\ast</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.46528em;vertical-align:0em;"></span><span class="mord">âˆ—</span></span></span></span></td>
<td>\ast</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>â¨€</mo></mrow><annotation encoding="application/x-tex">\bigodot</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.00001em;vertical-align:-0.25001em;"></span><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">â¨€</span></span></span></span></td>
<td>\bigodot</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>â¨‚</mo></mrow><annotation encoding="application/x-tex">\bigotimes</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.00001em;vertical-align:-0.25001em;"></span><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">â¨‚</span></span></span></span></td>
<td>\bigotimes</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>â¨</mo></mrow><annotation encoding="application/x-tex">\bigoplus</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.00001em;vertical-align:-0.25001em;"></span><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">â¨</span></span></span></span></td>
<td>\bigoplus</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>â‰¤</mo></mrow><annotation encoding="application/x-tex">\leq</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mrel">â‰¤</span></span></span></span></td>
<td>\leq</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>â‰¥</mo></mrow><annotation encoding="application/x-tex">\geq</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mrel">â‰¥</span></span></span></span></td>
<td>\geq</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">â‰ </mi></mrow><annotation encoding="application/x-tex">\neq</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mrel"><span class="mrel"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="rlap"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="inner"><span class="mrel">î€ </span></span><span class="fix"></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.19444em;"><span></span></span></span></span></span></span><span class="mrel">=</span></span></span></span></span></td>
<td>\neq</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>â‰ˆ</mo></mrow><annotation encoding="application/x-tex">\approx</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.48312em;vertical-align:0em;"></span><span class="mrel">â‰ˆ</span></span></span></span></td>
<td>\approx</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>â‰¡</mo></mrow><annotation encoding="application/x-tex">\equiv</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.46375em;vertical-align:0em;"></span><span class="mrel">â‰¡</span></span></span></span></td>
<td>\equiv</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>âˆ‘</mo></mrow><annotation encoding="application/x-tex">\sum</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.00001em;vertical-align:-0.25001em;"></span><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">âˆ‘</span></span></span></span></td>
<td>\sum</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>âˆ</mo></mrow><annotation encoding="application/x-tex">\prod</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.00001em;vertical-align:-0.25001em;"></span><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">âˆ</span></span></span></span></td>
<td>\prod</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>c</mi><mi>o</mi><mi>p</mi><mi>r</mi><mi>o</mi><mi>d</mi></mrow><annotation encoding="application/x-tex">coprod</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">c</span><span class="mord mathdefault">o</span><span class="mord mathdefault">p</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">o</span><span class="mord mathdefault">d</span></span></span></span></td>
<td>\coprod</td>
</tr>
</tbody>
</table>
<ul>
<li>é›†åˆè¿ç®—ç¬¦ï¼š</li>
</ul>
<table>
<thead>
<tr>
<th>ç¬¦å·</th>
<th>è¡¨è¾¾å¼</th>
</tr>
</thead>
<tbody>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>âˆˆ</mo></mrow><annotation encoding="application/x-tex">\in</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mrel">âˆˆ</span></span></span></span></td>
<td>\in</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">âˆ‰</mi></mrow><annotation encoding="application/x-tex">\notin</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mrel"><span class="mord"><span class="mrel">âˆˆ</span></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="llap"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="inner"><span class="mord"><span class="mord">/</span><span class="mspace" style="margin-right:0.05555555555555555em;"></span></span></span><span class="fix"></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.25em;"><span></span></span></span></span></span></span></span></span></span></td>
<td>\notin</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>âŠ‚</mo></mrow><annotation encoding="application/x-tex">\subset</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mrel">âŠ‚</span></span></span></span></td>
<td>\subset</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>âŠ†</mo></mrow><annotation encoding="application/x-tex">\subseteq</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mrel">âŠ†</span></span></span></span></td>
<td>\subseteq</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>âŠ‡</mo></mrow><annotation encoding="application/x-tex">\supseteq</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mrel">âŠ‡</span></span></span></span></td>
<td>\supseteq</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>â‹‚</mo></mrow><annotation encoding="application/x-tex">\bigcap</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.00001em;vertical-align:-0.25001em;"></span><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">â‹‚</span></span></span></span></td>
<td>\bigcap</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>â‹ƒ</mo></mrow><annotation encoding="application/x-tex">\bigcup</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.00001em;vertical-align:-0.25001em;"></span><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">â‹ƒ</span></span></span></span></td>
<td>\bigcup</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>â‹</mo></mrow><annotation encoding="application/x-tex">\bigvee</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.00001em;vertical-align:-0.25001em;"></span><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">â‹</span></span></span></span></td>
<td>\bigvee</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>â‹€</mo></mrow><annotation encoding="application/x-tex">\bigwedge</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.00001em;vertical-align:-0.25001em;"></span><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">â‹€</span></span></span></span></td>
<td>\bigwedge</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>â¨„</mo></mrow><annotation encoding="application/x-tex">\biguplus</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.00001em;vertical-align:-0.25001em;"></span><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">â¨„</span></span></span></span></td>
<td>\biguplus</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>â¨†</mo></mrow><annotation encoding="application/x-tex">\bigsqcup</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.00001em;vertical-align:-0.25001em;"></span><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">â¨†</span></span></span></span></td>
<td>\bigsqcup</td>
</tr>
</tbody>
</table>
<ul>
<li>å¯¹æ•°è¿ç®—ç¬¦ï¼š</li>
</ul>
<table>
<thead>
<tr>
<th>ç¬¦å·</th>
<th>è¡¨è¾¾å¼</th>
</tr>
</thead>
<tbody>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>log</mi><mo>â¡</mo></mrow><annotation encoding="application/x-tex">\log</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span></span></span></span></td>
<td>\log</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>lg</mi><mo>â¡</mo></mrow><annotation encoding="application/x-tex">\lg</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mop">l<span style="margin-right:0.01389em;">g</span></span></span></span></span></td>
<td>\lg</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>ln</mi><mo>â¡</mo></mrow><annotation encoding="application/x-tex">\ln</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mop">ln</span></span></span></span></td>
<td>\ln</td>
</tr>
</tbody>
</table>
<ul>
<li>ä¸‰è§’å‡½æ•°è¿ç®—ç¬¦ï¼š</li>
</ul>
<table>
<thead>
<tr>
<th>ç¬¦å·</th>
<th>è¡¨è¾¾å¼</th>
</tr>
</thead>
<tbody>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">âŠ¥</mi></mrow><annotation encoding="application/x-tex">\bot</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord">âŠ¥</span></span></span></span></td>
<td>\bot</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">âˆ </mi></mrow><annotation encoding="application/x-tex">\angle</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69224em;vertical-align:0em;"></span><span class="mord">âˆ </span></span></span></span></td>
<td>\angle</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>3</mn><msup><mn>0</mn><mo>âˆ˜</mo></msup></mrow><annotation encoding="application/x-tex">30^\circ</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.674115em;vertical-align:0em;"></span><span class="mord">3</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.674115em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">âˆ˜</span></span></span></span></span></span></span></span></span></span></span></td>
<td>30^\circ</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>sin</mi><mo>â¡</mo></mrow><annotation encoding="application/x-tex">\sin</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66786em;vertical-align:0em;"></span><span class="mop">sin</span></span></span></span></td>
<td>\sin</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>cos</mi><mo>â¡</mo></mrow><annotation encoding="application/x-tex">\cos</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mop">cos</span></span></span></span></td>
<td>\cos</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>tan</mi><mo>â¡</mo></mrow><annotation encoding="application/x-tex">\tan</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.61508em;vertical-align:0em;"></span><span class="mop">tan</span></span></span></span></td>
<td>\tan</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>cot</mi><mo>â¡</mo></mrow><annotation encoding="application/x-tex">\cot</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.61508em;vertical-align:0em;"></span><span class="mop">cot</span></span></span></span></td>
<td>\cot</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>sec</mi><mo>â¡</mo></mrow><annotation encoding="application/x-tex">\sec</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mop">sec</span></span></span></span></td>
<td>\sec</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>csc</mi><mo>â¡</mo></mrow><annotation encoding="application/x-tex">\csc</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mop">csc</span></span></span></span></td>
<td>\csc</td>
</tr>
</tbody>
</table>
<ul>
<li>å¾®ç§¯åˆ†è¿ç®—ç¬¦ï¼š</li>
</ul>
<table>
<thead>
<tr>
<th>ç¬¦å·</th>
<th>è¡¨è¾¾å¼</th>
</tr>
</thead>
<tbody>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo mathvariant="normal">â€²</mo></mrow><annotation encoding="application/x-tex">\prime</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.55556em;vertical-align:0em;"></span><span class="mord">â€²</span></span></span></span></td>
<td>\prime</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>âˆ«</mo></mrow><annotation encoding="application/x-tex">\int</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.11112em;vertical-align:-0.30612em;"></span><span class="mop op-symbol small-op" style="margin-right:0.19445em;position:relative;top:-0.0005599999999999772em;">âˆ«</span></span></span></span></td>
<td>\int</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>âˆ¬</mo></mrow><annotation encoding="application/x-tex">\iint</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.111em;vertical-align:-0.306em;"></span><span class="mop op-symbol small-op" style="margin-right:0.19445em;position:relative;top:-0.0004999999999999727em;">âˆ¬</span></span></span></span></td>
<td>\iint</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>âˆ­</mo></mrow><annotation encoding="application/x-tex">\iiint</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.111em;vertical-align:-0.306em;"></span><span class="mop op-symbol small-op" style="margin-right:0.19445em;position:relative;top:-0.0004999999999999727em;">âˆ­</span></span></span></span></td>
<td>\iiint</td>
</tr>
<tr>
<td><span class='katex-error' title='ParseError: KaTeX parse error: Undefined control sequence: \iiiint at position 1: \Ì²iÌ²iÌ²iÌ²iÌ²nÌ²tÌ²'>\iiiint</span></td>
<td>\iiiint</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>âˆ®</mo></mrow><annotation encoding="application/x-tex">\oint</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.11112em;vertical-align:-0.30612em;"></span><span class="mop op-symbol small-op" style="margin-right:0.19445em;position:relative;top:-0.0005599999999999772em;">âˆ®</span></span></span></span></td>
<td>\oint</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>lim</mi><mo>â¡</mo></mrow><annotation encoding="application/x-tex">\lim</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mop">lim</span></span></span></span></td>
<td>\lim</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>lim</mi><mo>â¡</mo></mrow><annotation encoding="application/x-tex">\lim</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mop">lim</span></span></span></span></td>
<td>\lim</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">âˆ</mi></mrow><annotation encoding="application/x-tex">\infty</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord">âˆ</span></span></span></span></td>
<td>\infty</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">âˆ‡</mi></mrow><annotation encoding="application/x-tex">\nabla</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">âˆ‡</span></span></span></span></td>
<td>\nabla</td>
</tr>
</tbody>
</table>
<ul>
<li>é€»è¾‘è¿ç®—ç¬¦</li>
</ul>
<table>
<thead>
<tr>
<th>ç¬¦å·</th>
<th>è¡¨è¾¾å¼</th>
</tr>
</thead>
<tbody>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>âˆµ</mo></mrow><annotation encoding="application/x-tex">\because</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69224em;vertical-align:0em;"></span><span class="mrel amsrm">âˆµ</span></span></span></span></td>
<td>\because</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>âˆ´</mo></mrow><annotation encoding="application/x-tex">\therefore</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69224em;vertical-align:0em;"></span><span class="mrel amsrm">âˆ´</span></span></span></span></td>
<td>\therefore</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">âˆ€</mi></mrow><annotation encoding="application/x-tex">\forall</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord">âˆ€</span></span></span></span></td>
<td>\forall</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">âˆƒ</mi></mrow><annotation encoding="application/x-tex">\exists</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord">âˆƒ</span></span></span></span></td>
<td>\exists</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>=Ì¸</mo></mrow><annotation encoding="application/x-tex">\not=</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mrel"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="rlap"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="inner"><span class="mrel">î€ </span></span><span class="fix"></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.19444em;"><span></span></span></span></span></span></span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span></span></span></span></td>
<td>\not=</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>âŠ‚Ì¸</mo></mrow><annotation encoding="application/x-tex">\not\subset</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mrel"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="rlap"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="inner"><span class="mrel">î€ </span></span><span class="fix"></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.19444em;"><span></span></span></span></span></span></span></span><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mrel">âŠ‚</span></span></span></span></td>
<td>\not\subset</td>
</tr>
</tbody>
</table>
<ul>
<li>æˆ´å¸½ç¬¦å·</li>
</ul>
<table>
<thead>
<tr>
<th>ç¬¦å·</th>
<th>è¡¨è¾¾å¼</th>
</tr>
</thead>
<tbody>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><mi>y</mi><mo>^</mo></mover></mrow><annotation encoding="application/x-tex">\hat{y}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.19444em;">^</span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.19444em;"><span></span></span></span></span></span></span></span></span></td>
<td>\hat{y}</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><mi>y</mi><mo>Ë‡</mo></mover></mrow><annotation encoding="application/x-tex">\check{y}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.82291em;vertical-align:-0.19444em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.62847em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.19444em;">Ë‡</span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.19444em;"><span></span></span></span></span></span></span></span></span></td>
<td>\check{y}</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><mi>y</mi><mo>Ë˜</mo></mover></mrow><annotation encoding="application/x-tex">\breve{y}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.19444em;">Ë˜</span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.19444em;"><span></span></span></span></span></span></span></span></span></td>
<td>\breve{y}</td>
</tr>
</tbody>
</table>
<ul>
<li>è¿çº¿ç¬¦å·</li>
</ul>
<table>
<thead>
<tr>
<th>ç¬¦å·</th>
<th>è¡¨è¾¾å¼</th>
</tr>
</thead>
<tbody>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><mrow><mi>a</mi><mo>+</mo><mi>b</mi><mo>+</mo><mi>c</mi><mo>+</mo><mi>d</mi></mrow><mo stretchy="true">â€¾</mo></mover></mrow><annotation encoding="application/x-tex">\overline{a+b+c+d}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.97777em;vertical-align:-0.08333em;"></span><span class="mord overline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.89444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">b</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">c</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">d</span></span></span><span style="top:-3.81444em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.08333em;"><span></span></span></span></span></span></span></span></span></td>
<td>\overline{a+b+c+d}</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><munder accentunder="true"><mrow><mi>a</mi><mo>+</mo><mi>b</mi><mo>+</mo><mi>c</mi><mo>+</mo><mi>d</mi></mrow><mo stretchy="true">â€¾</mo></munder></mrow><annotation encoding="application/x-tex">\underline{a+b+c+d}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.97777em;vertical-align:-0.2833300000000001em;"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-2.7566699999999997em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">b</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">c</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">d</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2833300000000001em;"><span></span></span></span></span></span></span></span></span></td>
<td>\underline{a+b+c+d}</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover><mover><mrow><mi>a</mi><mo>+</mo><munder><mrow><mi>b</mi><mo>+</mo><mi>c</mi></mrow><mo stretchy="true">âŸ</mo></munder><mn>1.0</mn><mo>+</mo><mi>d</mi></mrow><mo stretchy="true">â</mo></mover><mn>2.0</mn></mover></mrow><annotation encoding="application/x-tex">\overbrace{a+\underbrace{b+c}{1.0}+d}^{2.0}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.7248779999999995em;vertical-align:-0.73133em;"></span><span class="mord mover"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.9935479999999997em;"><span style="top:-3.34244em;"><span class="pstrut" style="height:3.34244em;"></span><span class="mord mover"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3424399999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord munder"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span class="svg-align" style="top:-2.26867em;"><span class="pstrut" style="height:3em;"></span><span class="stretchy" style="height:0.548em;min-width:1.6em;"><span class="brace-left" style="height:0.548em;"><svg width='400em' height='0.548em' viewBox='0 0 400000 548' preserveAspectRatio='xMinYMin slice'><path d='M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z'/></svg></span><span class="brace-center" style="height:0.548em;"><svg width='400em' height='0.548em' viewBox='0 0 400000 548' preserveAspectRatio='xMidYMin slice'><path d='M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z'/></svg></span><span class="brace-right" style="height:0.548em;"><svg width='400em' height='0.548em' viewBox='0 0 400000 548' preserveAspectRatio='xMaxYMin slice'><path d='M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z'/></svg></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">b</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">c</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.73133em;"><span></span></span></span></span></span><span class="mord"><span class="mord">1</span><span class="mord">.</span><span class="mord">0</span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">d</span></span></span><span class="svg-align" style="top:-3.79444em;"><span class="pstrut" style="height:3em;"></span><span class="stretchy" style="height:0.548em;min-width:1.6em;"><span class="brace-left" style="height:0.548em;"><svg width='400em' height='0.548em' viewBox='0 0 400000 548' preserveAspectRatio='xMinYMin slice'><path d='M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z'/></svg></span><span class="brace-center" style="height:0.548em;"><svg width='400em' height='0.548em' viewBox='0 0 400000 548' preserveAspectRatio='xMidYMin slice'><path d='M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z'/></svg></span><span class="brace-right" style="height:0.548em;"><svg width='400em' height='0.548em' viewBox='0 0 400000 548' preserveAspectRatio='xMaxYMin slice'><path d='M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z'/></svg></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.73133em;"><span></span></span></span></span></span></span><span style="top:-4.884879999999999em;"><span class="pstrut" style="height:3.34244em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mtight">.</span><span class="mord mtight">0</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.73133em;"><span></span></span></span></span></span></span></span></span></td>
<td>\overbrace{a+\underbrace{b+c}{1.0}+d}^{2.0}</td>
</tr>
</tbody>
</table>
<ul>
<li>ç®­å¤´ç¬¦å·ï¼š</li>
</ul>
<table>
<thead>
<tr>
<th>ç¬¦å·</th>
<th>è¡¨è¾¾å¼</th>
</tr>
</thead>
<tbody>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>â†‘</mo></mrow><annotation encoding="application/x-tex">\uparrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mrel">â†‘</span></span></span></span></td>
<td>\uparrow</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>â†“</mo></mrow><annotation encoding="application/x-tex">\downarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mrel">â†“</span></span></span></span></td>
<td>\downarrow</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>â‡‘</mo></mrow><annotation encoding="application/x-tex">\Uparrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mrel">â‡‘</span></span></span></span></td>
<td>\Uparrow</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>â‡“</mo></mrow><annotation encoding="application/x-tex">\Downarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mrel">â‡“</span></span></span></span></td>
<td>\Downarrow</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>â†’</mo></mrow><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">â†’</span></span></span></span></td>
<td>\rightarrow</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>â†</mo></mrow><annotation encoding="application/x-tex">\leftarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">â†</span></span></span></span></td>
<td>\leftarrow</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>â‡’</mo></mrow><annotation encoding="application/x-tex">\Rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">â‡’</span></span></span></span></td>
<td>\Rightarrow</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>â‡</mo></mrow><annotation encoding="application/x-tex">\Leftarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">â‡</span></span></span></span></td>
<td>\Leftarrow</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>âŸ¶</mo></mrow><annotation encoding="application/x-tex">\longrightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.522em;vertical-align:-0.011em;"></span><span class="mrel">âŸ¶</span></span></span></span></td>
<td>\longrightarrow</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>âŸµ</mo></mrow><annotation encoding="application/x-tex">\longleftarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.522em;vertical-align:-0.011em;"></span><span class="mrel">âŸµ</span></span></span></span></td>
<td>\longleftarrow</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>âŸ¹</mo></mrow><annotation encoding="application/x-tex">\Longrightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.549em;vertical-align:-0.024em;"></span><span class="mrel">âŸ¹</span></span></span></span></td>
<td>\Longrightarrow</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>âŸ¸</mo></mrow><annotation encoding="application/x-tex">\Longleftarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.549em;vertical-align:-0.024em;"></span><span class="mrel">âŸ¸</span></span></span></span></td>
<td>\Longleftarrow</td>
</tr>
</tbody>
</table>
<ul>
<li>
<p>è¦è¾“å‡ºå­—ç¬¦ã€€ç©ºæ ¼ã€€#ã€€$ã€€%ã€€&amp;ã€€_ã€€{ã€€}ã€€ï¼Œç”¨å‘½ä»¤ï¼šã€€\ç©ºæ ¼ã€€#ã€€$ã€€%ã€€&amp;ã€€_ã€€{ã€€}</p>
</li>
<li>
<p>è¦å¯¹å…¬å¼çš„æŸä¸€éƒ¨åˆ†å­—ç¬¦è¿›è¡Œå­—ä½“è½¬æ¢ï¼Œå¯ä»¥ç”¨{\rm éœ€è½¬æ¢çš„éƒ¨åˆ†å­—ç¬¦}å‘½ä»¤ï¼Œå…¶ä¸­\rmå¯ä»¥å‚ç…§ä¸‹è¡¨é€‰æ‹©åˆé€‚çš„å­—ä½“ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå…¬å¼é»˜è®¤ä¸ºæ„å¤§åˆ©ä½“ã€‚</p>
</li>
</ul>
<table>
<thead>
<tr>
<th>ç¬¦å·</th>
<th>æ„ä¹‰</th>
</tr>
</thead>
<tbody>
<tr>
<td>\rm</td>
<td>ç½—é©¬ä½“</td>
</tr>
<tr>
<td>\it</td>
<td>æ„å¤§åˆ©ä½“</td>
</tr>
<tr>
<td>\bf</td>
<td>é»‘ä½“</td>
</tr>
<tr>
<td>\cal</td>
<td>èŠ±ä½“</td>
</tr>
<tr>
<td>\sl</td>
<td>å€¾æ–œä½“</td>
</tr>
<tr>
<td>\sf</td>
<td>ç­‰çº¿ä½“</td>
</tr>
<tr>
<td>\mit</td>
<td>æ•°å­¦æ–œä½“</td>
</tr>
<tr>
<td>\tt</td>
<td>æ‰“å­—æœºå­—ä½“</td>
</tr>
<tr>
<td>\sc</td>
<td>å°ä½“å¤§å†™å­—æ¯</td>
</tr>
</tbody>
</table>
]]></content>
      
        <categories>
            
            <category> æ•°å­¦ </category>
            
        </categories>
        
        
        <tags>
            
            <tag> MathJax </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[C++è¯»ä¹¦ç¬”è®°â€”â€”å‡½æ•°]]></title>
      <url>http://tech.noexception.cn/2016/10/08/C-%25E8%25AF%25BB%25E4%25B9%25A6%25E7%25AC%2594%25E8%25AE%25B0%25E2%2580%2594%25E2%2580%2594%25E5%2587%25BD%25E6%2595%25B0/</url>
      <content type="html"><![CDATA[<p>æ•´ç†è¯»ä¹¦ç¬”è®°ç³»åˆ—ã€‚</p>
<a id="more"></a>
<ul>
<li>C++ä¸­çš„å‡½æ•°ä¼ é€’å¤§è‡´çš„åˆ†ä¸ºä¸¤ç±»ï¼š
<ol>
<li>å½“å‡½æ•°å‚æ•°ä¸º<strong>å¼•ç”¨ç±»å‹</strong>æ—¶ï¼Œå®ƒå¯¹åº”çš„å®å‚è¢«å¼•ç”¨ä¼ é€’ï¼Œæˆ–è€…å‡½æ•°è¢«<strong>ä¼ å¼•ç”¨è°ƒç”¨</strong>ã€‚å’Œå…¶ä»–å¼•ç”¨ä¸€æ ·ï¼Œå¼•ç”¨å½¢å‚ä¹Ÿæ˜¯å®ƒç»‘å®šçš„å¯¹è±¡åˆ«åï¼›ä¹Ÿå°±æ˜¯è¯´ï¼Œå¼•ç”¨å½¢å‚æ˜¯å®ƒå¯¹åº”çš„å®å‚çš„åˆ«åã€‚</li>
<li>å½“<strong>å®å‚çš„å€¼è¢«æ‹·è´ç»™å½¢å‚</strong>æ—¶ï¼Œå½¢å‚å’Œå®å‚æ˜¯ä¸¤ä¸ªç›¸äº’ç‹¬ç«‹çš„å¯¹è±¡ã€‚æˆ‘ä»¬è¯´è¿™æ ·çš„å®å‚è¢«å€¼ä¼ é€’ï¼Œæˆ–è€…å‡½æ•°è¢«ä¼ å€¼è°ƒç”¨ã€‚</li>
</ol>
</li>
</ul>
<h2 id="1-ä¼ å€¼å‚æ•°"><a class="markdownIt-Anchor" href="#1-ä¼ å€¼å‚æ•°"></a> 1. ä¼ å€¼å‚æ•°</h2>
<ul>
<li>å½“åˆå§‹åŒ–ä¸€ä¸ªéå¼•ç”¨çš„å˜é‡æ—¶ï¼Œåˆå§‹å€¼è¢«æ‹·è´ç»™å˜é‡ã€‚æ­¤æ—¶ï¼Œå¯¹å˜é‡çš„æ”¹åŠ¨ä¸ä¼šå½±å“åˆå§‹å€¼ï¼›</li>
<li><strong>æŒ‡é’ˆå½¢å‚</strong>
<ul>
<li>æŒ‡é’ˆçš„è¡Œä¸ºå’Œå…¶ä»–éå¼•ç”¨ç±»å‹ä¸€æ ·ã€‚å½“æ‰§è¡ŒæŒ‡é’ˆæ‹·è´æ“ä½œæ—¶ï¼Œæ‹·è´çš„æ˜¯æŒ‡é’ˆçš„å€¼ã€‚æ‹·è´ä¹‹åï¼Œä¸¤ä¸ªæŒ‡é’ˆæ˜¯ä¸åŒçš„æŒ‡é’ˆã€‚å› ä¸ºæŒ‡é’ˆæ˜¯æˆ‘ä»¬å¯ä»¥è®¿é—®å®ƒæ‰€æŒ‡å‘çš„å¯¹è±¡ï¼Œæ‰€ä»¥é€šè¿‡æŒ‡é’ˆå¯ä»¥ä¿®æ”¹å®ƒæ‰€å€¼å¯¹è±¡çš„å€¼ã€‚<br />
s</li>
</ul>
</li>
</ul>
]]></content>
      
        <categories>
            
            <category> Cppè¯»ä¹¦ç¬”è®° </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[jsçš„å­¦ä¹ ç¬”è®°â€”â€”ç»ˆç¯‡]]></title>
      <url>http://tech.noexception.cn/2016/09/25/js%25E7%259A%2584%25E5%25AD%25A6%25E4%25B9%25A0%25E7%25AC%2594%25E8%25AE%25B0%25E2%2580%2594%25E2%2580%2594%25E9%25A2%2584%25E5%25A4%2587%25E7%25AF%2587/</url>
      <content type="html"><![CDATA[<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é‰´äºç›®å‰Javascriptå¦‚æ­¤ç«çˆ†ï¼Œå†åŠ ä¸Šè¿‘æ—¥å¾®ä¿¡å®£å¸ƒçš„â€œå°ç¨‹åºâ€åŠŸèƒ½ï¼Œå¯æƒ³ä»¥åçš„å‰ç«¯å·¥ç¨‹å¸ˆæ˜¯æœ‰å¤šä¹ˆçš„çƒ­é—¨äº†</p>
<a id="more"></a>
<h2 id="ä¸€-jsåŸºç¡€è¯­æ³•"><a class="markdownIt-Anchor" href="#ä¸€-jsåŸºç¡€è¯­æ³•"></a> ä¸€ã€JSåŸºç¡€è¯­æ³•ï¼š</h2>
<ol>
<li>å˜é‡çš„å£°æ˜ï¼š</li>
</ol>
<pre><code>- è¯­æ³•ï¼š``var myname;``
</code></pre>
<ol start="2">
<li>å˜é‡èµ‹å€¼ï¼š</li>
</ol>
<pre><code>- æˆ‘è§‰å¾—è¿™é‡Œæ²¡å•¥å¥½è¯´çš„äº†ã€‚å‡ ä¹æ‰€æœ‰ç¼–ç¨‹è¯­è¨€çš„èµ‹å€¼éƒ½å·®ä¸å¤šâ€¦
</code></pre>
<ol start="3">
<li>è¡¨è¾¾å¼ï¼š</li>
<li>ç®—æœ¯è¡¨è¾¾å¼ï¼›</li>
<li>å­—ç¬¦ä¸²è¡¨è¾¾å¼ï¼›</li>
<li>å…³ç³»è¡¨è¾¾å¼ï¼ˆæ¯”è¾ƒï¼‰ï¼›</li>
<li>é€»è¾‘è¡¨è¾¾å¼ã€‚</li>
<li>è¿ç®—ç¬¦ï¼š</li>
<li>èµ‹å€¼è¿ç®—ç¬¦ï¼š</li>
</ol>
<pre><code>  - ``=``
  - æ”¯æŒå¤åˆèµ‹å€¼è¿ç®—ç¬¦ï¼ŒåŒ…å«ä½†ä¸é™äº``+=, -=, /=``
2. ç®—æœ¯è¿ç®—ç¬¦ï¼š
  - `+, -, *, /, %, ++(è‡ªåŠ ), --(è‡ªå‡)`
3. å­—ç¬¦ä¸²è¿ç®—ç¬¦ï¼š
  - `+,  +=`
4. æ¯”è¾ƒè¿ç®—ç¬¦ï¼š
  - `==, !=, ===(æ¯”è¾ƒå€¼åŠç±»å‹), !==(æ¯”è¾ƒå€¼åŠç±»å‹), &lt;, &lt;=, &gt;, &gt;=`
5. é€»è¾‘è¿ç®—ç¬¦ï¼š
  - `&amp;&amp;(ä¸è¿ç®—), ||(æˆ–è¿ç®—), !(å–å)`
6. é€ä½è¿ç®—ç¬¦ï¼š
7. ç‰¹æ®Šè¿ç®—ç¬¦ï¼š
  1. new è¿ç®—ç¬¦ï¼Œåˆ›å»ºå¯¹è±¡ï¼ˆå®ä¾‹ï¼‰
    - è¯­æ³•ï¼š``å¯¹è±¡åç§° = new å¯¹è±¡ç±»å‹(å‚æ•°)``
  2. this è¿ç®—ç¬¦ï¼Œè¡¨ç¤ºå½“å‰å¯¹è±¡
    - è¯­æ³•ï¼š``this.å±æ€§``
  3. æ¡ä»¶è¿ç®—ç¬¦ï¼š
    - è¯­æ³•ï¼š``&lt;æ¡ä»¶è¡¨è¾¾å¼&gt; ? ç¬¬ä¸€ä¸ªå€¼:ç¬¬äºŒä¸ªå€¼``
    - è¯´æ˜ï¼šå½“æ¡ä»¶è¡¨è¾¾å¼ä¸ºçœŸæ—¶ï¼Œæ‰§è¡Œç¬¬ä¸€ä¸ªå€¼ï¼Œå¦åˆ™æ‰§è¡Œç¬¬äºŒä¸ªå€¼ï¼Œå¦‚æœæœ‰å­¦è¿‡å…¶ä»–é™æ€è¯­è¨€çš„åŒå­¦ï¼Œå°±å›å¾ˆç†Ÿæ‚‰äº†^_^
8. è¿ç®—ç¬¦æ‰§è¡Œçš„ä¼˜é€‰é¡ºåºï¼š
  - ç®—æ•°&gt;æ¯”è¾ƒï¼é€»è¾‘ï¼èµ‹å€¼
</code></pre>
<h2 id="äºŒ-æ•°ç»„"><a class="markdownIt-Anchor" href="#äºŒ-æ•°ç»„"></a> äºŒã€æ•°ç»„</h2>
<ol>
<li>åˆ›å»ºæ•°ç»„ï¼š</li>
</ol>
<pre><code>- ``var myarray = new Array()``
</code></pre>
<ol start="2">
<li>æ•°ç»„èµ‹å€¼ï¼š</li>
</ol>
<pre><code>- `var myarray = new Array(66, 88, 99);`
- `var myarray = [66, 88, 99];`
</code></pre>
<ol start="3">
<li>å‘æ•°ç»„å¢åŠ ä¸€ä¸ªæ–°å…ƒç´ </li>
</ol>
<pre><code>- ```javascript
    myarray[5] = 22;
    //åŸæ•°ç»„é•¿ä¸º4
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">  4. äºŒç»´æ•°ç»„ï¼š</span><br><span class="line">    - å®šä¹‰æ–¹æ³•ä¸€ï¼š</span><br><span class="line">&#96;&#96;&#96;javascript</span><br><span class="line">  var myarr &#x3D; new Array();</span><br><span class="line">  for(var i &#x3D; 0; i&lt;2; i++)&#123;</span><br><span class="line">      myarr[i] &#x3D; new Array();</span><br><span class="line">      for(var j &#x3D; 0; j&lt;i; j++)&#123;</span><br><span class="line">          myarr[i][j] &#x3D; i+j;</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
- å®šä¹‰æ–¹æ³•äºŒï¼š
</code></pre>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> Myarr = [[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>], [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]];</span><br></pre></td></tr></table></figure>
<h2 id="ä¸‰-äº‹ä»¶å“åº”"><a class="markdownIt-Anchor" href="#ä¸‰-äº‹ä»¶å“åº”"></a> ä¸‰ã€äº‹ä»¶å“åº”</h2>
<ol>
<li>ä¸»è¦äº‹ä»¶ï¼š</li>
</ol>
<table>
<thead>
<tr>
<th>äº‹ä»¶</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td>onclick</td>
<td>é¼ æ ‡å•æœºäº‹ä»¶</td>
</tr>
<tr>
<td>onmouseover</td>
<td>é¼ æ ‡ç»è¿‡äº‹ä»¶</td>
</tr>
<tr>
<td>onmouseout</td>
<td>é¼ æ ‡ç§»å¼€äº‹ä»¶</td>
</tr>
<tr>
<td>onchange</td>
<td>æ–‡æœ¬æ¡†å†…å®¹æ”¹å˜äº‹ä»¶</td>
</tr>
<tr>
<td>onselect</td>
<td>æ–‡æœ¬æ¡†å†…å®¹è¢«é€‰ä¸­äº‹ä»¶</td>
</tr>
<tr>
<td>onfocus</td>
<td>å…‰æ ‡èšç„¦</td>
</tr>
<tr>
<td>onblur</td>
<td>å…‰æ ‡ç¦»å¼€</td>
</tr>
<tr>
<td>onload</td>
<td>ç½‘é¡µå¯¼å…¥/åŠ è½½äº‹ä»¶</td>
</tr>
<tr>
<td>onunload</td>
<td>å…³é—­ç½‘é¡µ/å¸è½½äº‹ä»¶</td>
</tr>
</tbody>
</table>
<ol start="2">
<li>è·å–å…ƒç´ çš„å€¼å’Œè·å–æ–¹æ³•ï¼š</li>
</ol>
<pre><code>- èµ‹å€¼ï¼š`document.getElementById(&quot;is&quot;).value=1;`
- å–å€¼ï¼š`var=document.getElementById(&quot;id&quot;).value;`
- ä½¿ç”¨ parseInt() å‡½æ•°å¯ä»¥è§£æä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ•´æ•°ã€‚
</code></pre>
<h2 id="å››-javascriptå†…ç½®å¯¹è±¡"><a class="markdownIt-Anchor" href="#å››-javascriptå†…ç½®å¯¹è±¡"></a> å››ã€JavaScriptå†…ç½®å¯¹è±¡</h2>
<ol>
<li>å¯¹è±¡ï¼š</li>
</ol>
<pre><code>- JSä¸­æ‰€æœ‰äº‹ç‰©éƒ½æ˜¯å¯¹è±¡ï¼›
- æ¯ä¸ªå¯¹è±¡éƒ½å¸¦æœ‰å±æ€§æ–¹æ³•
</code></pre>
<ol start="2">
<li>Date æ—¥æœŸå¯¹è±¡</li>
</ol>
<pre><code>- è¯­æ³•ï¼š`var Udate = new Date();`
- æ³¨æ„ï¼šé»˜è®¤åˆå§‹å€¼ä¸ºå½“å‰æ—¶é—´ï¼ˆå½“å‰ç”µè„‘ç³»ç»Ÿçš„æ—¶é—´ï¼‰ã€‚
- è®¿é—®æ–¹æ³•è¯­æ³•ï¼š&lt;æ—¥æœŸå¯¹è±¡&gt;.&lt;æ–¹æ³•&gt;
- Dateå¯¹è±¡ä¸­å¤„ç†æ—¶é—´å’Œæ—¥æœŸçš„æ–¹æ³•ï¼š
</code></pre>
<table><tr><th>æ–¹æ³•åç§°</th><th>åŠŸèƒ½æè¿°</th></tr><tr><td>get/setDate()</td><td>è¿”å›/è®¾ç½®æ—¥æœŸ</td></tr><td>get/setFullYear()</td><td>è¿”å›/è®¾ç½®å¹´ä»½ï¼Œç”¨å››ä½æ•°è¡¨ç¤º</td><tr><td>get/setMonth()</td><td>è¿”å›/è®¾ç½®æœˆä»½ï¼Œ0è¡¨ç¤ºä¸€æœˆï¼›ä»¥æ­¤ç±»æ¨</td></tr><tr><td>get/setHours()</td><td>è¿”å›/è®¾ç½®å°æ—¶ï¼Œ24å°æ—¶åˆ¶</td></tr><tr><td>get/setMinutes()</td><td>è¿”å›/è®¾ç½®åˆ†é’Ÿæ•°</td></tr><tr><td>get/setSeconds()</td><td>è¿”å›/è®¾ç½®ç§’é’Ÿæ•°</td></tr><tr><td>get/setTime()</td><td>è¿”å›/è®¾ç½®æ—¶é—´å†…ï¼ˆæ¯«ç§’ä¸ºå•ä½ï¼‰</td></tr></table>
<ol start="3">
<li>è¿”å›/è®¾ç½®å¹´ä»½æ–¹æ³•ï¼š</li>
</ol>
<pre><code>- eg:
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è·å–ï¼š</span></span><br><span class="line">mydate.getFullYear();</span><br><span class="line"><span class="comment">//è®¾ç½®ï¼š</span></span><br><span class="line">mydate.setFullYear();</span><br></pre></td></tr></table></figure>
</code></pre>
<ol start="4">
<li>è¿”å›/è®¾ç½®æ˜ŸæœŸæ–¹æ³•ï¼š</li>
</ol>
<pre><code>- eg:
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ–¹æ³•ï¼š</span></span><br><span class="line">getDay();</span><br><span class="line"><span class="comment">//è¿”å›çš„æ˜¯0-6çš„æ•°å­—ï¼Œ0è¡¨ç¤ºæ˜ŸæœŸå¤©ï¼Œè‹¥è¦è¿”å›å¯¹åº”çš„â€œæ˜ŸæœŸâ€ï¼Œå¯é€šè¿‡æ•°ç»„å®Œæˆã€‚</span></span><br></pre></td></tr></table></figure>
</code></pre>
<ol start="5">
<li>è¿”å›/è®¾ç½®æ—¶é—´æ–¹æ³•ï¼š</li>
</ol>
<pre><code>- **æ–¹æ³•ï¼š**get/setTime();
- **æ³¨æ„ï¼š**
  1. ä¸€å°æ—¶60åˆ†ï¼Œä¸€åˆ†60ç§’ï¼Œä¸€ç§’100æ¯«ç§’ï¼›
  2. æ—¶é—´æ¨è¿Ÿ1å°æ—¶ï¼Œå°±æ˜¯``x.setTime(x.getTime()+60*60*100);``
</code></pre>
<ol start="6">
<li>Stringå­—ç¬¦ä¸²å¯¹è±¡ï¼ˆç±»JAVAï¼‰</li>
</ol>
<pre><code>-
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">x.length; <span class="comment">//è¿”å›å­—ç¬¦ä¸²çš„é•¿åº¦</span></span><br><span class="line">x.toUpperCase(); <span class="comment">//è½¬å¤§å†™å­—æ¯</span></span><br><span class="line">x.toLowerCase(); <span class="comment">//è½¬å°å†™å­—æ¯</span></span><br></pre></td></tr></table></figure>
</code></pre>
<ol start="7">
<li>è¿”å›æŒ‡å®šä½ç½®çš„å­—ç¬¦ï¼š</li>
</ol>
<pre><code>- **è¯­æ³•ï¼š**``stringObject.charAt(index)``
- **å‚æ•°è¯´æ˜ï¼š**
  - `index`ï¼šå¿…éœ€ï¼Œè¡¨ç¤ºå­—ç¬¦ä¸²æŸä¸ªä½ç½®çš„æ•°å­—ï¼Œå³å­—ç¬¦åœ¨å­—ç¬¦ä¸²ä¸­çš„ä¸‹æ ‡ã€‚
</code></pre>
<ol start="8">
<li>è¿”å›æŒ‡å®šå­—ç¬¦ä¸²é¦–æ¬¡å‡ºç°çš„ä½ç½®</li>
</ol>
<pre><code>- **è¯­æ³•ï¼š**``stringObject.indexOf(substring,starpos)``
- **å‚æ•°è¯´æ˜ï¼š**
  1. ``substring``ï¼šå¿…éœ€ï¼Œè§„å®šéœ€æ£€ç´¢çš„å­—ç¬¦ä¸²å€¼ï¼›
  2. ``starpos``ï¼šå¯é€‰çš„æ•´æ•°å‚æ•°ï¼Œè§„å®šåœ¨å­—ç¬¦ä¸²å¼€å§‹æ£€ç´¢çš„ä½ç½®ã€‚å®ƒçš„åˆæ³•å–å€¼æ˜¯0åˆ°stringObject.length-1ã€‚å¦‚çœç•¥è¯¥zé«˜æ•°ï¼Œåˆ™å°†å­—ç¬¦ä¸²çš„é¦–å­—ç¬¦å¼€å§‹æ£€ç´¢ã€‚
</code></pre>
<ol start="9">
<li>å­—ç¬¦ä¸²åˆ†å‰²split()</li>
</ol>
<pre><code>- **è¯­æ³•:**``stringObject.split(separator,limit)``
- **å‚æ•°è¯´æ˜ï¼š**
  1. `Separator`ï¼šå¿…éœ€ã€‚ä»è¯¥å‚æ•°æŒ‡å®šçš„åœ°æ–¹åˆ†å‰²stringObject;
  2. `limit`ï¼šå¯é€‰å‚æ•°ï¼›åˆ†å‰²çš„æ¬¡æ•°ï¼Œå¦‚è®¾ç½®è¯¥å‚æ•°ï¼Œè¿”å›çš„å­ä¸²ä¸ä¼šå¤šäºè¿™ä¸ªå‚æ•°æŒ‡å®šçš„æ•°ç»„ï¼Œå¦‚æœæ— æ­¤å‚æ•°ä¸ºä¸é™åˆ¶æ¬¡æ•°
</code></pre>
<ol start="10">
<li>æå–å­—ç¬¦ä¸²substring()</li>
</ol>
<pre><code>- **åŠŸèƒ½ï¼š**ç”¨äºæå–å­—ç¬¦ä¸²ä¸­ä»‹äºä¸¤ä¸ªæŒ‡å®šä¸‹æ ‡ä¹‹é—´çš„å­—ç¬¦ã€‚
- **è¯­æ³•ï¼š**``stringObject.substring(starPos,stopPos)``
- **å‚æ•°è¯´æ˜ï¼š**
  1. `starPos`ï¼š å¿…éœ€ï¼Œä¸€ä¸ªéè´Ÿçš„æ•´æ•°ï¼Œå¼€å§‹çš„ä½ç½®ï¼›
  2. `stopPos`ï¼š å¯é€‰ï¼Œä¸€ä¸ªéè´Ÿçš„æ•´æ•°ã€‚ç»“æŸçš„ä½ç½®ï¼Œå¦‚æœçœç•¥æ­¤å‚æ•°ï¼Œé‚£ä¹ˆè¿”å›çš„å­ä¸²ä¼šä¸€ç›´åˆ°å­—ç¬¦ä¸²å¯¹è±¡çš„ç»“å°¾ã€‚
- **æ³¨æ„ï¼š**
  1. è¿”å›çš„å†…å®¹æ˜¯ä»starå¼€å§‹ï¼ˆåŒ…å«starä½ç½®çš„å­—ç¬¦ï¼‰åˆ°stop-1å¤„çš„æ‰€æœ‰å­—ç¬¦ï¼Œå…¶é•¿åº¦ä¸ºstopå‡star
  2. å¦‚æœå‚æ•°staråˆ°stopç›¸ç­‰ï¼Œé‚£ä¹ˆè¯¥æ–¹æ³•è¿”å›çš„å°±æ˜¯ä¸€ä¸ªç©ºä¸²ï¼ˆå³é•¿åº¦ä¸º0çš„å­—ç¬¦ä¸²ï¼‰
  3. å¦‚æœstaræ¯”stopå¤§ï¼Œé‚£è¯¥æ–¹æ³•åœ¨æå–å­—ç¬¦ä¸²ä¹‹å‰ä¼šå…ˆäº¤æ¢è¿™ä¸¤ä¸ªå‚æ•°
</code></pre>
<ol start="11">
<li>æå–æŒ‡å®šæ•°ç›®çš„å­—ç¬¦substr()</li>
</ol>
<pre><code>- **åŠŸèƒ½ï¼š**ä»å­—ç¬¦ä¸²ä¸­æå–ä»starPosä½ç½®å¼€å§‹çš„æŒ‡å®šæ•°ç›®çš„å­—ç¬¦ä¸²
- **è¯­æ³•ï¼š**``stringObject.substr(starPos,length)``
- **å‚æ•°è¯´æ˜ï¼š**
  1. ``starPos``ï¼šå¿…éœ€ï¼Œè¦æå–çš„å­ä¸²èµ·å§‹ä½ç½®ã€‚å¿…éœ€æ˜¯æ•°å€¼ã€‚
  2. `length`ï¼šå¯é€‰ï¼Œæå–å­—ç¬¦ä¸²å­ä¸²çš„é•¿åº¦ï¼Œå¦‚æœçœç•¥ï¼Œè¿”å›ä»`stringObject`çš„å¼€å§‹ä½ç½®starPosåˆ°stringObjectçš„ç»“å°¾çš„å­—ç¬¦
- **æ³¨æ„ï¼š**
  - å¦‚æœå‚æ•°starPosæ˜¯è´Ÿæ•°ï¼Œä»å­—ç¬¦ä¸²çš„å°¾éƒ¨å¼€å§‹ç®—èµ·çš„ä½ç½®ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œ-1æŒ‡å­—ç¬¦ä¸²æœ€åä¸€ä¸ªå­—ç¬¦ï¼Œ-2æŒ‡å€’æ•°ç¬¬äºŒä¸ªå­—ç¬¦ï¼Œä»¥æ­¤ç±»æ¨ï¼Œå¦‚æœstarPosä¸ºè´Ÿæ•°ä¸”ç»å¯¹å€¼å¤§äºå­—ç¬¦ä¸²é•¿åº¦ï¼ŒstarPosä¸º0.
</code></pre>
<ul>
<li><strong>Mathå¯¹è±¡</strong>
<ul>
<li>Mathå¯¹è±¡ï¼Œæä¾›æ•°æ®çš„æ•°å­¦è®¡ç®—</li>
<li>ä½¿ç”¨Mathçš„å±æ€§å’Œæ–¹æ³•ï¼š
<ul>
<li>eg:</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">  &lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">  <span class="keyword">var</span> mypi=<span class="built_in">Math</span>.PI;</span><br><span class="line">  <span class="keyword">var</span> myabs=<span class="built_in">Math</span>.abs(<span class="number">-15</span>);</span><br><span class="line">  <span class="built_in">document</span>.write(mypi);</span><br><span class="line">  <span class="built_in">document</span>.write(myabs);</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
]]></content>
      
        <categories>
            
            <category> Javascript </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[jsçš„å­¦ä¹ ç¬”è®°â€”â€”é¢„å¤‡ç¯‡]]></title>
      <url>http://tech.noexception.cn/2016/09/22/js%25E7%259A%2584%25E5%25AD%25A6%25E4%25B9%25A0%25E7%25AC%2594%25E8%25AE%25B0/</url>
      <content type="html"><![CDATA[<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æœ¬ç¯‡æ–‡ç« ä¼šä»‹ç»ä¹‹å‰å­¦ä¹ Javascriptæ—¶çš„ä¸€äº›ç¬”è®°ï¼Œè‹¦äºä¸çŸ¥é“å¯ä»¥å†™äº›å•¥æœ‰è¥å…»çš„ä¸œè¥¿ã€‚æ˜¨æ™šå°±å¿½ç„¶æƒ³åˆ°æœ€è¿‘çš„Javascriptè¿™ä¹ˆç«çˆ†ï¼Œäºæ˜¯ä¹å°±æŠŠä»¥å‰å­¦ä¹ çš„Javascriptçš„ç¬”è®°å†æ•´ç†ä¸€éåˆ°è‡ªå·±è¿™ä¸ªâ€œå¤„å¥³â€åšå®¢å§~å“ˆå“ˆå“ˆ~</p>
<a id="more"></a>
<h2 id="ä¸€-é¢„å¤‡çŸ¥è¯†"><a class="markdownIt-Anchor" href="#ä¸€-é¢„å¤‡çŸ¥è¯†"></a> ä¸€ã€é¢„å¤‡çŸ¥è¯†ï¼š</h2>
<h3 id="1-åœ¨htmlæ–‡æœ¬ä¸­åµŒå…¥javascriptçš„æ–¹å¼ä¸€å…±æœ‰ä¸‰ç§"><a class="markdownIt-Anchor" href="#1-åœ¨htmlæ–‡æœ¬ä¸­åµŒå…¥javascriptçš„æ–¹å¼ä¸€å…±æœ‰ä¸‰ç§"></a> 1. åœ¨HTMLæ–‡æœ¬ä¸­åµŒå…¥Javascriptçš„æ–¹å¼ä¸€å…±æœ‰ä¸‰ç§ï¼š</h3>
<ol>
<li>å†…éƒ¨å¼•ç”¨</li>
<li>å†…è”å¼•ç”¨</li>
<li>å¤–éƒ¨å¼•ç”¨</li>
</ol>
<ul>
<li>ä½†æ˜¯ï¼Œæˆ‘ä»¬ç”¨çš„æœ€å¤šçš„æ˜¯<code>å¤–éƒ¨å¼•ç”¨</code>è¿™ç§æ–¹å¼ï¼Œå¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š</li>
</ul>
  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"path/to/your_code.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>ä¸Šè¿°ä»£ç å¯ä»¥æ”¾åœ¨htmlé¡µé¢å†…çš„ä»»ä½•ä½ç½®ï¼Œå…·ä½“è¦æ”¾åœ¨å“ªé‡Œï¼Œè§†å…·ä½“æƒ…å†µè€Œå®šäº†â€¦â€¦</li>
</ul>
<h3 id="2-æ³¨é‡Š"><a class="markdownIt-Anchor" href="#2-æ³¨é‡Š"></a> 2. æ³¨é‡Šï¼š</h3>
<ul>
<li>å…³äºJSçš„æ³¨é‡Šæ–¹æ³•ï¼Œæˆ‘ä¸€ç›´æ˜¯ä½¿ç”¨C++é£æ ¼çš„æ³¨é‡Šæ–¹æ³•ï¼Œå³ï¼š<code>//è¿™æ˜¯ä¸€è¡Œæ³¨é‡Š</code>ï¼Œå¯èƒ½æ˜¯ç”¨ä¹…äº†å°±æˆä¸ºä¹ æƒ¯äº†å§ï¼Œå“ˆå“ˆå“ˆï¼Œä¸è¿‡å¦å¤–å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœæ˜¯ä½¿ç”¨â€œWebStormâ€çš„è¯ï¼Œå°½é‡ä½¿ç”¨å¿«æ·é”®ï¼Œæˆ‘è®°å¾—å•è¡Œæ³¨é‡Šçš„å¿«æ·é”®æ˜¯ï¼š<code>Ctrl + /</code>ï¼Œè¦æ˜¯ç”¨åˆ°å¤šè¡Œæ³¨é‡Šçš„æ—¶å€™å°±å¯ä»¥è¾“å…¥<code>/**</code>ç„¶åé”®å…¥å›è½¦å³å¯ã€‚</li>
</ul>
<h3 id="3-å˜é‡"><a class="markdownIt-Anchor" href="#3-å˜é‡"></a> 3. å˜é‡ï¼š</h3>
<ol>
<li>å®šä¹‰å˜é‡è¦ä½¿ç”¨å…³é”®å­—ï¼š<code>var</code>ï¼Œè¯­æ³•ï¼š<code>var å˜é‡å</code></li>
<li>å‘½åè§„åˆ™ï¼š</li>
<li>å˜é‡åå¿…é¡»ä½¿ç”¨å­—æ¯ã€ä¸‹åˆ’çº¿æˆ–è€…ç¾å…ƒç¬¦å·å¼€å§‹ï¼›</li>
<li>å¯ä»¥ä½¿ç”¨ä»»æ„å¤šä¸ªè‹±æ–‡å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿æˆ–ç¾å…ƒç¬¦å·ï¼›</li>
<li>ä¸èƒ½ä½¿ç”¨JSå…³é”®å­—å’ŒJSä¿ç•™å­—ã€‚</li>
<li>æ³¨æ„ï¼š</li>
</ol>
<pre><code>- å˜é‡è¦å…ˆå£°æ˜ï¼Œå†èµ‹å€¼
- å˜é‡å¯ä»¥é‡å¤èµ‹å€¼ï¼›
- åœ¨JSä¸­åŒºåˆ†å¤§å°å†™ï¼›
- å˜é‡å¯ä»¥ä¸å£°æ˜ï¼Œç›´æ¥ä½¿ç”¨ï¼Œä½†æ˜¯ä¸æ¨èï¼Œä¸è§„èŒƒï¼›
</code></pre>
<h3 id="4-è¯­å¥"><a class="markdownIt-Anchor" href="#4-è¯­å¥"></a> 4. è¯­å¥</h3>
<ul>
<li>è¿™é‡Œå¸¸ç”¨åˆ°çš„è¯­å¥æ— éå°±æ˜¯è¿™å‡ ç§ï¼š
<ol>
<li>èµ‹å€¼è¯­å¥ï¼›</li>
<li>åˆ¤æ–­è¯­å¥ï¼›</li>
<li>å¾ªç¯è¯­å¥ï¼›</li>
<li>é€‰æ‹©è¯­å¥ã€‚</li>
</ol>
</li>
</ul>
<h3 id="5-å‡½æ•°"><a class="markdownIt-Anchor" href="#5-å‡½æ•°"></a> 5. å‡½æ•°</h3>
<ol>
<li>å®šä¹‰çš„æ–¹æ³•ï¼š</li>
</ol>
  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">//**</span><br><span class="line">* å‡½æ•°çš„å‚æ•°å¯ä»¥æœ‰ä»»æ„å¤šä¸ª</span><br><span class="line">* å‡½æ•°å¯ä»¥æœ‰è¿”å›å€¼</span><br><span class="line">**/</span><br><span class="line">function fun1(arg1, arg2)&#123;</span><br><span class="line">    //your code</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>å‡½æ•°çš„è°ƒç”¨ï¼š</li>
<li>æ”¾åœ¨<code>&lt;head&gt;</code>æ ‡ç­¾ä¹‹é—´ï¼Œä¼šè‡ªåŠ¨è¿è¡Œ</li>
<li>ä½¿ç”¨æ ‡ç­¾<code>&lt;input type=&quot;button&quot; value=&quot;ç‚¹å‡»&quot; onclick=&quot;å‡½æ•°å&quot;&gt;</code></li>
</ol>
<h2 id="äºŒ-jså¸¸ç”¨çš„äº’åŠ¨æ–¹æ³•"><a class="markdownIt-Anchor" href="#äºŒ-jså¸¸ç”¨çš„äº’åŠ¨æ–¹æ³•"></a> äºŒã€JSå¸¸ç”¨çš„äº’åŠ¨æ–¹æ³•</h2>
<h3 id="1-å†…å®¹è¾“å‡ºdocumentwrite"><a class="markdownIt-Anchor" href="#1-å†…å®¹è¾“å‡ºdocumentwrite"></a> 1. å†…å®¹è¾“å‡ºï¼ˆdocument.writeï¼‰</h3>
<ul>
<li>document.writeå¯ç”¨äºç›´æ¥æƒ³HTMLè¾“å‡ºæµå†™å†…å®¹ã€‚
<ol>
<li>è¾“å‡ºå†…å®¹ç›´æ¥ç”¨â€œåŒå¼•å·â€æ‹¬èµ·æ¥ï¼Œç›´æ¥è¾“å‡ºå¼•å·å†…çš„å†…å®¹ã€‚</li>
<li>é€šè¿‡å˜é‡è¾“å‡ºå†…å®¹ï¼š</li>
</ol>
<ul>
<li>eg: <code>document.write(mystr);</code></li>
</ul>
<ol start="3">
<li>è¾“å‡ºå¤šé¡¹å†…å®¹ï¼Œå†…å®¹ä¹‹é—´ç”¨&quot;+&quot;å·è¿æ¥</li>
</ol>
<ul>
<li>eg: <code>document.write(mystr+&quot;Hello&quot;);</code></li>
</ul>
<ol start="4">
<li>è¾“å‡ºHTMLæ ‡ç­¾</li>
</ol>
<ul>
<li>eg: <code>document.write(mystr+&quot;&lt;br&gt;&quot;);</code></li>
</ul>
</li>
</ul>
<h3 id="2-alertæ¶ˆæ¯æç¤ºçª—"><a class="markdownIt-Anchor" href="#2-alertæ¶ˆæ¯æç¤ºçª—"></a> 2. alertæ¶ˆæ¯æç¤ºçª—</h3>
<ul>
<li>alert(str)</li>
</ul>
<h3 id="3-ç¡®è®¤confirmæ¶ˆæ¯å¯¹è¯æ¡†"><a class="markdownIt-Anchor" href="#3-ç¡®è®¤confirmæ¶ˆæ¯å¯¹è¯æ¡†"></a> 3. ç¡®è®¤ï¼ˆconfirmæ¶ˆæ¯å¯¹è¯æ¡†ï¼‰</h3>
<ul>
<li>ä½œç”¨ï¼šç”¨äºå…è®¸ç”¨æˆ·åšé€‰æ‹©çš„åŠ¨ä½œï¼›</li>
<li>è¯­æ³•ï¼š<code>confirm(str);</code>ï¼›</li>
<li>å‚æ•°è¯´æ˜ï¼š</li>
</ul>
  <table border=1>
  <tr><td>**str**</td><td>åœ¨æ¶ˆæ¯å¯¹è¯æ¡†ä¸­è¦æ˜¾ç¤ºçš„æ–‡æœ¬</td></tr><tr><td>è¿”å›å€¼</td><td>Booleanå€¼</td></tr></table>
<h3 id="4-æé—®promptæ¶ˆæ¯å¯¹è¯æ¡†"><a class="markdownIt-Anchor" href="#4-æé—®promptæ¶ˆæ¯å¯¹è¯æ¡†"></a> 4. æé—®ï¼ˆpromptæ¶ˆæ¯å¯¹è¯æ¡†ï¼‰</h3>
<ul>
<li>**ä½œç”¨ï¼š**é€šå¸¸ç”¨äºè¯¢é—®ä¸€äº›éœ€è¦ç”¨æˆ·äº¤äº’çš„ä¿¡æ¯ã€‚å¼¹å‡ºæ¶ˆæ¯å¯¹è¯æ¡†ï¼ˆåŒ…å«ä¸€ä¸ªç¡®å®šæŒ‰é’®ï¼Œå–æ¶ˆæŒ‰é’®ä¸ä¸€ä¸ªæ–‡æœ¬è¾“å…¥æ¡†ï¼‰</li>
<li><strong>è¯­æ³•ï¼š</strong><code>prompt(str1,str2);</code></li>
<li><strong>å‚æ•°è¯´æ˜ï¼š</strong></li>
</ul>
  <table><tr><td>**str1**</td><td>è¦æ˜¾ç¤ºåœ¨æ¶ˆæ¯å¯¹è¯æ¡†çš„æ–‡æœ¬ï¼Œä¸å¯ä¿®æ”¹ï¼›</td></tr><tr><td>**str2**</td><td>æ–‡æœ¬æ¡†ä¸­çš„å†…å®¹ï¼Œå¯ä¿®æ”¹</td></tr></table>
  - **è¿”å›å€¼ï¼š**
    1. ç‚¹å‡»ç¡®å®šæŒ‰é’®ï¼Œæ–‡æœ¬æ¬¾çš„å†…å®¹å°†ä½œä¸ºå‡½æ•°è¿”å›å€¼ï¼›
    2. ç‚¹å‡»å–æ¶ˆæŒ‰é’®ï¼Œè¿”å›`null`;
<h3 id="5-æ‰“å¼€æ–°çª—å£windowopen"><a class="markdownIt-Anchor" href="#5-æ‰“å¼€æ–°çª—å£windowopen"></a> 5. æ‰“å¼€æ–°çª—å£ï¼ˆwindow.openï¼‰</h3>
<ul>
<li><strong>ä½œç”¨ï¼š</strong><code>open()</code>æ–¹æ³•å¯ä»¥æŸ¥æ‰¾ä¸€ä¸ªå·²ç»å­˜åœ¨æˆ–è€…æ–°å»ºçš„æµè§ˆå™¨çª—å£ï¼›</li>
<li><strong>è¯­æ³•ï¼š</strong><code>window.open([URL],[çª—å£åç§°],[å‚æ•°å­—ç¬¦ä¸²])ï¼›</code>ï¼›</li>
<li><strong>å‚æ•°è¯´æ˜ï¼š</strong>
<ul>
<li>URL:å¯é€‰å‚æ•°ï¼Œåœ¨çª—å£ä¸­è¦æ˜¾ç¤ºç½‘é¡µçš„ç½‘å€æˆ–è·¯å¾„ã€‚å¦‚æœçœç•¥è¿™ä¸ªå‚æ•°ï¼Œæˆ–è€…å®ƒçš„å€¼æ˜¯ç©ºå­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆçª—å£å°±ä¸æ˜¾ç¤ºä»»ä½•æ–‡æ¡£ï¼›</li>
<li>çª—å£åç§°ï¼šå¯é€‰å‚æ•°,è¢«æ‰“å¼€çª—å£çš„åç§°ã€‚
<ol>
<li>è¯¥åç§°ç”±å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿å­—ç¬¦ç»„æˆï¼›</li>
<li><code>_top</code>,<code>_blank</code>,<code>_self</code>å…·æœ‰ç‰¹æ®Šæ„ä¹‰çš„åç§°ï¼›</li>
</ol>
<ul>
<li><code>_top</code>ï¼šæ¡†æ¶ç½‘é¡µä¸­åœ¨ä¸Šä¸çª—å£ä¸­æ˜¾ç¤ºç›®æ ‡ç½‘é¡µï¼›</li>
<li><code>_blank</code>ï¼šåœ¨æ–°çª—å£ä¸­æ˜¾ç¤ºç›®æ ‡ç½‘é¡µï¼›</li>
<li><code>_self</code>ï¼šåœ¨å½“å‰çª—å£æ˜¾ç¤ºç›®æ ‡ç½‘é¡µã€‚</li>
</ul>
<ol start="3">
<li>ç›¸åŒ<code>name</code>çš„çª—å£åªèƒ½åˆ›å»ºä¸€ä¸ªï¼Œè¦æƒ³åˆ›å»ºå¤šä¸ªçª—å£ï¼Œåˆ™<code>name</code>ä¸èƒ½ç›¸åŒã€‚</li>
<li><code>name</code>ä¸èƒ½åŒ…å«ç©ºæ ¼</li>
</ol>
</li>
<li>å‚æ•°å­—ç¬¦ä¸²ï¼šå¯é€‰å‚æ•°ï¼Œè®¾ç½®çª—å£å‚æ•°ï¼Œå„å‚æ•°ç”¨é€—å·éš”å¼€ã€‚</li>
<li><strong>å‚æ•°è¡¨ï¼š</strong></li>
</ul>
<table>
<tr><th>å‚æ•°</th><th>å€¼</th><th>è¯´æ˜</th></tr><tr><td>top</td><td>number</td><td>çª—å£é¡¶éƒ¨ç¦»å¼€å±å¹•é¡¶éƒ¨çš„åƒç´ æ•°</td></tr><tr><td>left</td><td>number</td><td>çª—å£å·¦ç«¯ç¦»å¼€å±å¹•å·¦ç«¯çš„åƒç´ æ•°</td></tr><tr><td>width</td><td>number</td><td>çª—å£çš„å®½åº¦</td></tr><tr><td>height</td><td>number</td><td>çª—å£çš„é«˜åº¦</td></tr><tr><td>menubar</td><td>yes,no</td><td>çª—å£æœ‰æ²¡æœ‰èœå•</td></tr><tr><td>toolbar</td><td>yes,no</td><td>çª—å£æœ‰æ²¡æœ‰å·¥å…·æ¡</td></tr><tr><td>scroll</td><td>yes,no</td><td>çª—å£æœ‰æ²¡æœ‰æ»šåŠ¨æ¡</td></tr><tr><td>status</td><td>yes,no</td><td>çª—å£æœ‰æ²¡æœ‰çŠ¶æ€æ </td></tr></table>
</li>
</ul>
<h3 id="6-å…³é—­çª—å£windowclose"><a class="markdownIt-Anchor" href="#6-å…³é—­çª—å£windowclose"></a> 6. å…³é—­çª—å£ï¼ˆwindow.closeï¼‰</h3>
<ul>
<li>**ä½œç”¨ï¼š**å…³é—­çª—å£ï¼›</li>
<li><strong>è¯­æ³•ï¼š</strong></li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.close();<span class="comment">//å…³é—­å½“å‰çª—å£</span></span><br><span class="line">&lt;çª—å£å¯¹è±¡&gt;.close();<span class="comment">//å…³é—­æŒ‡å®šçª—å£</span></span><br></pre></td></tr></table></figure>
<pre><code>eg:å…³é—­æ–°å»ºçš„çª—å£ï¼š
</code></pre>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> mywin = <span class="built_in">window</span>.open(<span class="string">'http://imooc.com'</span>);</span><br><span class="line">mywin.close();</span><br></pre></td></tr></table></figure>
<h2 id="ä¸‰-domæ“ä½œ"><a class="markdownIt-Anchor" href="#ä¸‰-domæ“ä½œ"></a> ä¸‰ã€DOMæ“ä½œ</h2>
<ul>
<li>ä»‹ç»ï¼š
<ul>
<li><strong>æ–‡æ¡£å¯¹è±¡æ¨¡å‹ï¼ˆDOMï¼‰å®šä¹‰è®¿é—®å’Œå¤„ç†HTMLæ–‡æ¡£çš„æ ‡å‡†æ–¹æ³•ã€‚</strong></li>
<li><strong>HTMLæ–‡æ¡£å¯ä»¥è¯´æœ‰èŠ‚ç‚¹æ„æˆçš„é›†åˆã€‚</strong></li>
</ul>
</li>
</ul>
<h3 id="1-ä¸‰ç§å¸¸è§çš„domèŠ‚ç‚¹"><a class="markdownIt-Anchor" href="#1-ä¸‰ç§å¸¸è§çš„domèŠ‚ç‚¹"></a> 1. ä¸‰ç§å¸¸è§çš„DOMèŠ‚ç‚¹ï¼š</h3>
<ol>
<li><strong>å…ƒç´ èŠ‚ç‚¹ï¼š</strong><code>&lt;html&gt;,&lt;body&gt;,&lt;p&gt;</code>ç­‰ï¼Œå³æ ‡ç­¾ï¼›</li>
<li>**æ–‡æœ¬èŠ‚ç‚¹ï¼š**å‘ç”¨æˆ·å±•ç¤ºçš„å†…å®¹ï¼Œå¦‚<code>&lt;li&gt;...&lt;/li&gt;</code>ä¸­çš„JavaScript</li>
<li>**å±æ€§èŠ‚ç‚¹ï¼š**å…ƒç´ å±æ€§ï¼Œå¦‚<code>&lt;a&gt;</code>æ ‡ç­¾çš„é“¾æ¥å±æ€§ã€‚</li>
</ol>
<h3 id="2-é€šè¿‡idè·å–å…ƒç´ "><a class="markdownIt-Anchor" href="#2-é€šè¿‡idè·å–å…ƒç´ "></a> 2. é€šè¿‡IDè·å–å…ƒç´ </h3>
<ul>
<li>è¯­æ³•ï¼š<code>document.getElementById(&quot;id&quot;);</code>
<ul>
<li>è·å–çš„å…ƒç´ æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå¦‚æƒ³å¯¹å…ƒç´ è¿›è¡Œæ“ä½œï¼Œæˆ‘ä»¬è¦é€šè¿‡å®ƒçš„å±æ€§æˆ–æ–¹æ³•ã€‚</li>
</ul>
</li>
</ul>
<h3 id="3-innerhtmlå±æ€§"><a class="markdownIt-Anchor" href="#3-innerhtmlå±æ€§"></a> 3. innerHTMLå±æ€§</h3>
<ul>
<li><strong>è¯­æ³•ï¼š</strong><code>object.innerHTML;</code></li>
<li>**ä½œç”¨ï¼š**innerHTMLå±æ€§ç”¨äºè·å–æˆ–æ›¿æ¢HTMLå…ƒç´ çš„å†…å®¹</li>
<li>
<ol>
<li>Objectæ˜¯è·å–çš„å…ƒç´ å¯¹è±¡ï¼Œå¦‚é€šè¿‡<code>document.getElementById(&quot;ID&quot;);</code>è·å–çš„å…ƒç´ ï¼›</li>
<li>innerHTMLåŒºåˆ†å¤§å°å†™<br />
egï¼š</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> mycon = <span class="built_in">document</span>.getElementById(<span class="string">"con"</span>);</span><br><span class="line"><span class="built_in">document</span>.write(<span class="string">"......"</span>+mycon.innerHTML+<span class="string">"&lt;br&gt;"</span>);</span><br><span class="line">mycon.innerHTML=<span class="string">"New text!"</span>;</span><br><span class="line"><span class="built_in">document</span>.write(<span class="string">"..."</span>+mycon.innerHTML+<span class="string">"&lt;br&gt;"</span>);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="4-æ”¹å˜htmlæ ·å¼"><a class="markdownIt-Anchor" href="#4-æ”¹å˜htmlæ ·å¼"></a> 4. æ”¹å˜HTMLæ ·å¼ï¼š</h3>
<ul>
<li><strong>HTML DOMå…è®¸Javascriptæ”¹å˜HTMLå…ƒç´ çš„æ ·å¼</strong></li>
<li><strong>è¯­æ³•ï¼š</strong><code>object.style.properly=new style;</code></li>
<li>**æ³¨æ„ï¼š**Objectæ˜¯è·å–çš„å…ƒç´ å¯¹è±¡ï¼Œå¦‚é€šè¿‡<code>getElementById(&quot;ID&quot;);</code>è·å–çš„å…ƒç´ ã€‚</li>
<li><strong>åŸºæœ¬å±æ€§è¡¨(property)ï¼š</strong></li>
</ul>
<table><tr><th>å±æ€§</th><th>æè¿°</th></tr><tr><td>backgroundColor</td><td>è®¾ç½®å…ƒç´ èƒŒæ™¯é¢œè‰²</td></tr><tr><td>height</td><td>è®¾ç½®å…ƒç´ çš„é«˜åº¦</td></tr><tr><td>width</td><td>è®¾ç½®å…ƒç´ çš„å®½åº¦</td></tr><tr><td>color</td><td>è®¾ç½®æ–‡æœ¬çš„é¢œè‰²</td></tr><tr><td>font</td><td>åœ¨ä¸€è¡Œè®¾ç½®æ‰€æœ‰å­—ä½“çš„å±æ€§</td></tr><tr><td>fontFamily</td><td>è®¾ç½®å…ƒç´ çš„å­—ä½“ç³»åˆ—</td></tr><tr><td>fontSize</td><td>è®¾ç½®å…ƒç´ çš„å­—ä½“å¤§å°</td></tr></table>
<h3 id="5-æ˜¾ç¤ºå’Œéšè—displayå±æ€§"><a class="markdownIt-Anchor" href="#5-æ˜¾ç¤ºå’Œéšè—displayå±æ€§"></a> 5. æ˜¾ç¤ºå’Œéšè—(displayå±æ€§)</h3>
<ul>
<li><strong>ç½‘é¡µä¸­ç»å¸¸ä¼šçœ‹åˆ°æ˜¾ç¤ºå’Œéšè—çš„æ•ˆæœï¼Œå¯ä»¥é€šè¿‡<code>display</code>å±æ€§æ¥è®¾ç½®</strong></li>
<li><strong>è¯­æ³•ï¼š</strong><code>Object.style.display=value;</code></li>
<li><strong>æ³¨æ„ï¼š</strong>
<ul>
<li><code>Object</code>æ˜¯è·å–çš„å…ƒç´ å¯¹è±¡ï¼Œå¦‚é€šè¿‡<code>document.getElementById(&quot;id&quot;)</code>è·å–çš„å…ƒç´ ã€‚</li>
<li><strong>valueçš„å–å€¼ï¼š</strong></li>
</ul>
<table><tr><th>å€¼</th><th>æè¿°</th></tr><tr><td>none</td><td>æ­¤å…ƒç´ ä¸ä¼šè¢«æ˜¾ç¤ºï¼ˆå³éšè—ï¼‰</td></tr><tr><td>block</td><td>æ­¤å…ƒç´ æ˜¾ç¤ºä¸ºå—çº§å…ƒç´ ï¼ˆå³æ˜¾ç¤ºï¼‰</td></tr></table>
</li>
</ul>
<h3 id="6-æ§åˆ¶ç±»åclassnameå±æ€§"><a class="markdownIt-Anchor" href="#6-æ§åˆ¶ç±»åclassnameå±æ€§"></a> 6. æ§åˆ¶ç±»åï¼ˆclassNameå±æ€§ï¼‰</h3>
<ul>
<li><strong>classNameå±æ€§è®¾ç½®æˆ–è¿”å›å…ƒç´ çš„classå±æ€§</strong></li>
<li><strong>è¯­æ³•ï¼š</strong><code>Object.className=classname;</code></li>
<li><strong>ä½œç”¨ï¼š</strong>
<ol>
<li>è·å–å…ƒç´ çš„classå±æ€§ï¼›</li>
<li>ä¸ºç½‘é¡µçš„æŸä¸ªå…ƒç´ æŒ‡å®šä¸€ä¸ªCSSæ ·å¼æ¥æ›´æ”¹å…ƒç´ çš„å¤–è§‚ã€‚</li>
</ol>
</li>
</ul>
]]></content>
      
        <categories>
            
            <category> Javascript </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[okhttpè¾¹å­¦è¾¹è®°]]></title>
      <url>http://tech.noexception.cn/2016/09/19/okhttp%25E8%25BE%25B9%25E5%25AD%25A6%25E8%25BE%25B9%25E8%25AE%25B0/</url>
      <content type="html"><![CDATA[<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å­¦ä¹ å®‰å“ä¸€å®šç¦»ä¸å¼€ç½‘ç»œè®¿é—®ï¼Œä½†æ˜¯å®˜æ–¹å·²ç»ä¸æ¨èä½¿ç”¨HttpClientäº†ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªå¥½ç”¨çš„ç½‘ç»œåº“ï¼Œè¿™æ—¶ï¼Œå°±æƒ³åˆ°äº†okhttpã€‚</p>
<a id="more"></a>
<h2 id="ä¸€-å¯¼åŒ…"><a class="markdownIt-Anchor" href="#ä¸€-å¯¼åŒ…"></a> ä¸€ã€å¯¼åŒ…</h2>
<ul>
<li>å¯¹äºAndroid Studioçš„ç”¨æˆ·ï¼š<code>compile 'com.squareup.okhttp3:okhttp:(insert latest version)'</code>(ç›®å‰çš„æœ€æ–°ç‰ˆæœ¬æ˜¯3.4.1)</li>
<li>å¯¹äºEclipseçš„ç”¨æˆ·ï¼šå¯ä»¥ç›´æ¥ä¸‹è½½<a href="https://search.maven.org/remote_content?g=com.squareup.okhttp3&a=okhttp&v=LATEST" target="_blank" rel="noopener">[the lastest JAR]</a>,å¯¼å…¥é¡¹ç›®ä¸­å³å¯ã€‚</li>
<li>æ³¨æ„ï¼šå®˜æ–¹æ–‡æ¡£é‡Œè¯´åˆ°ï¼Œâ€œå½“ä½¿ç”¨åˆ°å¿«é€ŸI/Oå’Œresizable buffersçš„æ—¶å€™éœ€è¦<a href="https://github.com/square/okio" target="_blank">okio</a>â€æ‰€ä»¥ï¼Œè¿˜æœ‰ä¸€æ­¥ï¼š
<ul>
<li>å¯¹äºAndroid Studioçš„ç”¨æˆ·ï¼š<code>compile 'com.squareup.okio:okio:(insert latest version)'</code>(ç›®å‰çš„æœ€æ–°ç‰ˆæœ¬æ˜¯1.10.0)</li>
<li>å¯¹äºEclipseçš„ç”¨æˆ·ï¼šä¸‹è½½æœ€è¿‘çš„<a href="https://search.maven.org/remote_content?g=com.squareup.okio&a=okio&v=LATEST" target="_blank" rel="noopener"> [ the lastest JAR ]</a> å³å¯</li>
</ul>
</li>
</ul>
<h2 id="äºŒ-ä½¿ç”¨æ­¥éª¤"><a class="markdownIt-Anchor" href="#äºŒ-ä½¿ç”¨æ­¥éª¤"></a> äºŒã€ä½¿ç”¨æ­¥éª¤ï¼š</h2>
<ol>
<li>HttpGet</li>
</ol>
<pre><code>- é¦–å…ˆä»æœ€å¸¸ç”¨åˆ°çš„http getè¯·æ±‚å¼€å§‹ï¼Œä¾‹å­ï¼š
- ```java
    //åˆ›å»ºokHttpå¯¹è±¡
    OkHttpClient client = new OkHttpClient();
    //åˆ›å»ºä¸€ä¸ªRequest
    final Request request = new Request.Builder().url(&quot;http://luciferlv.tech&quot;).build();
    //new call
    Call call = client.newCall(request);
    //è¯·æ±‚åŠ å…¥è°ƒåº¦
    call.enqueue(new CallBack(){
            @Override
            public void onFailure(Request request, IOException e){

            }

            @Override
            public void onResponse(final Response response) throws IOException{
                //String htmlStr = response.body().string();
            }
        })
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">- ä»£ç åˆ†æï¼š</span><br><span class="line">  1. å‘é€ä¸€ä¸ªgetè¯·æ±‚çš„æ­¥éª¤ï¼šé¦–å…ˆæ„é€ ä¸€ä¸ªRequestå¯¹è±¡ï¼Œå‚æ•°èµ·ç æœ‰ä¸€ä¸ªurlï¼Œä¹Ÿå¯ä»¥é€šè¿‡Request.Builderæ¥è®¾ç½®æ›´å¤šçš„å‚æ•°å¦‚ï¼š&#96;headerå’Œmethod&#96;ç­‰ã€‚</span><br><span class="line">  2. ç„¶åé€šè¿‡requestçš„å¯¹è±¡å»æ„é€ å¾—åˆ°ä¸€ä¸ªCallå¯¹è±¡ï¼Œç±»ä¼¼äºå°†ä½ çš„è¯·æ±‚å°è£…æˆäº†ä»»åŠ¡ï¼Œæ—¢ç„¶æ˜¯ä»»åŠ¡ï¼Œå°±ä¼šæœ‰&#96;execute()&#96;å’Œ&#96;cancel()&#96;ç­‰æ–¹æ³•ã€‚</span><br><span class="line">  3. æœ€åï¼Œæˆ‘ä»¬å¸Œæœ›ä»¥**å¼‚æ­¥**çš„æ–¹å¼å»æ‰§è¡Œè¯·æ±‚ï¼Œæ‰€ä»¥æˆ‘ä»¬è°ƒç”¨çš„æ˜¯&#96;call.enqueue&#96;ï¼Œå°†callåŠ å…¥è°ƒåº¦é˜Ÿåˆ—ï¼Œç„¶åç­‰å¾…ä»»åŠ¡æ‰§è¡Œå®Œæˆï¼Œæˆ‘ä»¬åœ¨CallBackä¸­å³å¯å¾—åˆ°ç»“æœã€‚</span><br><span class="line">  - **æ³¨æ„ï¼š**</span><br><span class="line">    - &#96;onResponse&#96;å›è°ƒçš„å‚æ•°æ˜¯responseï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæ¯”å¦‚æˆ‘ä»¬å¸Œæœ›è·å¾—è¿”å›çš„å­—ç¬¦ä¸²ï¼Œå¯ä»¥é€šè¿‡&#96;response.body().string()&#96;è·å–ï¼›å¦‚æœå¸Œæœ›è·å¾—è¿”å›çš„äºŒè¿›åˆ¶å­—èŠ‚æ•°ç»„ï¼Œåˆ™è°ƒç”¨&#96;response.body().bytes();&#96;å¦‚æœæƒ³æ‹¿åˆ°è¿”å›çš„inputStreamï¼Œåˆ™è°ƒç”¨&#96;response.body().byteStream();&#96;ï¼Œæˆ‘ä»¬èƒ½æ‹¿åˆ°&#96;inputStream&#96;å°±å¯ä»¥é€šè¿‡IOçš„æ–¹å¼ä¸‹è½½å¤§æ–‡ä»¶ï¼ˆå†™æ–‡ä»¶ï¼‰ã€‚</span><br><span class="line">    - è¿˜æœ‰ä¸€ä¸ªé—®é¢˜&#96;onResponse&#96;æ‰§è¡Œçš„çº¿ç¨‹å¹¶ä¸æ˜¯UIçº¿ç¨‹ã€‚å¦‚æœå¸Œæœ›æ“ä½œæ§ä»¶ï¼Œè¿˜æ˜¯éœ€è¦ç”¨åˆ°handlerç­‰ã€‚å¦‚ï¼š</span><br><span class="line">    - &#96;&#96;&#96;java</span><br><span class="line">        @Override</span><br><span class="line">        public void onResponse(final Response response) throws IOException&#123;</span><br><span class="line">            final String res &#x3D; response.body().string();</span><br><span class="line">            runOnUiThread(new Runnable()&#123;</span><br><span class="line">                @Override</span><br><span class="line">                public void run()&#123;</span><br><span class="line">                    mTextView.setText(res);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>
    - æˆ‘ä»¬è¿™é‡Œæ˜¯å¼‚æ­¥çš„æ–¹å¼å»æ‰§è¡Œï¼Œå½“ç„¶ä¹Ÿæ”¯æŒé˜»å¡çš„æ–¹å¼ï¼Œä¸Šé¢ä¹Ÿè¯´äº†Callæœ‰ä¸€ä¸ª`execute()`æ–¹æ³•ï¼Œä½ ä¹Ÿå¯ä»¥ç›´æ¥è°ƒç”¨`call.execute()`é€šè¿‡è¿”å›ä¸€ä¸ª`Response`ã€‚
</code></pre>
<ol start="2">
<li>HttpPostæºå¸¦å‚æ•°</li>
</ol>
<pre><code>- å½“è¯·æ±‚éœ€è¦æäº¤å‚æ•°çš„æ—¶å€™ï¼Œæˆ‘ä»¬å°±ä¼šç”¨åˆ°postè¯·æ±‚ï¼Œå’ŒGetä¸åŒçš„å°±æ˜¯Requestæ„é€ çš„ä¸åŒ
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">Request request = buildMultipartFormRequest(url, <span class="keyword">new</span> File[]&#123;file&#125;, <span class="keyword">new</span> String[]&#123;fileKey&#125;, <span class="keyword">null</span>);</span><br><span class="line">FormEncodingBuilder builder = <span class="keyword">new</span> FormEncodingBuilder();</span><br><span class="line">builder.add(<span class="string">"username"</span>, <span class="string">"Lucifer"</span>);</span><br><span class="line"></span><br><span class="line">Request request = <span class="keyword">new</span> Request.Builder.url(url).post(builder.build()).build();</span><br><span class="line">client.newCall(request).enqueue(<span class="keyword">new</span> CallBack()&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onFailure</span><span class="params">(Request request, IOException e)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onResponse</span><span class="params">(<span class="keyword">final</span> Response response)</span> <span class="keyword">throws</span> IOException</span>&#123;</span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
- å¤§å®¶éƒ½æ¸…é™¤ï¼Œpostçš„çŸ¢è€¦ï¼Œå‚æ•°æ˜¯åŒ…å«åœ¨è¯·æ±‚ä½“ä¸­çš„ï¼›æ‰€ä»¥æˆ‘ä»¬é€šè¿‡FormEncodingBuilderã€‚æ·»åŠ å¤šä¸ªStringé”®å€¼å¯¹ï¼Œç„¶åå»æ„é€ RequestBodyï¼Œæœ€åå®Œæˆæˆ‘ä»¬Requestçš„æ„é€ ã€‚åé¢çš„å°±å’Œä¸Šé¢çš„æ˜¯ä¸€æ ·çš„äº†ã€‚
</code></pre>
<ol start="3">
<li>åŸºäºhttpçš„æ–‡ä»¶ä¸Šä¼ </li>
</ol>
<pre><code>- æ¥ä¸‹æ¥æˆ‘ä»¬å†ä»‹ç»ä¸€ä¸ªå¯ä»¥æ„é€ RequestBodyçš„Builderï¼Œå«åš`MultipartBuilder`ã€‚å½“æˆ‘ä»¬éœ€è¦åšç±»ä¼¼ä¸è¡¨å•ä¸Šä¼ çš„æ—¶å€™ï¼Œå°±å¯ä»¥ç”¨å®ƒæ¥æ„é€ æˆ‘ä»¬çš„requestBodyã€‚
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">File file = <span class="keyword">new</span> File(Environment.getExternalStorageDirectory(), <span class="string">"balabala.mp4"</span>);</span><br><span class="line"></span><br><span class="line">RequestBody fileBody = RequestBody.create(MediaType.parse(<span class="string">"application/octet-stream"</span>), file);</span><br><span class="line"></span><br><span class="line">RequestBody requestBody = <span class="keyword">new</span> MultipartBuilder()</span><br><span class="line">      .type(MultipartBuilder.FORM)</span><br><span class="line">      .addPart(Headers.of(<span class="string">"Content-Dispostion"</span>, <span class="string">"form-data; name=\"username\""</span>), RequestBody.create(<span class="keyword">null</span>, <span class="string">"Lucifer"</span>))</span><br><span class="line">      .addPart(Heafers.of(<span class="string">"Content-Dispostion"</span>, <span class="string">"form-data; name=\"mFile\"; fileName=\"wjd.mp4\""</span>), fileBody)</span><br><span class="line">      .build();</span><br><span class="line"></span><br><span class="line">Request request = <span class="keyword">new</span> Request.Builder()</span><br><span class="line">    .url(<span class="string">"http://192.168.1.103:8080/okHttpServer/fileUpload"</span>)</span><br><span class="line">    .post(requestBody)</span><br><span class="line">    .build();</span><br><span class="line"></span><br><span class="line">Call call = client.newCall(request);</span><br><span class="line">call.enqueue(<span class="keyword">new</span> CallBack()&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onFailure</span><span class="params">(Request request, IOException e)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onResponse</span><span class="params">(<span class="keyword">final</span> Response response)</span> <span class="keyword">throws</span> IOException</span>&#123;</span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
- ä¸Šè¿°ä»£ç å‘æœåŠ¡å™¨ä¼ é€’äº†ä¸€ä¸ªé”®å€¼å¯¹`username: Lucifer`å’Œä¸€ä¸ªæ–‡ä»¶ã€‚æˆ‘ä»¬é€šè¿‡MultipartBuilderçš„addPart()æ–¹æ³•å¯ä»¥æ·»åŠ é”®å€¼å¯¹æˆ–è€…æ–‡ä»¶ã€‚
- å…¶å®ç±»ä¼¼äºæˆ‘ä»¬æ‹¼æ¥æµè§ˆå™¨è¡Œä¸ºçš„æ–¹å¼
- **å›¾ç‰‡ä¸‹è½½ï¼š**é€šè¿‡å›è°ƒçš„Responseæ‹¿åˆ°byte[]ç„¶ådecodeæˆå›¾ç‰‡ï¼›
- **æ–‡ä»¶ä¸‹è½½ï¼š**é€šè¿‡æ‹¿åˆ°inputStreamåšå†™æ–‡ä»¶æ“ä½œã€‚
</code></pre>
<h2 id="ä¸‰-å°è£…"><a class="markdownIt-Anchor" href="#ä¸‰-å°è£…"></a> ä¸‰ã€å°è£…</h2>
<ul>
<li>ç”±äºæŒ‰ç…§ä¸Šè¿°çš„ä»£ç ï¼Œè¯·æ±‚å¤šäº†é‡å¤çš„ä»£ç å°±å¤šäº†ï¼Œæˆ‘ä»¬å°±å¸Œæœ›å°è£…è¿™äº›ä»£ç </li>
</ul>
<ol>
<li>ä½¿ç”¨ï¼š</li>
<li>ä¸€èˆ¬çš„getè¯·æ±‚</li>
</ol>
<pre><code><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">OkHttpClientManager.getAsyn(<span class="string">"https://www.baidu.com"</span>, <span class="keyword">new</span> OkHttpClientManager.ResultCallBack&lt;String&gt;()&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onError</span><span class="params">(Request request, Exception e)</span></span>&#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onResponse</span><span class="params">(String u)</span></span>&#123;</span><br><span class="line">        mTextView.setText(u);<span class="comment">//è¿™é‡Œæ˜¯UIçº¿ç¨‹</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
- å¯¹äºä¸€æŠŠçš„è¯·æ±‚ï¼Œæˆ‘ä»¬å¸Œæœ›ç»™ä¸ªurlï¼Œç„¶åCallBacké‡Œé¢ç›´æ¥æ“ä½œæ§ä»¶ã€‚
2. æ–‡ä»¶ä¸Šä¼ ä¸”æºå¸¦å‚æ•°
  - æˆ‘ä»¬å¸Œæœ›æä¾›ä¸€ä¸ªæ–¹æ³•ï¼Œä¼ å…¥url, params, file, callbackå³å¯ã€‚
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">OkHttpClientManager.postAsyn(<span class="string">"http://192.168.1.103:8080/okHttpServer/fileUpload"</span>, <span class="comment">//å‚æ•°1</span></span><br><span class="line">    <span class="keyword">new</span> OkHttpClientManager.ResultCallBack&lt;String&gt;()&#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onError</span><span class="params">(Request request, IOException e)</span></span>&#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onResponse</span><span class="params">(String result)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,<span class="comment">//å‚æ•°2</span></span><br><span class="line">    file, <span class="comment">//å‚æ•°3</span></span><br><span class="line">    <span class="string">"mFile"</span>,<span class="comment">//å‚æ•°4</span></span><br><span class="line">    <span class="keyword">new</span> OkHttpClientManager.Param[]&#123;</span><br><span class="line">        <span class="keyword">new</span> OkHttpClientManager.param(<span class="string">"username"</span>, <span class="string">"lt"</span>),</span><br><span class="line">        <span class="keyword">new</span> OkHttpClientManager.param(<span class="string">"password"</span>, <span class="string">"123"</span>)</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure>
  - å‚æ•°3ä¸ºfileï¼Œå‚æ•°4ä¸ºfileå¯¹åº”çš„nameï¼Œè¿™ä¸ªnameä¸æ˜¯æ–‡ä»¶çš„åå­—ï¼›
  - å¯¹åº”äºhttpä¸­çš„`&lt;input type=&quot;file&quot; name=&quot;mFile&quot; &gt;`
  - å¯¹åº”çš„æ˜¯nameåé¢çš„å€¼ï¼Œå³mFileã€‚
3. æ–‡ä»¶ä¸‹è½½
  - å¯¹äºæ–‡ä»¶ä¸‹è½½ï¼Œæä¾›urlï¼Œç›®æ ‡dirï¼Œcallbackå³å¯ã€‚
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">OkHttpClientManager.downloadAsyn(<span class="string">"http://192.168.1.103:8080/okHttpServer/files/message_01.png"</span>,<span class="comment">//</span></span><br><span class="line">    Environment.getExternalStorageDirectory().getAbsolutePath(),<span class="comment">//</span></span><br><span class="line">    <span class="keyword">new</span> OkHttpClientManager.ResultCallBack&lt;String&gt;()&#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onError</span><span class="params">(Request request, IOException e)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onResponse</span><span class="params">(String response)</span></span>&#123;</span><br><span class="line">            <span class="comment">//æ–‡ä»¶ä¸‹è½½æˆåŠŸï¼Œè¿™é‡Œå›è°ƒçš„responseä¸ºæ–‡ä»¶çš„absolutePath</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure>

4. å±•ç¤ºå›¾ç‰‡
  - å±•ç¤ºå›¾ç‰‡ï¼Œæˆ‘ä»¬å¸Œæœ›æä¾›ä¸€ä¸ªurlå’Œä¸€ä¸ªimageViewï¼Œå¦‚æœä¸‹è½½æˆåŠŸï¼Œç›´æ¥å¸®æˆ‘ä»¬è®¾ç½®ä¸Šå³å¯ã€‚
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">OkHttpClientManager.displayImage(mImageView, <span class="string">"http://192.168.1.103:8080/20150817/1.jpg"</span>);</span><br></pre></td></tr></table></figure>
  - å†…éƒ¨ä¼šè‡ªåŠ¨æ ¹æ®imageViewçš„å¤§å°è‡ªåŠ¨å¯¹å›¾ç‰‡è¿›è¡Œåˆé€‚çš„å‹ç¼©ã€‚è™½ç„¶ï¼Œè¿™é‡Œå¯èƒ½ä¸é€‚åˆä¸€æ¬¡æ€§åŠ è½½å¤§é‡å›¾ç‰‡çš„åœºæ™¯ï¼Œä½†æ˜¯å¯¹äºappä¸­å¶å°”æœ‰å‡ ä¸ªå›¾ç‰‡çš„åŠ è½½ï¼Œè¿˜æ˜¯å¯ç”¨çš„ã€‚
</code></pre>
<h2 id="å››-æ•´åˆgson"><a class="markdownIt-Anchor" href="#å››-æ•´åˆgson"></a> å››ã€æ•´åˆGson</h2>
<ul>
<li>é¡¹ç›®ä¸­ä½¿ç”¨æ—¶ï¼ŒæœåŠ¡ç«¯è¿”å›çš„æ˜¯Jsonå­—ç¬¦ä¸²ï¼Œå¸Œæœ›å®¢æˆ·ç«¯å›è°ƒå¯ä»¥ç›´æ¥æ‹¿åˆ°å¯¹è±¡ï¼Œäºæ˜¯æ•´åˆè¿›å…¥Gsonã€‚</li>
</ul>
<ol>
<li>ç›´æ¥å›è°ƒå¯¹è±¡</li>
</ol>
<pre><code>- ä¾‹å¦‚ç°åœ¨æœ‰ä¸ªUserå®ä½“ç±»ï¼š
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> String username;</span><br><span class="line">    <span class="keyword">public</span> String password;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">User</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">User</span><span class="params">(String username, String password)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.username = username;</span><br><span class="line">        <span class="keyword">this</span>.password = password;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"User&#123;"</span>+</span><br><span class="line">                <span class="string">"username='"</span> + username + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">",password='"</span> + password + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">"&#125;"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
- æœåŠ¡ç«¯è¿”å›ï¼š``{&quot;username&quot;:&quot;lt&quot;, &quot;password&quot;:&quot;123&quot;}``
- å®¢æˆ·ç«¯å¯ä»¥å¦‚ä¸‹æ–¹å¼çš„è°ƒç”¨ï¼š
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">OkHttpClientManager.getAsyn(<span class="string">"http://192.168.56.1:8080/okHttpServer/user!getUser"</span>,</span><br><span class="line">    <span class="keyword">new</span> OkHttpClientManager.ResultCallBack&lt;User&gt;()&#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onError</span><span class="params">(Request request, Exception e)</span></span>&#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onResponse</span><span class="params">(User user)</span></span>&#123;</span><br><span class="line">            mTextView.setText(user.toString());<span class="comment">//UIçº¿ç¨‹</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure>
- æˆ‘ä»¬ä¼ å…¥æ³›å‹Userï¼Œåœ¨onResponseé‡Œé¢ç›´æ¥å›è°ƒUserå¯¹è±¡ã€‚
- **æ³¨æ„ï¼š**å¦‚æœåœ¨`jsonå­—ç¬¦ä¸²-&gt;å®ä½“å¯¹è±¡`è¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯ï¼Œç¨‹åºä¸ä¼šå´©æºƒï¼Œ`onError`æ–¹æ³•ä¼šè¢«å›è°ƒã€‚
</code></pre>
<ol start="2">
<li>å›è°ƒå¯¹è±¡é›†åˆ</li>
</ol>
<pre><code>- ä¾ç„¶æ˜¯ä¸Šè¿°çš„Userç±»ï¼ŒæœåŠ¡ç«¯è¿”å›
  - ``[{&quot;username&quot;:&quot;lt&quot;,&quot;password&quot;:&quot;123&quot;},{&quot;username&quot;:&quot;chl&quot;,&quot;password&quot;:&quot;12345&quot;}]``
- åˆ™å®¢æˆ·ç«¯å¯ä»¥å¦‚ä¸‹è°ƒç”¨ï¼š
  - ```java
      OkHttpClientManager.getAsyn(&quot;http://192.168.56.1:8080/okHttpServer/user!getUsers&quot;,//
          new OkHttpClientManager.ResultCallBack&lt;List&lt;User&gt;&gt;(){
              @Override
              public void onError(Request request, Exception e){
                  e.printStackTrace();
              }

              @Override
              public void onResponse(List&lt;User&gt; us){
                  Log.e(&quot;TAG&quot;, us.size() + &quot; &quot;);
                  mTextView.setText(us.get(1).toString());
              }
          });
    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br></pre></td><td class="code"><pre><span class="line">      - å”¯ä¸€çš„åŒºåˆ«ï¼Œå°±æ˜¯æ³›å‹å˜æˆäº†&#96;List&lt;User&gt;&#96;ã€‚</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### OkHttpClientManagerçš„æºç </span><br><span class="line">&#96;&#96;&#96;java</span><br><span class="line">public class OkHttpClientManager</span><br><span class="line">&#123;</span><br><span class="line">    private static OkHttpClientManager mInstance;</span><br><span class="line">    private OkHttpClient mOkHttpClient;</span><br><span class="line">    private Handler mDelivery;</span><br><span class="line">    private Gson mGson;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    private static final String TAG &#x3D; &quot;OkHttpClientManager&quot;;</span><br><span class="line"></span><br><span class="line">    private OkHttpClientManager()</span><br><span class="line">    &#123;</span><br><span class="line">        mOkHttpClient &#x3D; new OkHttpClient();</span><br><span class="line">        &#x2F;&#x2F;cookie enabled</span><br><span class="line">        mOkHttpClient.setCookieHandler(new CookieManager(null, CookiePolicy.ACCEPT_ORIGINAL_SERVER));</span><br><span class="line">        mDelivery &#x3D; new Handler(Looper.getMainLooper());</span><br><span class="line">        mGson &#x3D; new Gson();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static OkHttpClientManager getInstance()</span><br><span class="line">    &#123;</span><br><span class="line">        if (mInstance &#x3D;&#x3D; null)</span><br><span class="line">        &#123;</span><br><span class="line">            synchronized (OkHttpClientManager.class)</span><br><span class="line">            &#123;</span><br><span class="line">                if (mInstance &#x3D;&#x3D; null)</span><br><span class="line">                &#123;</span><br><span class="line">                    mInstance &#x3D; new OkHttpClientManager();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return mInstance;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;**</span><br><span class="line">     * åŒæ­¥çš„Getè¯·æ±‚</span><br><span class="line">     *</span><br><span class="line">     * @param url</span><br><span class="line">     * @return Response</span><br><span class="line">     *&#x2F;</span><br><span class="line">    private Response _getAsyn(String url) throws IOException</span><br><span class="line">    &#123;</span><br><span class="line">        final Request request &#x3D; new Request.Builder()</span><br><span class="line">                .url(url)</span><br><span class="line">                .build();</span><br><span class="line">        Call call &#x3D; mOkHttpClient.newCall(request);</span><br><span class="line">        Response execute &#x3D; call.execute();</span><br><span class="line">        return execute;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;**</span><br><span class="line">     * åŒæ­¥çš„Getè¯·æ±‚</span><br><span class="line">     *</span><br><span class="line">     * @param url</span><br><span class="line">     * @return å­—ç¬¦ä¸²</span><br><span class="line">     *&#x2F;</span><br><span class="line">    private String _getAsString(String url) throws IOException</span><br><span class="line">    &#123;</span><br><span class="line">        Response execute &#x3D; _getAsyn(url);</span><br><span class="line">        return execute.body().string();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#x2F;**</span><br><span class="line">     * å¼‚æ­¥çš„getè¯·æ±‚</span><br><span class="line">     *</span><br><span class="line">     * @param url</span><br><span class="line">     * @param callback</span><br><span class="line">     *&#x2F;</span><br><span class="line">    private void _getAsyn(String url, final ResultCallback callback)</span><br><span class="line">    &#123;</span><br><span class="line">        final Request request &#x3D; new Request.Builder()</span><br><span class="line">                .url(url)</span><br><span class="line">                .build();</span><br><span class="line">        deliveryResult(callback, request);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#x2F;**</span><br><span class="line">     * åŒæ­¥çš„Postè¯·æ±‚</span><br><span class="line">     *</span><br><span class="line">     * @param url</span><br><span class="line">     * @param params postçš„å‚æ•°</span><br><span class="line">     * @return</span><br><span class="line">     *&#x2F;</span><br><span class="line">    private Response _post(String url, Param... params) throws IOException</span><br><span class="line">    &#123;</span><br><span class="line">        Request request &#x3D; buildPostRequest(url, params);</span><br><span class="line">        Response response &#x3D; mOkHttpClient.newCall(request).execute();</span><br><span class="line">        return response;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#x2F;**</span><br><span class="line">     * åŒæ­¥çš„Postè¯·æ±‚</span><br><span class="line">     *</span><br><span class="line">     * @param url</span><br><span class="line">     * @param params postçš„å‚æ•°</span><br><span class="line">     * @return å­—ç¬¦ä¸²</span><br><span class="line">     *&#x2F;</span><br><span class="line">    private String _postAsString(String url, Param... params) throws IOException</span><br><span class="line">    &#123;</span><br><span class="line">        Response response &#x3D; _post(url, params);</span><br><span class="line">        return response.body().string();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;**</span><br><span class="line">     * å¼‚æ­¥çš„postè¯·æ±‚</span><br><span class="line">     *</span><br><span class="line">     * @param url</span><br><span class="line">     * @param callback</span><br><span class="line">     * @param params</span><br><span class="line">     *&#x2F;</span><br><span class="line">    private void _postAsyn(String url, final ResultCallback callback, Param... params)</span><br><span class="line">    &#123;</span><br><span class="line">        Request request &#x3D; buildPostRequest(url, params);</span><br><span class="line">        deliveryResult(callback, request);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;**</span><br><span class="line">     * å¼‚æ­¥çš„postè¯·æ±‚</span><br><span class="line">     *</span><br><span class="line">     * @param url</span><br><span class="line">     * @param callback</span><br><span class="line">     * @param params</span><br><span class="line">     *&#x2F;</span><br><span class="line">    private void _postAsyn(String url, final ResultCallback callback, Map&lt;String, String&gt; params)</span><br><span class="line">    &#123;</span><br><span class="line">        Param[] paramsArr &#x3D; map2Params(params);</span><br><span class="line">        Request request &#x3D; buildPostRequest(url, paramsArr);</span><br><span class="line">        deliveryResult(callback, request);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;**</span><br><span class="line">     * åŒæ­¥åŸºäºpostçš„æ–‡ä»¶ä¸Šä¼ </span><br><span class="line">     *</span><br><span class="line">     * @param params</span><br><span class="line">     * @return</span><br><span class="line">     *&#x2F;</span><br><span class="line">    private Response _post(String url, File[] files, String[] fileKeys, Param... params) throws IOException</span><br><span class="line">    &#123;</span><br><span class="line">        Request request &#x3D; buildMultipartFormRequest(url, files, fileKeys, params);</span><br><span class="line">        return mOkHttpClient.newCall(request).execute();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private Response _post(String url, File file, String fileKey) throws IOException</span><br><span class="line">    &#123;</span><br><span class="line">        Request request &#x3D; buildMultipartFormRequest(url, new File[]&#123;file&#125;, new String[]&#123;fileKey&#125;, null);</span><br><span class="line">        return mOkHttpClient.newCall(request).execute();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private Response _post(String url, File file, String fileKey, Param... params) throws IOException</span><br><span class="line">    &#123;</span><br><span class="line">        Request request &#x3D; buildMultipartFormRequest(url, new File[]&#123;file&#125;, new String[]&#123;fileKey&#125;, params);</span><br><span class="line">        return mOkHttpClient.newCall(request).execute();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;**</span><br><span class="line">     * å¼‚æ­¥åŸºäºpostçš„æ–‡ä»¶ä¸Šä¼ </span><br><span class="line">     *</span><br><span class="line">     * @param url</span><br><span class="line">     * @param callback</span><br><span class="line">     * @param files</span><br><span class="line">     * @param fileKeys</span><br><span class="line">     * @throws IOException</span><br><span class="line">     *&#x2F;</span><br><span class="line">    private void _postAsyn(String url, ResultCallback callback, File[] files, String[] fileKeys, Param... params) throws IOException</span><br><span class="line">    &#123;</span><br><span class="line">        Request request &#x3D; buildMultipartFormRequest(url, files, fileKeys, params);</span><br><span class="line">        deliveryResult(callback, request);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;**</span><br><span class="line">     * å¼‚æ­¥åŸºäºpostçš„æ–‡ä»¶ä¸Šä¼ ï¼Œå•æ–‡ä»¶ä¸å¸¦å‚æ•°ä¸Šä¼ </span><br><span class="line">     *</span><br><span class="line">     * @param url</span><br><span class="line">     * @param callback</span><br><span class="line">     * @param file</span><br><span class="line">     * @param fileKey</span><br><span class="line">     * @throws IOException</span><br><span class="line">     *&#x2F;</span><br><span class="line">    private void _postAsyn(String url, ResultCallback callback, File file, String fileKey) throws IOException</span><br><span class="line">    &#123;</span><br><span class="line">        Request request &#x3D; buildMultipartFormRequest(url, new File[]&#123;file&#125;, new String[]&#123;fileKey&#125;, null);</span><br><span class="line">        deliveryResult(callback, request);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;**</span><br><span class="line">     * å¼‚æ­¥åŸºäºpostçš„æ–‡ä»¶ä¸Šä¼ ï¼Œå•æ–‡ä»¶ä¸”æºå¸¦å…¶ä»–formå‚æ•°ä¸Šä¼ </span><br><span class="line">     *</span><br><span class="line">     * @param url</span><br><span class="line">     * @param callback</span><br><span class="line">     * @param file</span><br><span class="line">     * @param fileKey</span><br><span class="line">     * @param params</span><br><span class="line">     * @throws IOException</span><br><span class="line">     *&#x2F;</span><br><span class="line">    private void _postAsyn(String url, ResultCallback callback, File file, String fileKey, Param... params) throws IOException</span><br><span class="line">    &#123;</span><br><span class="line">        Request request &#x3D; buildMultipartFormRequest(url, new File[]&#123;file&#125;, new String[]&#123;fileKey&#125;, params);</span><br><span class="line">        deliveryResult(callback, request);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;**</span><br><span class="line">     * å¼‚æ­¥ä¸‹è½½æ–‡ä»¶</span><br><span class="line">     *</span><br><span class="line">     * @param url</span><br><span class="line">     * @param destFileDir æœ¬åœ°æ–‡ä»¶å­˜å‚¨çš„æ–‡ä»¶å¤¹</span><br><span class="line">     * @param callback</span><br><span class="line">     *&#x2F;</span><br><span class="line">    private void _downloadAsyn(final String url, final String destFileDir, final ResultCallback callback)</span><br><span class="line">    &#123;</span><br><span class="line">        final Request request &#x3D; new Request.Builder()</span><br><span class="line">                .url(url)</span><br><span class="line">                .build();</span><br><span class="line">        final Call call &#x3D; mOkHttpClient.newCall(request);</span><br><span class="line">        call.enqueue(new Callback()</span><br><span class="line">        &#123;</span><br><span class="line">            @Override</span><br><span class="line">            public void onFailure(final Request request, final IOException e)</span><br><span class="line">            &#123;</span><br><span class="line">                sendFailedStringCallback(request, e, callback);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            @Override</span><br><span class="line">            public void onResponse(Response response)</span><br><span class="line">            &#123;</span><br><span class="line">                InputStream is &#x3D; null;</span><br><span class="line">                byte[] buf &#x3D; new byte[2048];</span><br><span class="line">                int len &#x3D; 0;</span><br><span class="line">                FileOutputStream fos &#x3D; null;</span><br><span class="line">                try</span><br><span class="line">                &#123;</span><br><span class="line">                    is &#x3D; response.body().byteStream();</span><br><span class="line">                    File file &#x3D; new File(destFileDir, getFileName(url));</span><br><span class="line">                    fos &#x3D; new FileOutputStream(file);</span><br><span class="line">                    while ((len &#x3D; is.read(buf)) !&#x3D; -1)</span><br><span class="line">                    &#123;</span><br><span class="line">                        fos.write(buf, 0, len);</span><br><span class="line">                    &#125;</span><br><span class="line">                    fos.flush();</span><br><span class="line">                    &#x2F;&#x2F;å¦‚æœä¸‹è½½æ–‡ä»¶æˆåŠŸï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¸ºæ–‡ä»¶çš„ç»å¯¹è·¯å¾„</span><br><span class="line">                    sendSuccessResultCallback(file.getAbsolutePath(), callback);</span><br><span class="line">                &#125; catch (IOException e)</span><br><span class="line">                &#123;</span><br><span class="line">                    sendFailedStringCallback(response.request(), e, callback);</span><br><span class="line">                &#125; finally</span><br><span class="line">                &#123;</span><br><span class="line">                    try</span><br><span class="line">                    &#123;</span><br><span class="line">                        if (is !&#x3D; null) is.close();</span><br><span class="line">                    &#125; catch (IOException e)</span><br><span class="line">                    &#123;</span><br><span class="line">                    &#125;</span><br><span class="line">                    try</span><br><span class="line">                    &#123;</span><br><span class="line">                        if (fos !&#x3D; null) fos.close();</span><br><span class="line">                    &#125; catch (IOException e)</span><br><span class="line">                    &#123;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private String getFileName(String path)</span><br><span class="line">    &#123;</span><br><span class="line">        int separatorIndex &#x3D; path.lastIndexOf(&quot;&#x2F;&quot;);</span><br><span class="line">        return (separatorIndex &lt; 0) ? path : path.substring(separatorIndex + 1, path.length());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;**</span><br><span class="line">     * åŠ è½½å›¾ç‰‡</span><br><span class="line">     *</span><br><span class="line">     * @param view</span><br><span class="line">     * @param url</span><br><span class="line">     * @throws IOException</span><br><span class="line">     *&#x2F;</span><br><span class="line">    private void _displayImage(final ImageView view, final String url, final int errorResId)</span><br><span class="line">    &#123;</span><br><span class="line">        final Request request &#x3D; new Request.Builder()</span><br><span class="line">                .url(url)</span><br><span class="line">                .build();</span><br><span class="line">        Call call &#x3D; mOkHttpClient.newCall(request);</span><br><span class="line">        call.enqueue(new Callback()</span><br><span class="line">        &#123;</span><br><span class="line">            @Override</span><br><span class="line">            public void onFailure(Request request, IOException e)</span><br><span class="line">            &#123;</span><br><span class="line">                setErrorResId(view, errorResId);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            @Override</span><br><span class="line">            public void onResponse(Response response)</span><br><span class="line">            &#123;</span><br><span class="line">                InputStream is &#x3D; null;</span><br><span class="line">                try</span><br><span class="line">                &#123;</span><br><span class="line">                    is &#x3D; response.body().byteStream();</span><br><span class="line">                    ImageUtils.ImageSize actualImageSize &#x3D; ImageUtils.getImageSize(is);</span><br><span class="line">                    ImageUtils.ImageSize imageViewSize &#x3D; ImageUtils.getImageViewSize(view);</span><br><span class="line">                    int inSampleSize &#x3D; ImageUtils.calculateInSampleSize(actualImageSize, imageViewSize);</span><br><span class="line">                    try</span><br><span class="line">                    &#123;</span><br><span class="line">                        is.reset();</span><br><span class="line">                    &#125; catch (IOException e)</span><br><span class="line">                    &#123;</span><br><span class="line">                        response &#x3D; _getAsyn(url);</span><br><span class="line">                        is &#x3D; response.body().byteStream();</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    BitmapFactory.Options ops &#x3D; new BitmapFactory.Options();</span><br><span class="line">                    ops.inJustDecodeBounds &#x3D; false;</span><br><span class="line">                    ops.inSampleSize &#x3D; inSampleSize;</span><br><span class="line">                    final Bitmap bm &#x3D; BitmapFactory.decodeStream(is, null, ops);</span><br><span class="line">                    mDelivery.post(new Runnable()</span><br><span class="line">                    &#123;</span><br><span class="line">                        @Override</span><br><span class="line">                        public void run()</span><br><span class="line">                        &#123;</span><br><span class="line">                            view.setImageBitmap(bm);</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;);</span><br><span class="line">                &#125; catch (Exception e)</span><br><span class="line">                &#123;</span><br><span class="line">                    setErrorResId(view, errorResId);</span><br><span class="line"></span><br><span class="line">                &#125; finally</span><br><span class="line">                &#123;</span><br><span class="line">                    if (is !&#x3D; null) try</span><br><span class="line">                    &#123;</span><br><span class="line">                        is.close();</span><br><span class="line">                    &#125; catch (IOException e)</span><br><span class="line">                    &#123;</span><br><span class="line">                        e.printStackTrace();</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private void setErrorResId(final ImageView view, final int errorResId)</span><br><span class="line">    &#123;</span><br><span class="line">        mDelivery.post(new Runnable()</span><br><span class="line">        &#123;</span><br><span class="line">            @Override</span><br><span class="line">            public void run()</span><br><span class="line">            &#123;</span><br><span class="line">                view.setImageResource(errorResId);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;*************å¯¹å¤–å…¬å¸ƒçš„æ–¹æ³•************</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    public static Response getAsyn(String url) throws IOException</span><br><span class="line">    &#123;</span><br><span class="line">        return getInstance()._getAsyn(url);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    public static String getAsString(String url) throws IOException</span><br><span class="line">    &#123;</span><br><span class="line">        return getInstance()._getAsString(url);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static void getAsyn(String url, ResultCallback callback)</span><br><span class="line">    &#123;</span><br><span class="line">        getInstance()._getAsyn(url, callback);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static Response post(String url, Param... params) throws IOException</span><br><span class="line">    &#123;</span><br><span class="line">        return getInstance()._post(url, params);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static String postAsString(String url, Param... params) throws IOException</span><br><span class="line">    &#123;</span><br><span class="line">        return getInstance()._postAsString(url, params);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static void postAsyn(String url, final ResultCallback callback, Param... params)</span><br><span class="line">    &#123;</span><br><span class="line">        getInstance()._postAsyn(url, callback, params);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    public static void postAsyn(String url, final ResultCallback callback, Map&lt;String, String&gt; params)</span><br><span class="line">    &#123;</span><br><span class="line">        getInstance()._postAsyn(url, callback, params);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    public static Response post(String url, File[] files, String[] fileKeys, Param... params) throws IOException</span><br><span class="line">    &#123;</span><br><span class="line">        return getInstance()._post(url, files, fileKeys, params);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static Response post(String url, File file, String fileKey) throws IOException</span><br><span class="line">    &#123;</span><br><span class="line">        return getInstance()._post(url, file, fileKey);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static Response post(String url, File file, String fileKey, Param... params) throws IOException</span><br><span class="line">    &#123;</span><br><span class="line">        return getInstance()._post(url, file, fileKey, params);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static void postAsyn(String url, ResultCallback callback, File[] files, String[] fileKeys, Param... params) throws IOException</span><br><span class="line">    &#123;</span><br><span class="line">        getInstance()._postAsyn(url, callback, files, fileKeys, params);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    public static void postAsyn(String url, ResultCallback callback, File file, String fileKey) throws IOException</span><br><span class="line">    &#123;</span><br><span class="line">        getInstance()._postAsyn(url, callback, file, fileKey);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    public static void postAsyn(String url, ResultCallback callback, File file, String fileKey, Param... params) throws IOException</span><br><span class="line">    &#123;</span><br><span class="line">        getInstance()._postAsyn(url, callback, file, fileKey, params);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static void displayImage(final ImageView view, String url, int errorResId) throws IOException</span><br><span class="line">    &#123;</span><br><span class="line">        getInstance()._displayImage(view, url, errorResId);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    public static void displayImage(final ImageView view, String url)</span><br><span class="line">    &#123;</span><br><span class="line">        getInstance()._displayImage(view, url, -1);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static void downloadAsyn(String url, String destDir, ResultCallback callback)</span><br><span class="line">    &#123;</span><br><span class="line">        getInstance()._downloadAsyn(url, destDir, callback);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;****************************</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    private Request buildMultipartFormRequest(String url, File[] files,</span><br><span class="line">                                              String[] fileKeys, Param[] params)</span><br><span class="line">    &#123;</span><br><span class="line">        params &#x3D; validateParam(params);</span><br><span class="line"></span><br><span class="line">        MultipartBuilder builder &#x3D; new MultipartBuilder()</span><br><span class="line">                .type(MultipartBuilder.FORM);</span><br><span class="line"></span><br><span class="line">        for (Param param : params)</span><br><span class="line">        &#123;</span><br><span class="line">            builder.addPart(Headers.of(&quot;Content-Disposition&quot;, &quot;form-data; name&#x3D;\&quot;&quot; + param.key + &quot;\&quot;&quot;),</span><br><span class="line">                    RequestBody.create(null, param.value));</span><br><span class="line">        &#125;</span><br><span class="line">        if (files !&#x3D; null)</span><br><span class="line">        &#123;</span><br><span class="line">            RequestBody fileBody &#x3D; null;</span><br><span class="line">            for (int i &#x3D; 0; i &lt; files.length; i++)</span><br><span class="line">            &#123;</span><br><span class="line">                File file &#x3D; files[i];</span><br><span class="line">                String fileName &#x3D; file.getName();</span><br><span class="line">                fileBody &#x3D; RequestBody.create(MediaType.parse(guessMimeType(fileName)), file);</span><br><span class="line">                &#x2F;&#x2F;TODO æ ¹æ®æ–‡ä»¶åè®¾ç½®contentType</span><br><span class="line">                builder.addPart(Headers.of(&quot;Content-Disposition&quot;,</span><br><span class="line">                                &quot;form-data; name&#x3D;\&quot;&quot; + fileKeys[i] + &quot;\&quot;; filename&#x3D;\&quot;&quot; + fileName + &quot;\&quot;&quot;),</span><br><span class="line">                        fileBody);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        RequestBody requestBody &#x3D; builder.build();</span><br><span class="line">        return new Request.Builder()</span><br><span class="line">                .url(url)</span><br><span class="line">                .post(requestBody)</span><br><span class="line">                .build();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private String guessMimeType(String path)</span><br><span class="line">    &#123;</span><br><span class="line">        FileNameMap fileNameMap &#x3D; URLConnection.getFileNameMap();</span><br><span class="line">        String contentTypeFor &#x3D; fileNameMap.getContentTypeFor(path);</span><br><span class="line">        if (contentTypeFor &#x3D;&#x3D; null)</span><br><span class="line">        &#123;</span><br><span class="line">            contentTypeFor &#x3D; &quot;application&#x2F;octet-stream&quot;;</span><br><span class="line">        &#125;</span><br><span class="line">        return contentTypeFor;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    private Param[] validateParam(Param[] params)</span><br><span class="line">    &#123;</span><br><span class="line">        if (params &#x3D;&#x3D; null)</span><br><span class="line">            return new Param[0];</span><br><span class="line">        else return params;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private Param[] map2Params(Map&lt;String, String&gt; params)</span><br><span class="line">    &#123;</span><br><span class="line">        if (params &#x3D;&#x3D; null) return new Param[0];</span><br><span class="line">        int size &#x3D; params.size();</span><br><span class="line">        Param[] res &#x3D; new Param[size];</span><br><span class="line">        Set&lt;Map.Entry&lt;String, String&gt;&gt; entries &#x3D; params.entrySet();</span><br><span class="line">        int i &#x3D; 0;</span><br><span class="line">        for (Map.Entry&lt;String, String&gt; entry : entries)</span><br><span class="line">        &#123;</span><br><span class="line">            res[i++] &#x3D; new Param(entry.getKey(), entry.getValue());</span><br><span class="line">        &#125;</span><br><span class="line">        return res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private static final String SESSION_KEY &#x3D; &quot;Set-Cookie&quot;;</span><br><span class="line">    private static final String mSessionKey &#x3D; &quot;JSESSIONID&quot;;</span><br><span class="line"></span><br><span class="line">    private Map&lt;String, String&gt; mSessions &#x3D; new HashMap&lt;String, String&gt;();</span><br><span class="line"></span><br><span class="line">    private void deliveryResult(final ResultCallback callback, Request request)</span><br><span class="line">    &#123;</span><br><span class="line">        mOkHttpClient.newCall(request).enqueue(new Callback()</span><br><span class="line">        &#123;</span><br><span class="line">            @Override</span><br><span class="line">            public void onFailure(final Request request, final IOException e)</span><br><span class="line">            &#123;</span><br><span class="line">                sendFailedStringCallback(request, e, callback);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            @Override</span><br><span class="line">            public void onResponse(final Response response)</span><br><span class="line">            &#123;</span><br><span class="line">                try</span><br><span class="line">                &#123;</span><br><span class="line">                    final String string &#x3D; response.body().string();</span><br><span class="line">                    if (callback.mType &#x3D;&#x3D; String.class)</span><br><span class="line">                    &#123;</span><br><span class="line">                        sendSuccessResultCallback(string, callback);</span><br><span class="line">                    &#125; else</span><br><span class="line">                    &#123;</span><br><span class="line">                        Object o &#x3D; mGson.fromJson(string, callback.mType);</span><br><span class="line">                        sendSuccessResultCallback(o, callback);</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                &#125; catch (IOException e)</span><br><span class="line">                &#123;</span><br><span class="line">                    sendFailedStringCallback(response.request(), e, callback);</span><br><span class="line">                &#125; catch (com.google.gson.JsonParseException e)&#x2F;&#x2F;Jsonè§£æçš„é”™è¯¯</span><br><span class="line">                &#123;</span><br><span class="line">                    sendFailedStringCallback(response.request(), e, callback);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private void sendFailedStringCallback(final Request request, final Exception e, final ResultCallback callback)</span><br><span class="line">    &#123;</span><br><span class="line">        mDelivery.post(new Runnable()</span><br><span class="line">        &#123;</span><br><span class="line">            @Override</span><br><span class="line">            public void run()</span><br><span class="line">            &#123;</span><br><span class="line">                if (callback !&#x3D; null)</span><br><span class="line">                    callback.onError(request, e);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private void sendSuccessResultCallback(final Object object, final ResultCallback callback)</span><br><span class="line">    &#123;</span><br><span class="line">        mDelivery.post(new Runnable()</span><br><span class="line">        &#123;</span><br><span class="line">            @Override</span><br><span class="line">            public void run()</span><br><span class="line">            &#123;</span><br><span class="line">                if (callback !&#x3D; null)</span><br><span class="line">                &#123;</span><br><span class="line">                    callback.onResponse(object);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private Request buildPostRequest(String url, Param[] params)</span><br><span class="line">    &#123;</span><br><span class="line">        if (params &#x3D;&#x3D; null)</span><br><span class="line">        &#123;</span><br><span class="line">            params &#x3D; new Param[0];</span><br><span class="line">        &#125;</span><br><span class="line">        FormEncodingBuilder builder &#x3D; new FormEncodingBuilder();</span><br><span class="line">        for (Param param : params)</span><br><span class="line">        &#123;</span><br><span class="line">            builder.add(param.key, param.value);</span><br><span class="line">        &#125;</span><br><span class="line">        RequestBody requestBody &#x3D; builder.build();</span><br><span class="line">        return new Request.Builder()</span><br><span class="line">                .url(url)</span><br><span class="line">                .post(requestBody)</span><br><span class="line">                .build();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    public static abstract class ResultCallback&lt;T&gt;</span><br><span class="line">    &#123;</span><br><span class="line">        Type mType;</span><br><span class="line"></span><br><span class="line">        public ResultCallback()</span><br><span class="line">        &#123;</span><br><span class="line">            mType &#x3D; getSuperclassTypeParameter(getClass());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        static Type getSuperclassTypeParameter(Class&lt;?&gt; subclass)</span><br><span class="line">        &#123;</span><br><span class="line">            Type superclass &#x3D; subclass.getGenericSuperclass();</span><br><span class="line">            if (superclass instanceof Class)</span><br><span class="line">            &#123;</span><br><span class="line">                throw new RuntimeException(&quot;Missing type parameter.&quot;);</span><br><span class="line">            &#125;</span><br><span class="line">            ParameterizedType parameterized &#x3D; (ParameterizedType) superclass;</span><br><span class="line">            return $Gson$Types.canonicalize(parameterized.getActualTypeArguments()[0]);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        public abstract void onError(Request request, Exception e);</span><br><span class="line"></span><br><span class="line">        public abstract void onResponse(T response);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static class Param</span><br><span class="line">    &#123;</span><br><span class="line">        public Param()</span><br><span class="line">        &#123;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        public Param(String key, String value)</span><br><span class="line">        &#123;</span><br><span class="line">            this.key &#x3D; key;</span><br><span class="line">            this.value &#x3D; value;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        String key;</span><br><span class="line">        String value;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</code></pre>
<hr />
<p>å‚è€ƒæ–‡çŒ®ï¼š</p>
<ul>
<li><a href="https://square.github.io/okhttp/" target="_blank">[okhttpå®˜æ–¹æ–‡æ¡£]</a></li>
<li><a href="http://blog.csdn.net/lmj623565791/article/details/23781773" target="_blank">[ å¼ é¸¿æ´‹çš„åšå®¢â€”â€”ä»åŸç†è§’åº¦è§£æAndroid ï¼ˆJavaï¼‰ http æ–‡ä»¶ä¸Šä¼  ]</a></li>
<li><a href="http://blog.csdn.net/lmj623565791/article/details/47911083" target="_blank">[Android OkHttpå®Œå…¨è§£æ]</a></li>
<li><a href="https://square.github.io/okhttp/3.x/okhttp/" target="_blank">[OkHttpå®˜æ–¹APIæ–‡æ¡£]</a></li>
<li><a href="https://github.com/square/okhttp/" target="_blank" rel="noopener">https://github.com/square/okhttp/</a></li>
<li><a href="https://github.com/hongyangAndroid/okhttp-utils" target="_blank" rel="noopener">https://github.com/hongyangAndroid/okhttp-utils</a></li>
</ul>
]]></content>
      
        <categories>
            
            <category> Android </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[Javaä¸­çš„æ­£åˆ™è¡¨è¾¾å¼]]></title>
      <url>http://tech.noexception.cn/2016/09/17/Java%25E4%25B8%25AD%25E7%259A%2584%25E6%25AD%25A3%25E5%2588%2599%25E8%25A1%25A8%25E8%25BE%25BE%25E5%25BC%258F/</url>
      <content type="html"><![CDATA[<p>Â Â Â Â Â Â Â Â å¾ˆä¹…ä»¥å‰ï¼Œæ­£åˆ™è¡¨è¾¾å¼å°±å·²ç»æ•´åˆåˆ°æ ‡å‡†Unixå·¥å…·é›†ä¹‹ä¸­ï¼Œä¾‹å¦‚sedå’Œawkï¼Œä»¥åŠç¨‹åºè®¾è®¡è¯­è¨€ä¹‹ä¸­äº†ï¼Œä¾‹å¦‚Pythonå’ŒPerlã€‚è€Œåœ¨JAVAä¸­ï¼Œå­—ç¬¦ä¸²æ“ä½œè¿˜ä¸»è¦é›†ä¸­äºStringã€StringBufferå’ŒStringTokenizerç±»ã€‚ä¸æ­£åˆ™è¡¨è¾¾å¼ç›¸æ¯”è¾ƒï¼Œä»–ä»¬åªèƒ½æä¾›ç›¸å½“ç®€å•çš„åŠŸèƒ½ã€‚</p>
<a id="more"></a>
<h3 id="åŸºç¡€"><a class="markdownIt-Anchor" href="#åŸºç¡€"></a> åŸºç¡€</h3>
<ul>
<li>ä¸€èˆ¬æ¥è¯´ï¼Œæ­£åˆ™è¡¨è¾¾å¼å°±æ˜¯ä»¥æŸç§æ–¹å¼æè¿°å­—ç¬¦ä¸²ï¼Œå› æ­¤ä½ å¯ä»¥è¯´ï¼šâ€œå¦‚æœä¸€ä¸ªå­—ç¬¦ä¸²å«æœ‰è¿™äº›ä¸œè¥¿ï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯æˆ‘æ­£åœ¨æ‰¾çš„ä¸œè¥¿ã€‚â€ä¾‹å¦‚ï¼Œè¦æ‰¾ä¸€ä¸ªæ•°å­—ï¼Œå®ƒå¯èƒ½æœ‰ä¸€ä¸ªè´Ÿå·åœ¨æœ€å‰é¢ï¼Œé‚£ä½ å°±å†™ä¸€ä¸ªè´Ÿå·åŠ ä¸Šä¸€ä¸ªé—®å·ï¼Œå°±åƒè¿™æ ·ï¼š<code>-?</code> è¦æè¿°ä¸€ä¸ªæ•´æ•°ï¼Œä½ å¯ä»¥è¯´å®ƒæœ‰ä¸€ä½æˆ–å¤šä½é˜¿æ‹‰ä¼¯æ•°å­—ã€‚åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­ï¼Œç”¨<code>\d</code>è¡¨ç¤ºä¸€ä½æ•°å­—ã€‚å¦‚æœåœ¨å…¶ä»–è¯­è¨€ä¸­ä½¿ç”¨è¿‡æ­£åˆ™è¡¨è¾¾å¼ï¼Œé‚£ä½ ç«‹åˆ»å°±èƒ½å‘ç°Javaå¯¹åæ–œæ <code>\</code>çš„ä¸åŒå¤„ç†ã€‚åœ¨å…¶ä»–è¯­è¨€ä¸­ï¼Œ<code>\\</code>è¡¨ç¤ºâ€œæˆ‘æƒ³è¦åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­æ’å…¥ä¸€ä¸ªæ™®é€šçš„ï¼ˆå­—é¢ä¸Šçš„ï¼‰åæ–œçº¿ï¼Œè¯·ä¸è¦ç»™å®ƒä»»ä½•ç‰¹æ®Šæ„ä¹‰ã€‚â€è€Œåœ¨Javaä¸­ï¼Œ<code>\\</code>çš„æ„æ€æ˜¯â€œæˆ‘è¦æ’å…¥ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼çš„åæ–œçº¿ï¼Œæ‰€ä»¥å…¶åçš„å­—ç¬¦å…·æœ‰ç‰¹æ®Šçš„æ„ä¹‰ã€‚â€ä¾‹å¦‚ï¼Œå¦‚æœä½ æƒ³è¡¨ç¤ºä¸€ä¸ªæ•°å­—ï¼Œé‚£ä¹ˆæ­£åˆ™è¡¨è¾¾å¼åº”è¯¥æ˜¯<code>\\d</code>ã€‚å¦‚æœä½ æƒ³æ’å…¥ä¸€ä¸ªæ™®é€šçš„åæ–œçº¿ï¼Œåˆ™åº”è¯¥è¿™æ ·<code>\\\\</code>ã€‚ä¸è¿‡æ¢è¡Œå’Œåˆ¶è¡¨ç¬¦ä¹‹ç±»çš„ä¸œè¥¿åªéœ€è¦ä½¿ç”¨å•åæ–œçº¿ï¼š<code>\n\t</code>ã€‚</li>
<li>è¦è¡¨ç¤ºâ€œä¸€ä¸ªæˆ–å¤šä¸ªä¹‹å‰çš„è¡¨è¾¾å¼â€ï¼Œåº”è¯¥ä½¿ç”¨<code>+</code>ã€‚æ‰€ä»¥ï¼Œå¦‚æœè¦è¡¨ç¤ºâ€œå¯èƒ½æœ‰ä¸€ä¸ªè´Ÿå·åé¢è·Ÿç€ä¸€ä½æˆ–å¤šä½æ•°å­—â€ï¼Œå¯ä»¥è¿™æ ·ï¼š<code>-?\\d+</code></li>
<li>Stringç±»è¿˜è‡ªå¸¦äº†ä¸€ä¸ªéå¸¸æœ‰ç”¨çš„æ­£åˆ™è¡¨è¾¾å¼å·¥å…·â€”â€”<code>split()</code>æ–¹æ³•ï¼Œå…¶åŠŸèƒ½æ˜¯â€œå°†å­—ç¬¦ä¸²ä»æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…çš„åœ°æ–¹åˆ‡å¼€ã€‚â€</li>
</ul>
<h3 id="åˆ›å»ºæ­£åˆ™è¡¨è¾¾å¼"><a class="markdownIt-Anchor" href="#åˆ›å»ºæ­£åˆ™è¡¨è¾¾å¼"></a> åˆ›å»ºæ­£åˆ™è¡¨è¾¾å¼</h3>
<ul>
<li>æˆ‘ä»¬é¦–å…ˆä»æ­£åˆ™è¡¨è¾¾å¼å¯èƒ½å­˜åœ¨çš„æ„é€ é›†ä¸­é€‰å–ä¸€ä¸ªå¾ˆæœ‰ç”¨çš„å­é›†ï¼Œä»¥æ­¤å¼€å§‹å­¦ä¹ æ­£åˆ™è¡¨è¾¾å¼ã€‚æ­£åˆ™è¡¨è¾¾å¼çš„å®Œæ•´æ„é€ å­åˆ—è¡¨ï¼Œ<strong>è¯·å‚è€ƒJDKæ–‡æ¡£<code>java.util.regex</code>åŒ…ä¸­çš„<code>Pattern</code>ç±»ã€‚</strong> <strong><a href="https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html" target="_blank" >[Pattern]</strong></li>
</ul>
<h3 id="é‡è¯"><a class="markdownIt-Anchor" href="#é‡è¯"></a> é‡è¯</h3>
<ul>
<li>é‡è¯æè¿°ä¸€ä¸ªæ¨¡å¼å¸æ”¶è¾“å…¥æ–‡æœ¬çš„æ–¹å¼ï¼š
<ul>
<li>è´ªå©ªå‹ï¼šé‡è¯æ€»æ˜¯è´ªå©ªçš„ï¼Œé™¤éæœ‰å…¶ä»–çš„é€‰é¡¹è¢«è®¾ç½®ã€‚è´ªå©ªè¡¨è¾¾å¼ä¼šä¸ºæ‰€æœ‰å¯èƒ½çš„æ¨¡å¼å‘ç°å°½å¯èƒ½å¤šçš„åŒ¹é…ã€‚å¯¼è‡´æ­¤é—®é¢˜çš„ä¸€ä¸ªå…¸å‹ç†ç”±å°±æ˜¯å‡å®šæˆ‘ä»¬çš„æ¨¡å¼ä»…èƒ½åŒ¹é…ç¬¬ä¸€ä¸ªå¯èƒ½çš„å­—ç¬¦ç»„ï¼Œå¦‚æœå®ƒæ˜¯è´ªå©ªçš„ï¼Œé‚£ä¹ˆå®ƒå°±ä¼šç»§ç»­å¾€ä¸‹åŒ¹é…ã€‚</li>
<li>å‹‰å¼ºå‹ï¼šç”¨é—®å·æ¥æŒ‡å®šï¼Œè¿™ä¸ªé‡è¯åŒ¹é…æ»¡è¶³æ¨¡å¼æ‰€éœ€çš„æœ€å°‘å­—ç¬¦æ•°ã€‚å› æ­¤ä¹Ÿç§°ä½œæ‡’æƒ°çš„ã€æœ€å°‘å åŒ¹é…çš„ã€éè´ªå©ªçš„æˆ–ä¸è´ªå©ªçš„ã€‚</li>
<li>å æœ‰å‹ï¼šç›®å‰ï¼Œè¿™ç§ç±»å‹çš„é‡è¯åªæœ‰åœ¨Javaè¯­è¨€ä¸­æ‰å¯ç”¨ï¼ˆå…¶ä»–è¯­è¨€ä¸­ä¸å¯ç”¨ï¼‰ï¼Œå¹¶ä¸”ä¹Ÿæ›´é«˜çº§ï¼Œå› æ­¤æˆ‘ä»¬å¤§æ¦‚ä¸ä¼šç«‹åˆ»ç”¨åˆ°å®ƒã€‚å½“æ­£åˆ™è¡¨è¾¾å¼è¢«åº”ç”¨äºå­—ç¬¦ä¸²æ—¶ï¼Œå®ƒä¼šäº§ç”Ÿç›¸å½“å¤šçš„çŠ¶æ€ï¼Œä»¥ä¾¿åœ¨åŒ¹é…å¤±è´¥æ—¶å¯ä»¥å›æº¯ã€‚è€Œâ€œå æœ‰çš„â€é‡è¯å¹¶ä¸ä¿å­˜è¿™äº›ä¸­é—´çŠ¶æ€ï¼Œå› æ­¤å®ƒä»¬å¯ä»¥é˜²æ­¢å›æº¯ã€‚å®ƒä»¬å¸¸å¸¸ç”¨äºé˜²æ­¢æ­£åˆ™è¡¨è¾¾å¼æ—¶ç©ºï¼Œå› æ­¤å¯ä»¥ä½¿æ­£åˆ™è¡¨è¾¾å¼æ‰§è¡Œèµ·æ¥æ›´æœ‰æ•ˆã€‚</li>
</ul>
</li>
</ul>
<h3 id="patternå’Œmatcher"><a class="markdownIt-Anchor" href="#patternå’Œmatcher"></a> Patternå’ŒMatcher</h3>
<h3 id="split"><a class="markdownIt-Anchor" href="#split"></a> split()</h3>
<h3 id="æ›¿æ¢æ“ä½œ"><a class="markdownIt-Anchor" href="#æ›¿æ¢æ“ä½œ"></a> æ›¿æ¢æ“ä½œ</h3>
<h3 id="reset"><a class="markdownIt-Anchor" href="#reset"></a> reset()</h3>
<h3 id="æ­£åˆ™è¡¨è¾¾å¼ä¸java-io"><a class="markdownIt-Anchor" href="#æ­£åˆ™è¡¨è¾¾å¼ä¸java-io"></a> æ­£åˆ™è¡¨è¾¾å¼ä¸Java I/O</h3>
<hr />
<p>å‚è€ƒæ–‡çŒ®:</p>
<ul>
<li>ã€ŠThink in Java(4 Edtion)ã€‹</li>
</ul>
]]></content>
      
        <categories>
            
            <category> Java </category>
            
        </categories>
        
        
        <tags>
            
            <tag> æ­£åˆ™è¡¨è¾¾å¼ </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[å…³äºè‹±è¯­å­¦ä¹ ]]></title>
      <url>http://tech.noexception.cn/2016/09/12/%25E5%2585%25B3%25E4%25BA%258E%25E8%258B%25B1%25E8%25AF%25AD%25E5%25AD%25A6%25E4%25B9%25A0/</url>
      <content type="html"><![CDATA[<br>
<a id="more"></a>
<p><a href="http://www.tianya.cn/10299670" target="_blank"> [ æ¼å±‹_å¤©æ¶¯ç¤¾åŒº ]</p>
]]></content>
      
        <categories>
            
            <category> è‹±è¯­ </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[å…³äºæŒ‡é’ˆçš„é‚£ç‚¹äº‹]]></title>
      <url>http://tech.noexception.cn/2016/09/10/%25E5%2585%25B3%25E4%25BA%258E%25E6%258C%2587%25E9%2592%2588%25E7%259A%2584%25E9%2582%25A3%25E7%2582%25B9%25E4%25BA%258B/</url>
      <content type="html"><![CDATA[<p align = "center">ä¸€ç¯‡æœ‰åŠ©äºç†è§£CæŒ‡é’ˆçš„æ–‡ç« </p>
<a id="more"></a>
<h2 id="å·¦å€¼å’Œå³å€¼"><a class="markdownIt-Anchor" href="#å·¦å€¼å’Œå³å€¼"></a> å·¦å€¼å’Œå³å€¼</h2>
<ul>
<li>C++çš„è¡¨è¾¾å¼è¦ä¸ç„¶æ˜¯å³å€¼(rvalueï¼Œè¯»ä½œ&quot;are-value&quot;)ï¼Œè¦ä¸ç„¶å°±æ˜¯å·¦å€¼(lvalueï¼Œè¯»ä½œ&quot;ell-valule&quot;)ã€‚è¿™ä¸¤ä¸ªåæ¬¡æ˜¯ä»Cè¯­è¨€ç»§æ‰¿è¿‡æ¥çš„ï¼ŒåŸæœ¬å°±æ˜¯ä¸ºäº†å¸®åŠ©è®°å¿†çš„ï¼šå·¦å€¼å¯ä»¥ä½äºèµ‹å€¼è¯­å¥çš„å·¦ä¾§ï¼Œå³å€¼ä¸èƒ½ã€‚</li>
<li>åœ¨C++è¯­è¨€ä¸­ï¼ŒäºŒè€…çš„åŒºåˆ«å°±æ²¡æœ‰é‚£ä¹ˆç®€å•äº†ã€‚ä¸€ä¸ªå·¦å€¼è¡¨è¾¾å¼çš„æ±‚å€¼ç»“æœæ˜¯ä¸€ä¸ªå¯¹è±¡æˆ–è€…ä¸€ä¸ªå‡½æ•°ï¼Œç„¶è€Œä»¥å¸¸é‡å¯¹è±¡ä¸ºä»£è¡¨çš„æŸäº›å·¦å€¼å®é™…ä¸Šä¸èƒ½ä½œä¸ºèµ‹å€¼è¯­å¥çš„å·¦ä¾§è¿ç®—å¯¹è±¡ã€‚æ­¤å¤–ï¼Œè™½ç„¶æŸäº›è¡¨è¾¾å¼çš„æ±‚å€¼ç»“æœæ˜¯å¯¹è±¡ï¼Œä½†å®ƒä»¬æ˜¯å³å€¼è€Œéå·¦å€¼ã€‚<strong>å¯ä»¥åšä¸€ä¸ªç®€å•çš„å½’çº³ï¼šå½“ä¸€ä¸ªå¯¹è±¡è¢«ç”¨ä½œå³å€¼çš„æ—¶å€™ï¼Œç”¨çš„æ˜¯å¯¹è±¡çš„å€¼ï¼ˆå†…å®¹ï¼‰ï¼›å½“å¯¹è±¡è¢«ç”¨ä½œå·¦å€¼çš„æ—¶å€™ï¼Œç”¨çš„æ˜¯å¯¹è±¡çš„èº«ä»½ï¼ˆåœ¨å†…å­˜ä¸­çš„ä½ç½®ï¼‰ã€‚</strong></li>
<li>ä¸åŒçš„è¿ç®—ç¬¦å¯¹è¿ç®—å¯¹è±¡çš„è¦æ±‚å„æœ‰ä¸åŒï¼Œæœ‰çš„éœ€è¦å·¦å€¼è¿ç®—å¯¹è±¡ã€æœ‰çš„éœ€è¦å³å€¼è¿ç®—å¯¹è±¡ï¼›è¿”å›å€¼ä¹Ÿæœ‰å·®å¼‚ï¼Œæœ‰çš„å¾—åˆ°å·¦å€¼ç»“æœã€æœ‰çš„å¾—åˆ°å³å€¼çš„ç»“æœã€‚ä¸€ä¸ªé‡è¦çš„åŸåˆ™æ˜¯åœ¨éœ€è¦å³å€¼çš„åœ°æ–¹å¯ä»¥ç”¨å·¦å€¼æ¥ä»£æ›¿ï¼Œä½†æ˜¯ä¸èƒ½æŠŠå³å€¼å½“æˆå·¦å€¼ï¼ˆä¹Ÿå°±æ˜¯ä½ç½®ï¼‰ä½¿ç”¨ã€‚å½“ä¸€ä¸ªå·¦å€¼è¢«å½“æˆå³å€¼ä½¿ç”¨æ—¶ï¼Œå®é™…ä½¿ç”¨çš„æ˜¯å®ƒçš„å†…å®¹ï¼ˆå€¼ï¼‰ã€‚å¸¸è§åœ°ï¼Œè¿ç®—ç¬¦è¦ç”¨åˆ°å·¦å€¼çš„æœ‰ä¸€ä¸‹å‡ ä¸ªï¼š
<ul>
<li>èµ‹å€¼è¿ç®—ç¬¦ï¼ˆ*ï¼‰éœ€è¦ä¸€ä¸ªï¼ˆéå¸¸é‡ï¼‰å·¦å€¼ä½œä¸ºå…¶å·¦ä¾§è¿ç®—ç¬¦å¯¹è±¡ï¼Œå¾—åˆ°çš„ç»“æœä¹Ÿä»ç„¶æ˜¯ä¸€ä¸ªå·¦å€¼ï¼›</li>
<li>å–åœ°å€ç¬¦(&amp;)ä½œç”¨äºä¸€ä¸ªå·¦å€¼å…ƒç®—å¯¹è±¡ï¼Œè¿”å›ä¸€ä¸ªæŒ‡å‘è¯¥è¿ç®—å¯¹è±¡çš„æŒ‡é’ˆï¼Œè¿™ä¸ªæŒ‡é’ˆæ˜¯ä¸€ä¸ªå³å€¼ã€‚</li>
<li>å†…ç½®è§£æå¼•ç”¨è¿ç®—ç¬¦ã€ä¸‹æ ‡è¿ç®—ç¬¦ã€è¿­ä»£å™¨è§£æå¼•ç”¨è¿ç®—ç¬¦ã€<code>string</code>å’Œ<code>vector</code>çš„ä¸‹æ ‡è¿ç®—ç¬¦çš„æ±‚å€¼ç»“æœéƒ½æ˜¯å·¦å€¼ã€‚</li>
<li>å†…ç½®ç±»å‹å’Œè¿­ä»£å™¨çš„é€’å¢é€’å‡è¿ç®—ç¬¦ä½œç”¨äºå·¦å€¼è¿ç®—å¯¹è±¡ï¼Œå…¶å‰ç½®ç‰ˆæœ¬æ‰€å¾—çš„ç»“æœä¹Ÿæ˜¯å·¦å€¼ã€‚</li>
</ul>
</li>
</ul>
]]></content>
      
        <categories>
            
            <category> C++ </category>
            
        </categories>
        
        
        <tags>
            
            <tag> æŒ‡é’ˆ </tag>
            
            <tag> å·¦å€¼ã€å³å€¼ </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[å…³äºAndroidç¨‹åºå´©æºƒçš„ä¸€äº›è®°å½•]]></title>
      <url>http://tech.noexception.cn/2016/08/22/%25E5%2585%25B3%25E4%25BA%258EAndroid%25E7%25A8%258B%25E5%25BA%258F%25E5%25B4%25A9%25E6%25BA%2583%25E7%259A%2584%25E4%25B8%2580%25E4%25BA%259B%25E8%25AE%25B0%25E5%25BD%2595/</url>
      <content type="html"><![CDATA[<p align = "center">Androidåº”ç”¨å´©æºƒçš„åŸå› å½’çº³</p>
<a id="more"></a>
<h3 id="androidå¹³å°ç¨‹åºå´©æºƒçš„ç±»å‹åŠåŸå› åˆ—ä¸¾"><a class="markdownIt-Anchor" href="#androidå¹³å°ç¨‹åºå´©æºƒçš„ç±»å‹åŠåŸå› åˆ—ä¸¾"></a> Androidå¹³å°ç¨‹åºå´©æºƒçš„ç±»å‹åŠåŸå› åˆ—ä¸¾</h3>
<p>Androidå¹³å°ç¨‹åºå´©æºƒå¤§å®¶éƒ½åº”è¯¥é‡åˆ°è¿‡ï¼Œforce closeå’ŒANRåº”è¯¥æ˜¯å¤§å®¶é‡åˆ°è¾ƒå¤šçš„ã€‚</p>
<p>è¿™é‡ŒæŠŠAndroidå¹³å°ç¨‹åºå´©æºƒçš„å„ç§ç±»å‹åšä¸€ä¸ªç®€è¿°å’ŒåŸå› åˆ—ä¸¾ã€‚</p>
<ol>
<li>ANRï¼ˆå¯è§ANRï¼‰ï¼š</li>
</ol>
<ul>
<li>
<p>å‘ç”Ÿåœºæ™¯ï¼šåº”ç”¨å‘ç”ŸANRã€‚</p>
</li>
<li>
<p>å´©æºƒç—‡çŠ¶ï¼šç³»ç»Ÿå¼¹å‡ºçª—å£è¯¢é—®ç”¨æˆ·é€‰æ‹©â€œForce Closeâ€æˆ–è€…â€œWaitâ€ã€‚</p>
</li>
<li>
<p>â€œForce Closeâ€å°†æ€æ‰å‘ç”ŸANRçš„åº”ç”¨è¿›ç¨‹ã€‚</p>
</li>
<li>
<p>â€œWaitâ€å°†ä¼šç­‰å¾…ç³»ç»Ÿæ‹©æœºæ¢å¤æ­¤åº”ç”¨è¿›ç¨‹ã€‚</p>
</li>
<li>
<p>å‘ç”ŸåŸå› ï¼šï¼ˆ1ï¼‰åº”ç”¨ä¸»çº¿ç¨‹å¡ä½ï¼Œå¯¹å…¶ä»–è¯·æ±‚å“åº”è¶…æ—¶ã€‚ï¼ˆ2ï¼‰æ­»é”ã€‚ï¼ˆ3ï¼‰ç³»ç»Ÿååº”è¿Ÿé’ã€‚ï¼ˆ4ï¼‰CPUè´Ÿè½½è¿‡é‡ã€‚</p>
</li>
</ul>
<ol start="2">
<li>Force Closeï¼š</li>
</ol>
<ul>
<li>
<p>å‘ç”Ÿåœºæ™¯ï¼šåº”ç”¨è¿›ç¨‹å´©æºƒã€‚</p>
</li>
<li>
<p>å´©æºƒç—‡çŠ¶ï¼šç³»ç»Ÿå¼¹å‡ºçª—å£æç¤ºç”¨æˆ·æŸè¿›ç¨‹å´©æºƒã€‚</p>
</li>
<li>
<p>å‘ç”ŸåŸå› ï¼šç©ºæŒ‡å‘å¼‚å¸¸æˆ–è€…æœªæ•æ‰çš„å¼‚å¸¸ã€‚</p>
</li>
</ul>
<ol start="3">
<li>Tombstonesï¼š</li>
</ol>
<ul>
<li>
<p>å‘ç”Ÿåœºæ™¯ï¼šNativeå±‚å´©æºƒ</p>
</li>
<li>
<p>å´©æºƒç—‡çŠ¶ï¼šå¦‚æœå‘ç”Ÿå´©æºƒçš„nativeå±‚å’ŒUIæœ‰å…³è”ï¼ˆæ¯”å¦‚Browserï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨UIä¸Šå‘ç°è¿™ä¸ªå´©æºƒã€‚</p>
</li>
<li>
<p>å¦‚æœå‘ç”Ÿå´©æºƒçš„nativeå±‚æ˜¯åœ¨åå°å¹¶ä¸”å’ŒUIæ²¡æœ‰ç›´æ¥è”ç³»ï¼Œé‚£ä¹ˆå¯¹äºç”¨æˆ·æ¥è¯´æ˜¯ä¸å¯è§çš„ï¼Œå¦‚æœæ˜¯debugç‰ˆæœ¬å¯èƒ½ä¼šæœ‰Logæ‰“å°å‡ºå½“æ—¶çš„åº•å±‚ç°åœºã€‚</p>
</li>
<li>
<p>å‘ç”ŸåŸå› ï¼šå„ç§å„æ ·ï¼Œéœ€è¦å…·ä½“æƒ…å†µå…·ä½“åˆ†æã€‚</p>
</li>
</ul>
<ol start="4">
<li>ç³»ç»ŸæœåŠ¡å´©æºƒï¼ˆSystem Server Crashï¼‰ï¼š</li>
</ol>
<ul>
<li>
<p>å‘ç”Ÿåœºæ™¯ï¼šç³»ç»ŸæœåŠ¡æ˜¯Androidæ ¸å¿ƒè¿›ç¨‹ï¼Œæ­¤æœåŠ¡è¿›ç¨‹å‘ç”Ÿå´©æºƒã€‚</p>
</li>
<li>
<p>å´©æºƒç—‡çŠ¶ï¼šæ‰‹æœºé‡å¯åˆ°Androidå¯åŠ¨ç•Œé¢</p>
</li>
<li>
<p>å‘ç”ŸåŸå› ï¼šï¼ˆ1ï¼‰ç³»ç»ŸæœåŠ¡çœ‹é—¨ç‹—å‘ç°å¼‚å¸¸ã€‚ï¼ˆ2ï¼‰ç³»ç»ŸæœåŠ¡å‘ç”Ÿæœªæ•è·å¼‚å¸¸ã€‚ï¼ˆ3ï¼‰OOMã€‚ï¼ˆ4ï¼‰ç³»ç»ŸæœåŠ¡Nativeå‘ç”ŸTombstoneã€‚</p>
</li>
</ul>
<ol start="5">
<li>Kernel Panicsï¼š</li>
</ol>
<ul>
<li>
<p>å‘ç”Ÿåœºæ™¯ï¼šLinuxå†…æ ¸å‘ç”Ÿä¸¥é‡é”™è¯¯</p>
</li>
<li>
<p>å´©æºƒç—‡çŠ¶ï¼šæ‰‹æœºä»bootloaderå¼€å§‹å®Œå…¨é‡å¯</p>
</li>
<li>
<p>å‘ç”ŸåŸå› ï¼šï¼ˆ1ï¼‰Linuxå†…æ ¸å†…å­˜ç©ºé—´å‘ç”Ÿå†…å­˜å´©æºƒã€‚ï¼ˆ2ï¼‰å†…æ ¸çœ‹é—¨ç‹—å‘ç°å¼‚å¸¸ã€‚ï¼ˆ3ï¼‰ç©ºæŒ‡é’ˆæ“ä½œå†…æ ¸ã€‚</p>
</li>
</ul>
<p>è½¬è‡ªï¼š<a href="http://www.cnblogs.com/mobile-veterans" target="_blank" rel="noopener">http://www.cnblogs.com/mobile-veterans</a></p>
]]></content>
      
        <categories>
            
            <category> Android </category>
            
        </categories>
        
        
        <tags>
            
            <tag> reports </tag>
            
            <tag> activity </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[SuperRecyclerViewç”¨æ³•]]></title>
      <url>http://tech.noexception.cn/2016/08/22/SuperRecyclerView%25E7%2594%25A8%25E6%25B3%2595/</url>
      <content type="html"><![CDATA[<p align = "center">å…³äºSuperRecyclerViewçš„ç”¨æ³•</p>
<a id="more"></a>
<h3 id="1-ç®€ä»‹"><a class="markdownIt-Anchor" href="#1-ç®€ä»‹"></a> 1. ç®€ä»‹ï¼š</h3>
<ul>
<li><strong>SuperRecyclerView</strong>æ˜¯æ”¯æŒaddHeaderViewã€addFooterViewã€ä¸‹æ‹‰åˆ·æ–°ã€åˆ†é¡µåŠ è½½æ•°æ®çš„RecyclerViewã€‚</li>
<li><strong>å®ƒå¯¹RecyclerViewæ§ä»¶è¿›è¡Œäº†æ‹“å±•ï¼Œç»™RecyclerViewå¢åŠ HeaderViewã€FooterViewï¼Œå¹¶ä¸”ä¸éœ€è¦å¯¹ä½ çš„Adapteråšä»»ä½•ä¿®æ”¹ã€‚</strong></li>
</ul>
<h3 id="2-ä¸»è¦åŠŸèƒ½"><a class="markdownIt-Anchor" href="#2-ä¸»è¦åŠŸèƒ½"></a> 2. ä¸»è¦åŠŸèƒ½</h3>
<ol>
<li>ä¸‹æ‹‰åˆ·æ–°ã€æ»‘åŠ¨åˆ°åº•éƒ¨è‡ªåŠ¨åŠ è½½ä¸‹é¡µæ•°æ®ï¼›</li>
<li>å¯ä»¥æ–¹ä¾¿æ·»åŠ Headerå’ŒFooterï¼›</li>
<li>å¤´éƒ¨ä¸‹æ‹‰æ ·å¼å¯ä»¥è‡ªå®šä¹‰ï¼›</li>
<li>å…·å¤‡itemç‚¹å‡»å’Œé•¿æŒ‰äº‹ä»¶ã€‚</li>
<li>ç½‘ç»œé”™è¯¯åŠ è½½åŠ è½½å¤±è´¥ç‚¹å‡»Footeré‡æ–°è¯·æ±‚æ•°æ®ï¼›</li>
<li>å¯ä»¥åŠ¨æ€ä¸ºFooterViewèµ‹äºˆä¸åŒçŠ¶æ€ï¼ˆåŠ è½½ä¸­ã€åŠ è½½å¤±è´¥ã€æ»‘åˆ°æœ€åº•ç­‰ï¼‰ã€‚</li>
</ol>
<h3 id="3-ä½¿ç”¨"><a class="markdownIt-Anchor" href="#3-ä½¿ç”¨"></a> 3. ä½¿ç”¨</h3>
<ol>
<li><strong>æ·»åŠ HeaderViewã€FooterView</strong></li>
</ol>
<pre><code><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">mDataAdapter = <span class="keyword">new</span> DataAdapter(<span class="keyword">this</span>);</span><br><span class="line">mDataAdapter.setData(dataList);</span><br><span class="line"></span><br><span class="line">mHeaderAndFooterRecyclerViewAdapter = <span class="keyword">new</span> HeaderAndFooterRecyclerViewAdapter(<span class="keyword">this</span>, mDataAdapter);</span><br><span class="line">mRecyclerView.setAdapter(mHeaderAndFooterRecyclerViewAdapter);</span><br><span class="line">mRecyclerView.setLayoutManager(<span class="keyword">new</span> LinearLayoutManager(<span class="keyword">this</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">//add a HeaderView</span></span><br><span class="line">RecyclerViewUtils.setHeaderView(mRecyclerView, <span class="keyword">new</span> SampleHeader(<span class="keyword">this</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">//add a FooterView</span></span><br><span class="line">RecyclerViewUtils.setFooterView(mRecyclerView, <span class="keyword">new</span> SampleFooter(<span class="keyword">this</span>));</span><br></pre></td></tr></table></figure>
</code></pre>
<ol start="2">
<li><strong>æ·»åŠ æ»šåŠ¨ç›‘å¬äº‹ä»¶</strong></li>
</ol>
<pre><code><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">mRecyclerView.addOnScrolListener(mOnScrollListener);</span><br><span class="line"></span><br><span class="line">RecyclerOnScrollListener mOnScrollListener = <span class="keyword">new</span> RecyclerOnScrollListener()&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onBottom</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        LoadingFooter.State state = RecyclerViewUtils.getFooterViewState(mRecyclerView);</span><br><span class="line">        <span class="keyword">if</span>(state == LoadingFooter.State.Loading)&#123;</span><br><span class="line">            Log.d(TAG, <span class="string">"the state is Loading, just wait..."</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(mCurrentCounter &lt; TOTAL_COUNTER)&#123;</span><br><span class="line">            <span class="comment">//loading more</span></span><br><span class="line">            RecyclerViewStateUtils.setFooterViewState(EndlessLinearLayoutActivity.<span class="keyword">this</span>, mRecyclerView, REQUEST_COUNT, LoadingFooter.State.Loading, <span class="keyword">null</span>);</span><br><span class="line">            requestData();</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="comment">//the end</span></span><br><span class="line">            RecyclerViewStateUtils.setFooterViewState(EndlessLinearLayoutActivity.<span class="keyword">this</span>, mRecyclerView, REQUEST_COUNT, LoadingFooter.State.TheEnd, <span class="keyword">null</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
**RecyclerOnScrollListener**å®ç°äº†**onScrollUp()ã€onScrollDown()ã€onBottom()ã€onScrolled()**å››ä¸ªäº‹ä»¶ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//scroll down to up</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> abstrsct <span class="keyword">void</span> <span class="title">onScrollUp</span><span class="params">()</span></span>;</span><br><span class="line"><span class="comment">//scroll from up to down</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> abstrsct <span class="keyword">void</span> <span class="title">onScrollDown</span><span class="params">()</span></span>;</span><br><span class="line"><span class="comment">//load next page</span></span><br><span class="line"><span class="function">publid abstrsct <span class="keyword">void</span> <span class="title">onBottom</span><span class="params">()</span></span>;</span><br><span class="line"><span class="comment">//moving state,you can get the move distance</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> abstrsct <span class="keyword">void</span> <span class="title">onScrolled</span><span class="params">(<span class="keyword">int</span> distanceX, <span class="keyword">int</span> distenceY)</span></span>;</span><br></pre></td></tr></table></figure>
- **onScrollUp()**â€”â€”RecyclerViewå‘ä¸Šæ»‘åŠ¨çš„ç›‘å¬äº‹ä»¶ï¼›
- **onScrollDown()**â€”â€”RecyclerViewå‘ä¸‹æ»‘åŠ¨çš„ç›‘å¬äº‹ä»¶ï¼›
- **onBottom()**â€”â€”RecyclerViewæ»‘åŠ¨åˆ°åº•éƒ¨çš„ç›‘å¬äº‹ä»¶ï¼›
- **onBottom()**â€”â€”RecyclerViewæ­£åœ¨æ»šåŠ¨çš„ç›‘å¬äº‹ä»¶ï¼›
</code></pre>
<ol start="3">
<li><strong>åŠ è½½æ›´å¤šï¼ˆåŠ è½½ä¸‹é¡µæ•°æ®ï¼‰</strong></li>
</ol>
<pre><code>- ä»ä¸Šé¢çš„RecyclerOnScrollListenerç±»çš„ä»‹ç»ä¸­å°±å¯ä»¥çœ‹å‡ºï¼Œå®ç°åŠ è½½æ›´å¤šåªè¦åœ¨**onBottom()**æ¥å£ä¸­å¤„ç†å³å¯ã€‚
</code></pre>
<hr />
<p>æœªå®Œå¾…ç»­â€¦â€¦</p>
]]></content>
      
        <categories>
            
            <category> Android </category>
            
        </categories>
        
        
        <tags>
            
            <tag> view </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[CSSçŸ¥è¯†ç‚¹æ•´ç†]]></title>
      <url>http://tech.noexception.cn/2016/08/22/CSS%25E7%259F%25A5%25E8%25AF%2586%25E7%2582%25B9%25E6%2595%25B4%25E7%2590%2586/</url>
      <content type="html"><![CDATA[<p align = "center">CSSå½’çº³</p>
<a id="more"></a>
<h3 id="1-å¯¹webæ ‡å‡†ä»¥åŠw3cçš„ç†è§£ä¸è®¤çŸ¥"><a class="markdownIt-Anchor" href="#1-å¯¹webæ ‡å‡†ä»¥åŠw3cçš„ç†è§£ä¸è®¤çŸ¥"></a> 1. å¯¹WEBæ ‡å‡†ä»¥åŠW3Cçš„ç†è§£ä¸è®¤çŸ¥</h3>
<ul>
<li>æ ‡ç­¾é—­åˆã€æ ‡ç­¾å°å†™ã€ä¸ä¹±åµŒå¥—ã€æé«˜æœç´¢æœºå™¨äººæœç´¢å‡ ç‡ï¼›</li>
<li>ä½¿ç”¨å¤–é“¾CSSå’ŒJSè„šæœ¬ã€ç»“æ„è¡Œä¸ºè¡¨ç°çš„åˆ†ç¦»ã€æ–‡ä»¶ä¸‹è½½ä¸é¡µé¢é€Ÿåº¦æ›´å¿«ï¼›</li>
<li>å†…å®¹èƒ½è¢«æ›´å¤šçš„ç”¨æˆ·æ‰€è®¿é—®ã€å†…å®¹èƒ½è¢«æ›´å¹¿æ³›çš„è®¾å¤‡æ‰€è®¿é—®ã€æ›´å°‘çš„ä»£ç å’Œç»„ä»¶ï¼›</li>
<li>å®¹æ˜“ç»´æŠ¤ã€æ”¹ç‰ˆæ–¹ä¾¿ï¼Œä¸éœ€è¦å˜åŠ¨é¡µé¢å†…å®¹ï¼›</li>
<li>æä¾›æ‰“å°ç‰ˆæœ¬è€Œä¸éœ€è¦å¤åˆ¶å†…å®¹ã€æé«˜ç½‘ç«™æ˜“ç”¨æ€§ï¼›</li>
</ul>
<h3 id="2-xhtmlå’Œhtmlæœ‰ä»€ä¹ˆåŒºåˆ«"><a class="markdownIt-Anchor" href="#2-xhtmlå’Œhtmlæœ‰ä»€ä¹ˆåŒºåˆ«"></a> 2. xhtmlå’Œhtmlæœ‰ä»€ä¹ˆåŒºåˆ«</h3>
<ul>
<li>HTMLæ˜¯ä¸€ç§åŸºæœ¬çš„WEBç½‘é¡µè®¾è®¡è¯­è¨€ï¼ŒXHTMLæ˜¯ä¸€ä¸ªåŸºäºXMLçš„æ ‡å¿—è¯­è¨€ï¼›</li>
<li><strong>æœ€ä¸»è¦çš„ä¸åŒï¼š</strong>
<ul>
<li>XHTMLå…ƒç´ å¿…é¡»è¢«æ­£ç¡®çš„åµŒå¥—ã€‚</li>
<li>XHTMLå…ƒç´ å¿…é¡»è¢«å…³é—­ã€‚</li>
<li>XHTMLæ ‡ç­¾åå¿…é¡»ç”¨å°å†™å­—æ¯ã€‚</li>
<li>XHTMLæ–‡æ¡£å¿…é¡»æ‹¥æœ‰æ ¹å…ƒç´ ã€‚</li>
</ul>
</li>
</ul>
<h3 id="3-doctypeä¸¥æ ¼æ¨¡å¼ä¸æ··æ‚æ¨¡å¼-å¦‚ä½•è§¦å‘è¿™ä¸¤ç§æ¨¡å¼åŒºåˆ†å®ƒä»¬æœ‰ä½•æ„ä¹‰"><a class="markdownIt-Anchor" href="#3-doctypeä¸¥æ ¼æ¨¡å¼ä¸æ··æ‚æ¨¡å¼-å¦‚ä½•è§¦å‘è¿™ä¸¤ç§æ¨¡å¼åŒºåˆ†å®ƒä»¬æœ‰ä½•æ„ä¹‰"></a> 3. Doctype?ä¸¥æ ¼æ¨¡å¼ä¸æ··æ‚æ¨¡å¼-å¦‚ä½•è§¦å‘è¿™ä¸¤ç§æ¨¡å¼ï¼ŒåŒºåˆ†å®ƒä»¬æœ‰ä½•æ„ä¹‰ï¼Ÿ</h3>
<ul>
<li>ç”¨äºå£°æ˜æ–‡æ¡£ä½¿ç”¨é‚£ç§è§„èŒƒ(html\Xhtml)ä¸€èˆ¬ä¸ºï¼šä¸¥æ ¼ã€è¿‡åº¦ã€åŸºäºæ¡†æ¶çš„htmlæ–‡æ¡£ï¼›</li>
<li>åŠ å…¥XMLå£°æ˜å¯è§¦å‘ï¼Œè§£ææ–¹å¼æ›´æ”¹ä¸ºIE5.5æ‹¥æœ‰IE5.5çš„bugï¼›</li>
</ul>
<h3 id="4-è¡Œå†…å…ƒç´ æœ‰å“ªäº›å—çº§å…ƒç´ æœ‰å“ªäº›cssçš„ç›’æ¨¡å‹"><a class="markdownIt-Anchor" href="#4-è¡Œå†…å…ƒç´ æœ‰å“ªäº›å—çº§å…ƒç´ æœ‰å“ªäº›cssçš„ç›’æ¨¡å‹"></a> 4. è¡Œå†…å…ƒç´ æœ‰å“ªäº›ï¼Ÿå—çº§å…ƒç´ æœ‰å“ªäº›ï¼ŸCSSçš„ç›’æ¨¡å‹ï¼Ÿ</h3>
<ul>
<li>å—çº§å…ƒç´ ï¼š<code>div p h1 h2 h3 h4 form ul</code></li>
<li>è¡Œå†…å…ƒç´ : <code>a b br i span input select</code></li>
<li>CSSç›’æ¨¡å‹ï¼š<code>å†…å®¹, border, margin, padding</code></li>
</ul>
<h3 id="5-csså¼•å…¥çš„æ–¹å¼æœ‰å“ªäº›linkå’Œimportçš„åŒºåˆ«æ˜¯"><a class="markdownIt-Anchor" href="#5-csså¼•å…¥çš„æ–¹å¼æœ‰å“ªäº›linkå’Œimportçš„åŒºåˆ«æ˜¯"></a> 5. CSSå¼•å…¥çš„æ–¹å¼æœ‰å“ªäº›ï¼Ÿlinkå’Œ@importçš„åŒºåˆ«æ˜¯ï¼Ÿ</h3>
<ul>
<li>**å¼•å…¥æ–¹å¼ï¼š**å†…è”ã€å†…åµŒã€å¤–é“¾ã€å¯¼å…¥</li>
<li><strong>linkå’Œ@importåŒºåˆ«ï¼š</strong>
<ul>
<li>åŒæ—¶åŠ è½½ï¼›</li>
<li>å‰è€…æ— å…¼å®¹ï¼Œåè€…CSS2.1ä»¥ä¸‹æµè§ˆå™¨ä¸æ”¯æŒï¼›</li>
<li>Linkæ”¯æŒä½¿ç”¨javascriptæ”¹å˜æ ·å¼ï¼Œåè€…ä¸å¯ï¼›</li>
</ul>
</li>
</ul>
<h3 id="6-cssé€‰æ‹©ç¬¦æœ‰å“ªäº›å“ªäº›å±æ€§å¯ä»¥ç»§æ‰¿ä¼˜å…ˆçº§ç®—æ³•å¦‚ä½•è®¡ç®—å†…è”å’Œimportantå“ªä¸ªä¼˜å…ˆçº§é«˜"><a class="markdownIt-Anchor" href="#6-cssé€‰æ‹©ç¬¦æœ‰å“ªäº›å“ªäº›å±æ€§å¯ä»¥ç»§æ‰¿ä¼˜å…ˆçº§ç®—æ³•å¦‚ä½•è®¡ç®—å†…è”å’Œimportantå“ªä¸ªä¼˜å…ˆçº§é«˜"></a> 6. CSSé€‰æ‹©ç¬¦æœ‰å“ªäº›ï¼Ÿå“ªäº›å±æ€§å¯ä»¥ç»§æ‰¿ï¼Ÿä¼˜å…ˆçº§ç®—æ³•å¦‚ä½•è®¡ç®—ï¼Ÿå†…è”å’Œimportantå“ªä¸ªä¼˜å…ˆçº§é«˜ï¼Ÿ</h3>
<ul>
<li>é€‰æ‹©ç¬¦ï¼šæ ‡ç­¾é€‰æ‹©ç¬¦ã€ç±»é€‰æ‹©ç¬¦ã€idé€‰æ‹©ç¬¦ï¼›</li>
<li>ç»§æ‰¿ä¸å¦‚æŒ‡å®šid&gt;class&gt;æ ‡ç­¾é€‰æ‹©</li>
<li>å†…è”å’Œimportantä¼˜å…ˆçº§å“ªä¸ªé«˜ï¼šimportantä¼˜å…ˆçº§é«˜</li>
</ul>
<h3 id="7-å‰ç«¯é¡µé¢æœ‰å“ªä¸‰å±‚æ„æˆåˆ†åˆ«æ˜¯ä»€ä¹ˆä½œç”¨æ˜¯ä»€ä¹ˆ"><a class="markdownIt-Anchor" href="#7-å‰ç«¯é¡µé¢æœ‰å“ªä¸‰å±‚æ„æˆåˆ†åˆ«æ˜¯ä»€ä¹ˆä½œç”¨æ˜¯ä»€ä¹ˆ"></a> 7. å‰ç«¯é¡µé¢æœ‰å“ªä¸‰å±‚æ„æˆï¼Œåˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ</h3>
<ul>
<li>**ç»“æ„å±‚ï¼š**Html</li>
<li>**è¡¨ç¤ºå±‚ï¼š**CSS</li>
<li>**è¡Œä¸ºå±‚ï¼š**js</li>
</ul>
<h3 id="8-cssçš„åŸºæœ¬è¯­å¥æ„æˆæ˜¯"><a class="markdownIt-Anchor" href="#8-cssçš„åŸºæœ¬è¯­å¥æ„æˆæ˜¯"></a> 8. CSSçš„åŸºæœ¬è¯­å¥æ„æˆæ˜¯ï¼Ÿ</h3>
<ul>
<li>é€‰æ‹©å™¨{å±æ€§1:å€¼1;å±æ€§2:å€¼2;â€¦}</li>
</ul>
<h3 id="9-ä½ åšçš„é¡µé¢åœ¨é‚£äº›æµè§ˆå™¨æµ‹è¯•è¿‡è¿™äº›æµè§ˆå™¨çš„å†…æ ¸åˆ†åˆ«æ˜¯ä»€ä¹ˆ"><a class="markdownIt-Anchor" href="#9-ä½ åšçš„é¡µé¢åœ¨é‚£äº›æµè§ˆå™¨æµ‹è¯•è¿‡è¿™äº›æµè§ˆå™¨çš„å†…æ ¸åˆ†åˆ«æ˜¯ä»€ä¹ˆ"></a> 9. ä½ åšçš„é¡µé¢åœ¨é‚£äº›æµè§ˆå™¨æµ‹è¯•è¿‡ï¼Ÿè¿™äº›æµè§ˆå™¨çš„å†…æ ¸åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</h3>
<ul>
<li>IE(IEå†…æ ¸)ã€ç«ç‹(Gecko)ã€è°·æ­Œ(webkit)ã€opear(Presto)</li>
</ul>
<h3 id="10-å†™å‡ºå‡ ç§ie6-bugçš„è§£å†³åŠæ³•"><a class="markdownIt-Anchor" href="#10-å†™å‡ºå‡ ç§ie6-bugçš„è§£å†³åŠæ³•"></a> 10. å†™å‡ºå‡ ç§IE6 BUGçš„è§£å†³åŠæ³•</h3>
<ul>
<li>åŒè¾¹è·BUGï¼šfloatå¼•èµ·çš„ï¼Œä½¿ç”¨displayï¼›</li>
<li>åƒç´ é—®é¢˜ï¼šä½¿ç”¨floatå¼•èµ·çš„ï¼Œä½¿ç”¨display:inline -3px;</li>
<li>è¶…é“¾æ¥hoverç‚¹å‡»åå¤±æ•ˆï¼šä½¿ç”¨æ­£ç¡®çš„ä¹¦å†™é¡ºåº<code>linkvisited hover activen</code></li>
<li>IE z-indexé—®é¢˜:ç»™çˆ¶çº§æ·»åŠ <code>position:relative</code></li>
<li>pngé€æ˜ï¼šä½¿ç”¨jsä»£ç æ”¹</li>
<li>min-heightæœ€å°é«˜åº¦ï¼šimportantè§£å†³</li>
<li>selectåœ¨IE6ä¸‹é®ç›–ï¼šä½¿ç”¨iframeåµŒå¥—ï¼›</li>
<li>ä¸ºä»€ä¹ˆæ²¡æœ‰åŠæ³•å®šä¹‰1pxå·¦å³çš„å®½åº¦å®¹å™¨(IE6é»˜è®¤çš„è¡Œé«˜é€ æˆçš„ï¼Œä½¿ç”¨<code>over:hidden,0.08line-height:1px</code>)</li>
</ul>
<h3 id="11-imgæ ‡ç­¾titleä¸altå±æ€§çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ"><a class="markdownIt-Anchor" href="#11-imgæ ‡ç­¾titleä¸altå±æ€§çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ"></a> 11. <img>æ ‡ç­¾titleä¸altå±æ€§çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</h3>
<ul>
<li>Altï¼šå½“å›¾ç‰‡ä¸æ˜¾ç¤ºæ˜¯ç”¨æ–‡å­—ä»£è¡¨ã€‚</li>
<li>Titleï¼šä¸ºè¯¥å±æ€§æä¾›ä¿¡æ¯</li>
</ul>
<h3 id="12-æè¿°css-resetçš„ä½œç”¨å’Œç”¨é€”"><a class="markdownIt-Anchor" href="#12-æè¿°css-resetçš„ä½œç”¨å’Œç”¨é€”"></a> 12. æè¿°css resetçš„ä½œç”¨å’Œç”¨é€”ã€‚</h3>
<ul>
<li>css resetçš„ä½œç”¨ï¼šreseté‡ç½®æµè§ˆå™¨çš„cssé»˜è®¤å±æ€§ï¼›</li>
<li>ç”¨é€”ï¼šæµè§ˆå™¨çš„å“ç§ä¸åŒï¼Œæ ·å¼ä¸åŒï¼Œç„¶åé‡ç½®ï¼Œè®©ä»–ä»¬ç»Ÿä¸€ï¼›</li>
</ul>
<h3 id="13-è§£é‡Šcss-spriteså¦‚ä½•ä½¿ç”¨"><a class="markdownIt-Anchor" href="#13-è§£é‡Šcss-spriteså¦‚ä½•ä½¿ç”¨"></a> 13. è§£é‡Šcss spritesï¼Œå¦‚ä½•ä½¿ç”¨ã€‚</h3>
<ul>
<li>css spritesï¼šæŠŠä¸€å †å°çš„å›¾ç‰‡æ•´åˆåˆ°ä¸€å¼ å¤§çš„å›¾ç‰‡ä¸Šï¼Œå‡è½»æœåŠ¡å™¨å¯¹å›¾ç‰‡çš„è¯·æ±‚æ•°é‡</li>
</ul>
<h3 id="14-æµè§ˆå™¨æ ‡å‡†æ¨¡å¼å’Œæ€ªå¼‚æ¨¡å¼ä¹‹é—´çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ"><a class="markdownIt-Anchor" href="#14-æµè§ˆå™¨æ ‡å‡†æ¨¡å¼å’Œæ€ªå¼‚æ¨¡å¼ä¹‹é—´çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ"></a> 14. æµè§ˆå™¨æ ‡å‡†æ¨¡å¼å’Œæ€ªå¼‚æ¨¡å¼ä¹‹é—´çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</h3>
<ul>
<li>ç›’å­æ¨¡å‹ æ¸²æŸ“æ¨¡å¼çš„ä¸åŒ</li>
<li>ä½¿ç”¨window.top.document.compatMode å¯æ˜¾ç¤ºä¸ºä»€ä¹ˆæ¨¡å‹</li>
</ul>
<h3 id="15-ä½ å¦‚ä½•å¯¹ç½‘ç«™çš„æ–‡ä»¶å’Œèµ„æºè¿›è¡Œä¼˜åŒ–æœŸå¾…çš„è§£å†³æ–¹æ¡ˆåŒ…æ‹¬"><a class="markdownIt-Anchor" href="#15-ä½ å¦‚ä½•å¯¹ç½‘ç«™çš„æ–‡ä»¶å’Œèµ„æºè¿›è¡Œä¼˜åŒ–æœŸå¾…çš„è§£å†³æ–¹æ¡ˆåŒ…æ‹¬"></a> 15. ä½ å¦‚ä½•å¯¹ç½‘ç«™çš„æ–‡ä»¶å’Œèµ„æºè¿›è¡Œä¼˜åŒ–ï¼ŸæœŸå¾…çš„è§£å†³æ–¹æ¡ˆåŒ…æ‹¬ï¼š</h3>
<ul>
<li>æ–‡ä»¶åˆå¹¶</li>
<li>æ–‡ä»¶æœ€å°åŒ–/æ–‡ä»¶å‹ç¼©</li>
<li>ä½¿ç”¨CDNæ‰˜ç®¡</li>
<li>ç¼“å­˜çš„ä½¿ç”¨</li>
</ul>
<h3 id="16-ä»€ä¹ˆæ˜¯è¯­ä¹‰åŒ–çš„html"><a class="markdownIt-Anchor" href="#16-ä»€ä¹ˆæ˜¯è¯­ä¹‰åŒ–çš„html"></a> 16. ä»€ä¹ˆæ˜¯è¯­ä¹‰åŒ–çš„HTML?</h3>
<ul>
<li>ç›´è§‚çš„è®¤è¯†æ ‡ç­¾ï¼Œå¯¹äºæœç´¢å¼•æ“çš„æŠ“å–æœ‰å¥½å¤„</li>
</ul>
<h3 id="17-æ¸…é™¤æµ®åŠ¨çš„å‡ ç§æ–¹å¼å„è‡ªçš„ä¼˜ç¼ºç‚¹"><a class="markdownIt-Anchor" href="#17-æ¸…é™¤æµ®åŠ¨çš„å‡ ç§æ–¹å¼å„è‡ªçš„ä¼˜ç¼ºç‚¹"></a> 17. æ¸…é™¤æµ®åŠ¨çš„å‡ ç§æ–¹å¼ï¼Œå„è‡ªçš„ä¼˜ç¼ºç‚¹</h3>
<ul>
<li>ä½¿ç”¨ç©ºæ ‡ç­¾æ¸…é™¤æµ®åŠ¨clear:both(ç†è®ºä¸Šèƒ½æ¸…é™¤ä»»ä½•æ ‡ç­¾ï¼Œï¼Œï¼Œå¢åŠ æ— æ„ä¹‰çš„æ ‡ç­¾)</li>
<li>ä½¿ç”¨<code>overflow:auto</code>(ç©ºæ ‡ç­¾å…ƒç´ æ¸…é™¤æµ®åŠ¨è€Œä¸å¾—ä¸å¢åŠ æ— æ„ä»£ç çš„å¼Šç«¯ï¼Œä½¿ç”¨zoom:1ç”¨äºå…¼å®¹IE)</li>
<li>ä½¿ç”¨afertä¼ªå…ƒç´ æ¸…é™¤æµ®åŠ¨ï¼ˆç”¨äºéIEæµè§ˆå™¨ï¼‰</li>
</ul>
]]></content>
      
        <categories>
            
            <category> HTML </category>
            
        </categories>
        
        
        <tags>
            
            <tag> reports </tag>
            
            <tag> css </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[ç”¨SSHå®ç°æ— å¯†ç è‡ªåŠ¨ç™»é™†]]></title>
      <url>http://tech.noexception.cn/2016/08/22/%25E7%2594%25A8SSH%25E5%25AE%259E%25E7%258E%25B0%25E6%2597%25A0%25E5%25AF%2586%25E7%25A0%2581%25E8%2587%25AA%25E5%258A%25A8%25E7%2599%25BB%25E9%2599%2586/</url>
      <content type="html"><![CDATA[<p align = "center">SSHçš„å…¬é’¥ç§é’¥é—®é¢˜</p>
<a id="more"></a>
<h2 id="ç”¨sshå®ç°æ— å¯†ç è‡ªåŠ¨ç™»é™†"><a class="markdownIt-Anchor" href="#ç”¨sshå®ç°æ— å¯†ç è‡ªåŠ¨ç™»é™†"></a> ç”¨SSHå®ç°æ— å¯†ç è‡ªåŠ¨ç™»é™†</h2>
<ul>
<li>Â Â Â Â Â Â Â Â SSHå¹¿æ³›ç”¨äºè„šæœ¬è‡ªåŠ¨åŒ–ï¼Œå®ƒä½¿å¾—æˆ‘ä»¬å¯ä»¥åœ¨è¿œç¨‹ä¸»æœºä¸Šæ‰§è¡Œå‘½ä»¤å¹¶è¯»å–è¾“å‡ºã€‚SSHé€šå¸¸ä½¿ç”¨ç”¨æˆ·åå’Œå¯†ç è¿›è¡Œè®¤è¯ï¼Œåœ¨å…¶æ‰§è¡Œè¿‡ç¨‹ä¸­ä¼šæç¤ºè¾“å…¥å¯†ç ã€‚ä½†æ˜¯åœ¨è‡ªåŠ¨åŒ–è„šæœ¬ä¸­è¦æ±‚ç”¨æˆ·è¾“å…¥å¯†ç å°±æ˜¾å¾—ä¸å®é™…äº†ã€‚å› æ­¤éœ€è¦å°†ç™»å½•è¿‡ç¨‹è‡ªåŠ¨åŒ–ã€‚SSHåŒ…å«äº†ä¸€ä¸ªå†…å»ºç‰¹æ€§ï¼Œå¯ä»¥ç”¨SSHå¯†é’¥å®ç°è‡ªåŠ¨ç™»å½•ã€‚</li>
</ul>
<h4 id="1-é¢„å¤‡çŸ¥è¯†"><a class="markdownIt-Anchor" href="#1-é¢„å¤‡çŸ¥è¯†"></a> 1. é¢„å¤‡çŸ¥è¯†ï¼š</h4>
<p>Â Â Â Â Â Â Â  SSHé‡‡ç”¨éå¯¹ç§°åŠ å¯†æŠ€æœ¯ï¼Œè®¤è¯å¯†é’¥åŒ…å«ä¸¤éƒ¨åˆ†ï¼šä¸€ä¸ªå…¬é’¥å’Œä¸€ä¸ªç§é’¥ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡<code>ssh-keygen</code> å‘½ä»¤åˆ›å»ºè®¤è¯å¯†é’¥ã€‚æƒ³è¦å®ç°è‡ªåŠ¨åŒ–è®¤è¯ï¼Œå…¬é’¥å¿…é¡»æ”¾ç½®åœ¨æœåŠ¡å™¨ä¸­ï¼ˆå°†å…¶åŠ å…¥æ–‡ä»¶<code>~/.ssh/authorized_keys</code>ï¼‰ï¼Œä¸å…¬é’¥å¯¹åº”çš„ç§é’¥åº”è¯¥æ”¾å…¥ç™»å½•å®¢æˆ·æœºçš„<code>~/.ssh</code> ç›®å½•ä¸­ã€‚å¦ä¸€äº›ä¸SSHç›¸å…³çš„é…ç½®ä¿¡æ¯ï¼ˆä¾‹å¦‚ï¼Œarthorized_keysæ–‡ä»¶çš„è·¯å¾„ä¸åç§°ï¼‰å¯ä»¥é€šè¿‡ä¿®æ”¹æ–‡ä»¶/etc/ssh/sshd_configè¿›è¡Œé…ç½®ã€‚</p>
<h4 id="2-å®æˆ˜æ¼”ç»ƒ"><a class="markdownIt-Anchor" href="#2-å®æˆ˜æ¼”ç»ƒ"></a> 2. å®æˆ˜æ¼”ç»ƒï¼š</h4>
<p>Â Â Â Â Â Â Â  è®¾ç½®SSHè‡ªåŠ¨åŒ–è®¤è¯éœ€è¦ä¸¤æ­¥ï¼š<br />
Â Â Â Â Â Â Â  Â Â Â Â Â Â Â  1. åˆ›å»ºSSHå¯†é’¥ï¼Œè¿™é‡Œç”¨äºç™»å½•è¿œç¨‹ä¸»æœºï¼›<br />
Â Â Â Â Â Â Â  Â Â Â Â Â Â Â  2. å°†ç”Ÿæˆçš„å…¬é’¥ä¼ ç»™è¿œç¨‹ä¸»æœºï¼Œå¹¶å°†å…¶åŠ å…¥æ–‡ä»¶<code>~/.ssh/authorized_keys</code> ä¸­ã€‚<br />
Â Â Â Â Â Â Â  è¾“å…¥å‘½ä»¤<code>ssh-keygen</code> åˆ›å»ºSSHå¯†é’¥ï¼Œå¹¶æŒ‡å®šåŠ å¯†ç®—æ³•ç±»å‹ä¸ºRSAï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">$ ssh-keygen -t rsa</span><br><span class="line">Generating public&#x2F;private rsa key pair.</span><br><span class="line">Enter file in which to save the key (&#x2F;home&#x2F;HELEN&#x2F;.ssh&#x2F;id_rsa):</span><br><span class="line">Enter passphrase (empty for no passphrase):</span><br><span class="line">Enter same passphrase again:</span><br><span class="line">Your identification has been saved in &#x2F;home&#x2F;HELEN&#x2F;.ssh&#x2F;id_rsa.</span><br><span class="line">Your public key has been saved in &#x2F;home&#x2F;HELEN&#x2F;.ssh&#x2F;id_rsa.pub.</span><br><span class="line">The key fingerprint is:</span><br><span class="line">SHA256:NKlL1KFVD867uAwLIAd01ujibgrwx18Q45FrFlOCV4Q HELEN@Lucifer</span><br><span class="line">The key&#39;s randomart image is:</span><br><span class="line">+---[RSA 2048]----+</span><br><span class="line">| . oo..+*.o      |</span><br><span class="line">|. o...EB &#x3D; o     |</span><br><span class="line">|. .  .X &#x3D; o .    |</span><br><span class="line">| o . o X . .     |</span><br><span class="line">|+ +   O S .      |</span><br><span class="line">|.&#x3D; o + o . .     |</span><br><span class="line">|o . + o o .      |</span><br><span class="line">|.o . o &#x3D; .       |</span><br><span class="line">|+     o o        |</span><br><span class="line">+----[SHA256]-----+</span><br></pre></td></tr></table></figure>
<ul>
<li>ä½ éœ€è¦è¾“å…¥ä¸€ä¸ªå£ä»¤æ¥ç”Ÿæˆä¸€å¯¹å…¬é’¥å’Œç§é’¥ã€‚å¦‚æœä¸è¾“å…¥çš„è¯ï¼Œä¹Ÿå¯ä»¥ç”Ÿæˆå¯†é’¥ï¼Œä½†æ˜¯è¿™æ ·åšå¯ä¸å®‰å…¨ã€‚æˆ‘ä»¬å¯ä»¥ç¼–å†™ç›‘æ§è„šæœ¬ï¼Œåˆ©ç”¨è‡ªåŠ¨ç™»é™†æ¥ç™»å…¥å¤šå°ä¸»æœºã€‚å¯¹äºè¿™ç§æƒ…å†µï¼Œåœ¨è¿è¡Œ<code>ssh-keygen</code> å‘½ä»¤æ—¶ï¼Œä¸è¦å¡«å…¥å£ä»¤ï¼Œè¿™æ ·å°±èƒ½å¤Ÿé¿å…åœ¨è„šæœ¬è¿è¡Œæ—¶å‘ä½ ç´¢è¦å£ä»¤äº†ã€‚</li>
<li>ç°åœ¨<code>~/.ssh/id_rsa.pub</code>å’Œ<code>~/.ssh/id_rsa</code> å·²ç»ç”Ÿæˆäº†ã€‚<strong><code>id_rsa.pub</code>æ˜¯ç”Ÿæˆçš„å…¬é’¥</strong>ï¼Œ**<code>i_rsa</code>æ˜¯ç”Ÿæˆçš„ç§é’¥ã€‚**å…¬é’¥å¿…é¡»æ·»åŠ åˆ°è¿œç¨‹æœåŠ¡å™¨<code>~/.ssh/authorized_keys</code> æ–‡ä»¶ä¸­ï¼Œè¿™å°æœåŠ¡å™¨ä¹Ÿæ­£æ˜¯æˆ‘ä»¬æƒ³ä»å½“å‰ä¸»æœºè‡ªåŠ¨ç™»å…¥çš„é‚£å°æœåŠ¡å™¨ã€‚</li>
<li><strong>å¤šæ•°Linuxå‘å¸ƒç‰ˆä¸­æœ‰ä¸€ä¸ªå«åš <code>ssh-copy-di</code> çš„å·¥å…·ï¼Œå®ƒå¯ä»¥è‡ªåŠ¨å°†å…¬é’¥åŠ å…¥è¿œç¨‹æœåŠ¡å™¨çš„authorized_keysæ–‡ä»¶ä¸­ã€‚ç”¨æ³•å¦‚ä¸‹ï¼š<code>ssh-copy-id USER@REMOTE_HOST</code></strong></li>
</ul>
]]></content>
      
        <categories>
            
            <category> Linux </category>
            
        </categories>
        
        
        <tags>
            
            <tag> ssh </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[æ»‘åŠ¨èœå•]]></title>
      <url>http://tech.noexception.cn/2016/08/22/%25E6%25BB%2591%25E5%258A%25A8%25E8%258F%259C%25E5%258D%2595/</url>
      <content type="html"><![CDATA[<p align = "center">ä»‹ç»æ»‘åŠ¨èœå•çš„ç”¨æ³•</p>
<a id="more"></a>
<h3 id="é¢„å¤‡"><a class="markdownIt-Anchor" href="#é¢„å¤‡"></a> é¢„å¤‡ï¼š</h3>
<ul>
<li>support v4åŒ…ï¼Œç»§æ‰¿è‡ªViewGroup</li>
</ul>
<h2 id="ç¤ºä¾‹"><a class="markdownIt-Anchor" href="#ç¤ºä¾‹"></a> ç¤ºä¾‹ï¼š</h2>
<h3 id="æ ·å¼ä¸€"><a class="markdownIt-Anchor" href="#æ ·å¼ä¸€"></a> æ ·å¼ä¸€ï¼š</h3>
<ul>
<li>ç¤ºä¾‹å¸ƒå±€</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=<span class="string">"1.0"</span> encoding=<span class="string">"utf-8"</span>?&gt;</span><br><span class="line">&lt;android.support.v4.widget.SlidingPaneLayout</span><br><span class="line">    xmlns:android=<span class="string">"http://schemas.android.com/apk/res/android"</span></span><br><span class="line">    xmlns:app=<span class="string">"http://schemas.android.com/apk/res-auto"</span></span><br><span class="line">    android:id=<span class="string">"@+id/SlidingPane"</span></span><br><span class="line">    android:layout_width=<span class="string">"match_parent"</span></span><br><span class="line">    android:layout_height=<span class="string">"match"</span></span><br><span class="line">    android:background=<span class="string">"#D32F2F"</span>&gt;</span><br><span class="line"></span><br><span class="line">    &lt;LinearLayout</span><br><span class="line">        android:id=<span class="string">"@+id/ll_menu"</span></span><br><span class="line">        android:gravity=<span class="string">"center"</span></span><br><span class="line">        android:layout_width=<span class="string">"200dp"</span></span><br><span class="line">        android:background=<span class="string">"#d32f2f"</span></span><br><span class="line">        android:layout_height=<span class="string">"match_parent"</span>&gt;</span><br><span class="line"></span><br><span class="line">        &lt;TextView</span><br><span class="line">            android:text=<span class="string">"Menu"</span></span><br><span class="line">            android:textSize=<span class="string">"25sp"</span></span><br><span class="line">            android:textColor=<span class="string">"#ffffff"</span></span><br><span class="line">            android:layout_width=<span class="string">"wrap_content"</span></span><br><span class="line">            android:layout_height=<span class="string">"wrap_content"</span> /&gt;</span><br><span class="line">    &lt;/LinearLayout&gt;</span><br><span class="line"></span><br><span class="line">    &lt;LinearLayout</span><br><span class="line">        android:id=<span class="string">"@+id/ll_main"</span></span><br><span class="line">        android:background=<span class="string">"#ffffff"</span></span><br><span class="line">        android:orientation=<span class="string">"vertical"</span></span><br><span class="line">        android:layout_width=<span class="string">"match_parent"</span></span><br><span class="line">        android:layout_height=<span class="string">"match_parent"</span>&gt;</span><br><span class="line"></span><br><span class="line">        &lt;android.support.v7.widget.Toolbar</span><br><span class="line">            android:id=<span class="string">"@+id/toolbar"</span></span><br><span class="line">            android:layout_width=<span class="string">"match_parent"</span></span><br><span class="line">            android:layout_height=<span class="string">"?attr/actionBarSize"</span></span><br><span class="line">            android:background=<span class="string">"@color/colorPrimary"</span></span><br><span class="line">            app:popupTheme=<span class="string">"@style/ThemeOverlay.AppCompat.Light"</span></span><br><span class="line">            app:theme=<span class="string">"@style/ThemeOverlay.AppCompat.Dark.ActionBar"</span>/&gt;</span><br><span class="line">    &lt;/LinearLayout&gt;</span><br><span class="line"></span><br><span class="line">&lt;/android.support.v4.widget.SlidingPaneLayout&gt;</span><br></pre></td></tr></table></figure>
<h3 id="slidingpanelayout-ä¸€äº›ä¸»è¦çš„æ–¹æ³•"><a class="markdownIt-Anchor" href="#slidingpanelayout-ä¸€äº›ä¸»è¦çš„æ–¹æ³•"></a> SlidingPaneLayout ä¸€äº›ä¸»è¦çš„æ–¹æ³•ï¼š</h3>
<ul>
<li><code>setParallaxDistance(int parallaxBy)</code>è®¾ç½®æ»‘åŠ¨è§†å·®</li>
<li><code>setCoveredFadeColor(int color)</code>å¯¼èˆªèœå•è§†å›¾çš„æ»‘åŠ¨é¢œè‰²æ¸å˜</li>
<li><code>setSliderFadeColor(int color)</code>ä¸»è§†å›¾çš„æ»‘åŠ¨é¢œè‰²æ¸å˜</li>
<li><code>setPanelSlideListener(SlidingPanelLayou.PanelSlideListener listener)</code>æ»‘åŠ¨ç›‘å¬</li>
<li><code>openPanel()</code>æ‰“å¼€å¯¼èˆªèœå•</li>
<li><code>closePanel()</code>å…³é—­å¯¼èˆªèœå•</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SlidingPanelLayoutActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> SlidingPaneLayout mSlidingPane;</span><br><span class="line">  <span class="keyword">private</span> LinearLayout ll_menu,ll_main;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(@Nullable Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">      setContentView(R.layout.first_layout);</span><br><span class="line">      mSlidingPane=(SlidingPaneLayout)findViewById(R.id.SlidingPane);</span><br><span class="line">      ll_main=(LinearLayout) findViewById(R.id.ll_main);</span><br><span class="line">      ll_menu=(LinearLayout) findViewById(R.id.ll_menu);</span><br><span class="line">      setSupportActionBar((Toolbar)findViewById(R.id.toolbar));</span><br><span class="line"></span><br><span class="line">      <span class="comment">//è®¾ç½®æ»‘åŠ¨è§†å·®    å¯é€‰</span></span><br><span class="line">      mSlidingPane.setParallaxDistance(<span class="number">200</span>);</span><br><span class="line">      <span class="comment">//èœå•æ»‘åŠ¨çš„é¢œè‰²æ¸å˜è®¾ç½®   å¯é€‰</span></span><br><span class="line"><span class="comment">//        mSlidingPane.setCoveredFadeColor(getResources().getColor(R.color.colorAccent));</span></span><br><span class="line">      <span class="comment">//ä¸»è§†å›¾æ»‘åŠ¨çš„é¢œè‰²æ¸å˜è®¾ç½®  å¯é€‰</span></span><br><span class="line">      mSlidingPane.setSliderFadeColor(<span class="number">0</span>);</span><br><span class="line">      <span class="comment">//æ»‘åŠ¨ç›‘å¬  å¯é€‰</span></span><br><span class="line">      mSlidingPane.setPanelSlideListener(<span class="keyword">new</span> SlidingPaneLayout.PanelSlideListener()&#123;</span><br><span class="line">          <span class="comment">/**</span></span><br><span class="line"><span class="comment">           * Called when a sliding pane's position changes.</span></span><br><span class="line"><span class="comment">           *</span></span><br><span class="line"><span class="comment">           * <span class="doctag">@param</span> panel       The child view that was moved</span></span><br><span class="line"><span class="comment">           * <span class="doctag">@param</span> slideOffset The new offset of this sliding pane within its range, from 0-1</span></span><br><span class="line"><span class="comment">           */</span></span><br><span class="line">          <span class="meta">@Override</span></span><br><span class="line">          <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onPanelSlide</span><span class="params">(View panel, <span class="keyword">float</span> slideOffset)</span> </span>&#123;</span><br><span class="line">              Log.d(<span class="string">"mylog"</span>, <span class="string">"slide---"</span>+slideOffset);</span><br><span class="line">              <span class="comment">//slideOffsetè¿™ä¸ªå‚æ•°æ˜¯è·Ÿéšæ»‘åŠ¨0-1å˜åŒ–çš„</span></span><br><span class="line">              <span class="comment">//é€šè¿‡è¿™ä¸ªç«–ç›´å˜åŒ–æˆ‘ä»¬å¯ä»¥åšå‡ºä¸€äº›ä¸ä¸€æ ·çš„æ»‘åŠ¨æ•ˆæœ</span></span><br><span class="line"><span class="comment">//                ll_menu.setScaleY(slideOffset/2+0.5F);</span></span><br><span class="line"><span class="comment">//                ll_menu.setScaleX(slideOffset/2+0.5F);</span></span><br><span class="line"><span class="comment">//                ll_main.setScaleY(1-slideOffset/5);</span></span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line">          <span class="comment">/**</span></span><br><span class="line"><span class="comment">           * Called when a sliding pane becomes slid completely open. The pane may or may not</span></span><br><span class="line"><span class="comment">           * be interactive at this point depending on how much of the pane is visible.</span></span><br><span class="line"><span class="comment">           *</span></span><br><span class="line"><span class="comment">           * <span class="doctag">@param</span> panel The child view that was slid to an open position, revealing other panes</span></span><br><span class="line"><span class="comment">           */</span></span><br><span class="line">          <span class="meta">@Override</span></span><br><span class="line">          <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onPanelOpened</span><span class="params">(View panel)</span> </span>&#123;</span><br><span class="line">              Log.d(<span class="string">"mylog"</span>,<span class="string">"slide---open"</span>);</span><br><span class="line"></span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line">          <span class="comment">/**</span></span><br><span class="line"><span class="comment">           * Called when a sliding pane becomes slid completely closed. The pane is now guaranteed</span></span><br><span class="line"><span class="comment">           * to be interactive. It may now obscure other views in the layout.</span></span><br><span class="line"><span class="comment">           *</span></span><br><span class="line"><span class="comment">           * <span class="doctag">@param</span> panel The child view that was slid to a closed position</span></span><br><span class="line"><span class="comment">           */</span></span><br><span class="line">          <span class="meta">@Override</span></span><br><span class="line">          <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onPanelClosed</span><span class="params">(View panel)</span> </span>&#123;</span><br><span class="line">              Log.d(<span class="string">"mylog"</span>,<span class="string">"slide---close"</span>);</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>è¿™æ ·å°±åšå‡ºäº†äº’åŠ¨å¯¼èˆªçš„æ•ˆæœ</li>
<li>æ³¨æ„ï¼š<strong>åœ¨æ»‘åŠ¨ç›‘å¬ä¸­çš„è¿™ä¸ªæ–¹æ³•é‡Œï¼Œæ ¹æ®<code>slideOffset</code>å‚æ•°0~1çš„å˜åŒ–å¯ä»¥å»æ”¹å˜è§†å›¾å¤§å°å°±ä¼šåšå‡ºæ›´å¤šç§ç±»çš„æ•ˆæœï¼Œè¿™é‡Œæˆ‘ä»¬è®¾ç½®æ»‘åŠ¨è¿‡ç¨‹ä¸­æ”¹å˜ä¸»è§†å›¾çš„å¤§å°ï¼Œä»£ç å¦‚ä¸‹ï¼š</strong></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onPanelSlide</span><span class="params">(View panel, <span class="keyword">float</span> slideOffset)</span></span>&#123;</span><br><span class="line">    <span class="comment">//slideOffsetè¿™ä¸ªå‚æ•°æ˜¯è·Ÿéšæ»‘åŠ¨0~1å˜åŒ–çš„</span></span><br><span class="line">    <span class="comment">//é€šè¿‡è¿™ä¸ªæ•°å€¼å˜åŒ–æˆ‘ä»¬å¯ä»¥åšå‡ºä¸€äº›ä¸ä¸€æ ·çš„æ»‘åŠ¨æ•ˆæœ</span></span><br><span class="line">    ll_menu.setScaleY(slideOffset/<span class="number">2</span>+<span class="number">0.5F</span>);</span><br><span class="line">    ll_menu.setScaleX(slideOffset<span class="number">.2</span>+<span class="number">0.5F</span>);</span><br><span class="line">    ll_main.setScaleY(<span class="number">1</span>-slideOffset/<span class="number">5</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="æ ·å¼äºŒ"><a class="markdownIt-Anchor" href="#æ ·å¼äºŒ"></a> æ ·å¼äºŒï¼š</h3>
<ul>
<li>å¿«é€Ÿå®ç°è¿™ä¸ªæ•ˆæœéœ€è¦åˆ©ç”¨V4åŒ…çš„DrawerLayoutè¿™ä¸ªå¸ƒå±€å®¹å™¨ï¼Œå¯è§V4åŒ…ä¸‹é¢æœ‰å¤šå°‘å¥½ä¸œè¥¿ï¼Œå¦å¤–å…¶å®<strong>SlidingPaneLayout</strong>å’Œ<strong>DrawerLayout</strong>éƒ½æ˜¯åˆ©ç”¨V4çš„<strong>ViewDragHelper</strong>å»å®ç°çš„ï¼Œè¿™æ˜¯ä¸€ä¸ªå¸®åŠ©ç±»ï¼Œè¿™é‡Œå°±ä¸å¤šä»‹ç»äº†ï¼Œå¯¹å®ƒæ„Ÿå…´è¶£çš„å¯ä»¥æ·±å…¥äº†è§£ä¸‹ã€‚</li>
<li>ç¤ºä¾‹å¸ƒå±€ï¼š</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=<span class="string">"1.0"</span> encoding=<span class="string">"utf-8"</span>?&gt;</span><br><span class="line">&lt;LinearLayout</span><br><span class="line">    xmlns:android=<span class="string">"http://schemas.android.com/apk/res/android"</span></span><br><span class="line">    xmlns:tools=<span class="string">"http://schemas.android.com/tools"</span></span><br><span class="line">    xmlns:app=<span class="string">"http://schemas.android.com/apk/res-auto"</span></span><br><span class="line">    android:orientation=<span class="string">"vertical"</span></span><br><span class="line">    android:layout_width=<span class="string">"match_parent"</span></span><br><span class="line">    android:layout_height=<span class="string">"match_parent"</span>&gt;</span><br><span class="line"></span><br><span class="line">    &lt;android.support.v7.widget.Toolbar</span><br><span class="line">        android:id=<span class="string">"@+id/toolbar2"</span></span><br><span class="line">        android:layout_width=<span class="string">"match_parent"</span></span><br><span class="line">        android:layout_height=<span class="string">"?attr/actionBarSize"</span></span><br><span class="line">        android:background=<span class="string">"@color/colorPrimary"</span></span><br><span class="line">        app:popupTheme=<span class="string">"@style/ThemeOverlay.AppCompat.Light"</span></span><br><span class="line">        app:theme=<span class="string">"@style/ThemeOverlay.AppCompat.Dark.ActionBar"</span>/&gt;</span><br><span class="line"></span><br><span class="line">    &lt;android.support.v4.widget.DrawerLayout</span><br><span class="line">        android:id=<span class="string">"@+id/dl_left"</span></span><br><span class="line">        android:layout_width=<span class="string">"match_parent"</span></span><br><span class="line">        android:layout_height=<span class="string">"match_parent"</span>&gt;</span><br><span class="line"></span><br><span class="line">        &lt;LinearLayout</span><br><span class="line">            android:background=<span class="string">"#ffffff"</span></span><br><span class="line">            android:layout_width=<span class="string">"match_parent"</span></span><br><span class="line">            android:layout_height=<span class="string">"match_parent"</span>&gt;</span><br><span class="line">        &lt;/LinearLayout&gt;</span><br><span class="line"></span><br><span class="line">        &lt;!--drawer layout--&gt;</span><br><span class="line">        &lt;LinearLayout</span><br><span class="line">            android:layout_width=<span class="string">"200dp"</span></span><br><span class="line">            android:layout_height=<span class="string">"match_parent"</span></span><br><span class="line">            android:background=<span class="string">"#d32f2f"</span></span><br><span class="line">            android:layout_gravity=<span class="string">"start"</span>&gt;</span><br><span class="line"></span><br><span class="line">            &lt;TextView</span><br><span class="line">                android:layout_width=<span class="string">"match_parent"</span></span><br><span class="line">                android:layout_height=<span class="string">"match_parent"</span></span><br><span class="line">                android:text=<span class="string">"Menu"</span></span><br><span class="line">                android:textSize=<span class="string">"25sp"</span></span><br><span class="line">                android:gravity=<span class="string">"center"</span></span><br><span class="line">                android:textColor=<span class="string">"#ffffff"</span>/&gt;</span><br><span class="line"></span><br><span class="line">        &lt;/LinearLayout&gt;</span><br><span class="line"></span><br><span class="line">    &lt;/android.support.v4.widget.DrawerLayout&gt;</span><br><span class="line"></span><br><span class="line">&lt;/LinearLayout&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>éœ€è¦æ³¨æ„çš„æ˜¯ä¸»è§†å›¾çš„å¸ƒå±€ä»£ç è¦æ”¾åœ¨ä¾§æ»‘èœå•å¸ƒå±€çš„å‰é¢ï¼Œä¾§æ»‘èœå•å¸ƒå±€çš„ä»£ç ä¸­<code>android:layout_gravity=&quot;start&quot;</code>ä»å·¦ä¾§æ»‘åŠ¨ï¼Œåä¹‹endå³ä¾§æ»‘åŠ¨</li>
</ul>
<h3 id="drawerlayoutçš„ä¸€äº›ä¸»è¦æ–¹æ³•"><a class="markdownIt-Anchor" href="#drawerlayoutçš„ä¸€äº›ä¸»è¦æ–¹æ³•"></a> DrawerLayoutçš„ä¸€äº›ä¸»è¦æ–¹æ³•ï¼š</h3>
<ul>
<li><code>addDrawerListener(DrawerLayout.DrawerListener listener)</code>æ·»åŠ æ»‘åŠ¨ç›‘å¬</li>
<li><code>openDrawer(int gravity)</code>å¼€å¯å¯¼èˆªèœå•å‚æ•°ï¼š<code>GravityCompat.START GravityCompat.END</code>è¦è·ŸXMLè®¾ç½®ç›¸åŒ</li>
<li><code>closeDrawer(int gravity)</code>å…³é—­å¯¼èˆªèœå•</li>
<li><code>isDrawerOpen(int drawerGravity)</code>èœå•æ˜¯å¦å¼€å¯</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DrawerLayoutActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> DrawerLayout drawerLayout;</span><br><span class="line">    <span class="keyword">private</span> Toolbar toolbar;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(@Nullable Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.second_layout);</span><br><span class="line">        setSupportActionBar(toolbar = (Toolbar) findViewById(R.id.toolbar2));</span><br><span class="line">        drawerLayout = (DrawerLayout)findViewById(R.id.dl_left);</span><br><span class="line">        <span class="comment">//ActionBarDrawerToggleæ˜¯DrawerLayout.DrawerListenerçš„å®ç°</span></span><br><span class="line">        <span class="comment">//å¯ä»¥æ–¹ä¾¿çš„å°†drawlayoutå’Œactionbarç»“åˆèµ·æ¥</span></span><br><span class="line">        ActionBarDrawerToggle actionBarDrawerToggle = <span class="keyword">new</span> ActionBarDrawerToggle(<span class="keyword">this</span>,drawerLayout, toolbar, R.string.open, R.string.close)&#123;</span><br><span class="line">            <span class="comment">/**</span></span><br><span class="line"><span class="comment">             * &#123;<span class="doctag">@link</span> DrawerLayout.DrawerListener&#125; callback method. If you do not use your</span></span><br><span class="line"><span class="comment">             * ActionBarDrawerToggle instance directly as your DrawerLayout's listener, you should call</span></span><br><span class="line"><span class="comment">             * through to this method from your own listener object.</span></span><br><span class="line"><span class="comment">             *</span></span><br><span class="line"><span class="comment">             * <span class="doctag">@param</span> drawerView Drawer view that is now open</span></span><br><span class="line"><span class="comment">             */</span></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onDrawerOpened</span><span class="params">(View drawerView)</span> </span>&#123;</span><br><span class="line">                <span class="keyword">super</span>.onDrawerOpened(drawerView);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">/**</span></span><br><span class="line"><span class="comment">             * &#123;<span class="doctag">@link</span> DrawerLayout.DrawerListener&#125; callback method. If you do not use your</span></span><br><span class="line"><span class="comment">             * ActionBarDrawerToggle instance directly as your DrawerLayout's listener, you should call</span></span><br><span class="line"><span class="comment">             * through to this method from your own listener object.</span></span><br><span class="line"><span class="comment">             *</span></span><br><span class="line"><span class="comment">             * <span class="doctag">@param</span> drawerView Drawer view that is now closed</span></span><br><span class="line"><span class="comment">             */</span></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onDrawerClosed</span><span class="params">(View drawerView)</span> </span>&#123;</span><br><span class="line">                <span class="keyword">super</span>.onDrawerClosed(drawerView);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        actionBarDrawerToggle.syncState();</span><br><span class="line">        drawerLayout.addDrawerListener(actionBarDrawerToggle);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>DrawerLayout</strong>è·Ÿ<strong>ActionBarDrawerToggle</strong>é…åˆå¿«é€Ÿå°±å¯ä»¥å¿«é€Ÿæ„å»ºå‡ºå…·æœ‰åŠ¨ç”»äº¤äº’çš„æ»‘åŠ¨å¯¼èˆªèœå•æ•ˆæœï¼Œæ˜¯ä¸æ˜¯å¾ˆç®€å•ã€‚</li>
</ul>
<h2 id="å½“ä¸‹çš„è®¾è®¡æ ‡å‡†"><a class="markdownIt-Anchor" href="#å½“ä¸‹çš„è®¾è®¡æ ‡å‡†"></a> å½“ä¸‹çš„è®¾è®¡æ ‡å‡†</h2>
<ul>
<li>æ¥ä¸‹æ¥æ€»ç»“â€œå½“ä¸‹â€å¦‚ä½•æŒ‰ç…§Androidçš„è®¾è®¡æ ‡å‡†å»æ»‘åŠ¨å¯¼èˆªèœå•ï¼Œæˆ‘ä¸ºä»€ä¹ˆè¯´çš„â€œå½“ä¸‹â€å‘¢ï¼Ÿå› ä¸ºè¿™ä¸ªè®¾è®¡æ ‡å‡†æ˜¯ä¼šå˜çš„ã€‚
<ul>
<li>æ»‘åŠ¨å¯¼èˆªèœå•éœ€è¦åœ¨Actionbar(Toolbar)ä¸‹é¢ï¼Œè¿™åœ¨Android 4.Xæ—¶ä»£æ˜¯æ¯”è¾ƒå¸¸è§çš„è®¾è®¡ï¼Œä¹Ÿæ˜¯å½“æ—¶Android Designæ ‡å‡†è®¾è®¡ã€‚<br />
###å®ç°æ­¥éª¤ï¼š</li>
</ul>
</li>
<li>å› ä¸º<code>NavigationView</code>åœ¨Designåº“ä¸­ï¼Œéœ€è¦æ·»åŠ ä¾èµ–ï¼š<code>compile 'com.android.support:design:24.0.0'</code></li>
<li>åœ¨DrawLayout ä¸­æ·»åŠ  NavigationView:</li>
<li>å¸ƒå±€ï¼š</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&lt;android.support.v4.widget.DrawerLayout</span><br><span class="line">    xmlns:android=<span class="string">"http://schemas.android.com/apk/res/android"</span></span><br><span class="line">    xmlns:app=<span class="string">"http://schemas.android.com/apk/res-auto"</span></span><br><span class="line">    android:layout_width=<span class="string">"match_parent"</span></span><br><span class="line">    android:layout_height=<span class="string">"match_parent"</span></span><br><span class="line">    android:id=<span class="string">"@+id/drawerlayout"</span></span><br><span class="line">    android:fitsSystemWindows=<span class="string">"true"</span>&gt;</span><br><span class="line">    &lt;LinearLayout</span><br><span class="line">        android:id=<span class="string">"@+id/ll_main"</span></span><br><span class="line">        android:layout_width=<span class="string">"match_parent"</span></span><br><span class="line">        android:layout_height=<span class="string">"match_parent"</span></span><br><span class="line">        android:orientation=<span class="string">"vertical"</span>&gt;</span><br><span class="line"></span><br><span class="line">        &lt;android.support.v7.widget.Toolbar</span><br><span class="line">            android:id=<span class="string">"@+id/toolbar"</span></span><br><span class="line">            android:layout_width=<span class="string">"match_parent"</span></span><br><span class="line">            android:layout_height=<span class="string">"?attr/actionBarSize"</span></span><br><span class="line">            android:background=<span class="string">"@color/colorPrimary"</span></span><br><span class="line">            app:popupTheme=<span class="string">"@style/ThemeOverlay.AppCompat.Light"</span></span><br><span class="line">            app:theme=<span class="string">"@style/ThemeOverlay.AppCompat.Dark.ActionBar"</span>/&gt;</span><br><span class="line"></span><br><span class="line">    &lt;/LinearLayout&gt;</span><br><span class="line"></span><br><span class="line">    &lt;android.support.design.widget.NavigationView</span><br><span class="line">        android:id=<span class="string">"@+id/navigationView"</span></span><br><span class="line">        android:layout_width=<span class="string">"wrap_content"</span></span><br><span class="line">        android:layout_height=<span class="string">"match_parent"</span></span><br><span class="line">        android:layout_gravity=<span class="string">"start"</span></span><br><span class="line">        app:headerLayout=<span class="string">"@layout/nv_header"</span></span><br><span class="line">        app:menu=<span class="string">"@menu/main_drawer"</span>/&gt;</span><br><span class="line"></span><br><span class="line">&lt;/android.support.v4.widget.DrawerLayout&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>å› ä¸ºå±äºDrawLayoutçš„å¯¼èˆªèœå•å¸ƒå±€ï¼Œæ‰€ä»¥NavigationViewè¦åŠ ä¸Š<code>android:layout_gravity=&quot;start&quot;</code>ä»£è¡¨ä»å·¦é¢æ»‘åŠ¨ï¼Œåä¹‹æ˜¯&quot;end&quot;ã€‚</li>
<li>å…¶ä¸­<code>app:headerLayout=&quot;@layout/nv_header&quot;</code>éœ€è¦ä¼ å…¥ä¸€ä¸ªå¯¼èˆªèœå•çš„å¤´éƒ¨å¸ƒå±€ï¼Œå®ƒçš„ä½œç”¨å¦‚å›¾ç»¿æ¡†éƒ¨åˆ†ã€‚ã€‚</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å¤´éƒ¨å¸ƒå±€ä»£ç </span></span><br><span class="line">&lt;?xml version=<span class="string">"1.0"</span> encoding=<span class="string">"utf-8"</span>?&gt;</span><br><span class="line">&lt;LinearLayout</span><br><span class="line">    xmlns:android=<span class="string">"http://schemas.android.com/apk/res/android"</span></span><br><span class="line">    android:orientation=<span class="string">"vertical"</span></span><br><span class="line">    android:layout_width=<span class="string">"match_parent"</span></span><br><span class="line">    android:layout_height=<span class="string">"180dp"</span></span><br><span class="line">    android:background=<span class="string">"@drawable/background_material"</span></span><br><span class="line">    android:gravity=<span class="string">"bottom"</span></span><br><span class="line">    android:padding=<span class="string">"16dp"</span>&gt;</span><br><span class="line"></span><br><span class="line">    &lt;LinearLayout</span><br><span class="line">        android:layout_marginTop=<span class="string">"8dp"</span></span><br><span class="line">        android:layout_width=<span class="string">"match_parent"</span></span><br><span class="line">        android:layout_height=<span class="string">"0dp"</span></span><br><span class="line">        android:layout_weight=<span class="string">"1"</span></span><br><span class="line">        android:gravity=<span class="string">"center_vertical"</span>&gt;</span><br><span class="line"></span><br><span class="line">        &lt;ImageView</span><br><span class="line">            android:id=<span class="string">"@+id/profile_image"</span></span><br><span class="line">            android:layout_width=<span class="string">"76dp"</span></span><br><span class="line">            android:layout_height=<span class="string">"76dp"</span></span><br><span class="line">            android:background=<span class="string">"@drawable/z"</span>/&gt;</span><br><span class="line"></span><br><span class="line">    &lt;/LinearLayout&gt;</span><br><span class="line"></span><br><span class="line">    &lt;TextView</span><br><span class="line">        android:text=<span class="string">"xlucifer"</span></span><br><span class="line">        android:textSize=<span class="string">"14sp"</span></span><br><span class="line">        android:textColor=<span class="string">"#fff"</span></span><br><span class="line">        android:textStyle=<span class="string">"bold"</span></span><br><span class="line">        android:paddingBottom=<span class="string">"4dp"</span></span><br><span class="line">        android:layout_width=<span class="string">"wrap_content"</span></span><br><span class="line">        android:layout_height=<span class="string">"wrap_content"</span> /&gt;</span><br><span class="line"></span><br><span class="line">    &lt;TextView</span><br><span class="line">        android:layout_width=<span class="string">"wrap_content"</span></span><br><span class="line">        android:layout_height=<span class="string">"wrap_content"</span></span><br><span class="line">        android:text=<span class="string">"1234567890"</span></span><br><span class="line">        android:textSize=<span class="string">"14sp"</span></span><br><span class="line">        android:textColor=<span class="string">"#fff"</span>/&gt;</span><br><span class="line"></span><br><span class="line">&lt;/LinearLayout&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li><code>app:menu=&quot;@menu/main_drawer&quot;</code>ç”¨äºè®¾ç½®å¯¼èˆªèœå•ä¸­çš„èœå•éƒ¨åˆ†ã€‚</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=<span class="string">"1.0"</span> encoding=<span class="string">"utf-8"</span>?&gt;</span><br><span class="line">&lt;menu xmlns:android=<span class="string">"http://schemas.android.com/apk/res/android"</span>&gt;</span><br><span class="line">&lt;group&gt;</span><br><span class="line">    &lt;item android:id=<span class="string">"@+id/navigation_item1"</span></span><br><span class="line">        android:checkable=<span class="string">"true"</span></span><br><span class="line">        android:title=<span class="string">"First"</span></span><br><span class="line">        android:icon=<span class="string">"@mipmap/ic_launcher"</span>/&gt;</span><br><span class="line">    &lt;item android:id=<span class="string">"@+id/navigation_item2"</span></span><br><span class="line">        android:checkable=<span class="string">"true"</span></span><br><span class="line">        android:title=<span class="string">"Second"</span></span><br><span class="line">        android:icon=<span class="string">"@mipmap/ic_launcher"</span>/&gt;</span><br><span class="line">    &lt;item android:id=<span class="string">"@+id/navigation_item3"</span></span><br><span class="line">        android:checkable=<span class="string">"true"</span></span><br><span class="line">        android:title=<span class="string">"Third"</span></span><br><span class="line">        android:icon=<span class="string">"@mipmap/ic_launcher"</span>/&gt;</span><br><span class="line">    &lt;item android:id=<span class="string">"@+id/navigation_item4"</span></span><br><span class="line">        android:checkable=<span class="string">"true"</span></span><br><span class="line">        android:title=<span class="string">"Fourth"</span></span><br><span class="line">        android:icon=<span class="string">"@mipmap/ic_launcher"</span>/&gt;</span><br><span class="line"></span><br><span class="line">    &lt;item android:id=<span class="string">"@+id/navigation_sub"</span></span><br><span class="line">        android:title=<span class="string">"å…¶ä»–"</span>&gt;</span><br><span class="line">        &lt;menu&gt;</span><br><span class="line">            &lt;item android:id=<span class="string">"@+id/navigation_sub_item1"</span></span><br><span class="line">                android:checkable=<span class="string">"true"</span></span><br><span class="line">                android:title=<span class="string">"Fifth"</span></span><br><span class="line">                android:icon=<span class="string">"@mipmap/ic_launcher"</span>/&gt;</span><br><span class="line">            &lt;item android:id=<span class="string">"@+id/navigation_sub_item2"</span></span><br><span class="line">                android:checkable=<span class="string">"true"</span></span><br><span class="line">                android:title=<span class="string">"Sixth"</span></span><br><span class="line">                android:icon=<span class="string">"@mipmap/ic_launcher"</span>/&gt;</span><br><span class="line">            &lt;item android:id=<span class="string">"@+id/navigation_sub_item3"</span></span><br><span class="line">                android:checkable=<span class="string">"true"</span></span><br><span class="line">                android:title=<span class="string">"Seventh"</span></span><br><span class="line">                android:icon=<span class="string">"@mipmap/ic_launcher"</span>/&gt;</span><br><span class="line">        &lt;/menu&gt;</span><br><span class="line">    &lt;/item&gt;</span><br><span class="line">&lt;/group&gt;</span><br><span class="line">&lt;/menu&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>æœ€åæ˜¯javaä¸­ä»£ç å®ç°ï¼š</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">NavigationViewActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> DrawerLayout drawerLayout;</span><br><span class="line">    <span class="keyword">private</span> Toolbar toolbar;</span><br><span class="line">    <span class="keyword">private</span> NavigationView navigationView;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(@Nullable Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.drawlayout_activity);</span><br><span class="line">        <span class="keyword">if</span>(Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.KITKAT)&#123;</span><br><span class="line">            <span class="comment">//é€æ˜çŠ¶æ€æ </span></span><br><span class="line">            getWindow().addFlags(WindowManager.LayoutParams.FLAG_TRANSLUCENT_STATUS);</span><br><span class="line">        &#125;</span><br><span class="line">        setSupportActionBar(toolbar=(Toolbar)findViewById(R.id.toolbar));</span><br><span class="line">        drawerLayout=(DrawerLayout)findViewById(R.id.drawerlayout);</span><br><span class="line">        navigationView=(NavigationView)findViewById(R.id.navigationView);</span><br><span class="line"></span><br><span class="line">        ActionBarDrawerToggle actionBarDrawerToggle = <span class="keyword">new</span> ActionBarDrawerToggle(<span class="keyword">this</span>, drawerLayout, toolbar, R.string.open, R.string.close);</span><br><span class="line">        actionBarDrawerToggle.syncState();</span><br><span class="line">        drawerLayout.addDrawerListener(actionBarDrawerToggle);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//navigationView menuç‚¹å‡»ç›‘å¬</span></span><br><span class="line">        navigationView.setNavigationItemSelectedListener(<span class="keyword">new</span> NavigationView.OnNavigationItemSelectedListener()&#123;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onNavigationItemSelected</span><span class="params">(MenuItem menuItem)</span> </span>&#123;</span><br><span class="line">                selectDrawerItem(menuItem);</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">selectDrawerItem</span><span class="params">(MenuItem menuItem)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">switch</span> (menuItem.getItemId())&#123;</span><br><span class="line">            <span class="comment">//...</span></span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line">                Toast.makeText(NavigationViewActivity.<span class="keyword">this</span>, <span class="string">"menu click"</span>, Toast.LENGTH_SHORT).show();</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        menuItem.setChecked(<span class="keyword">true</span>);</span><br><span class="line">        drawerLayout.closeDrawers();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>å…¶ä¸­ä¸‹é¢ä»£ç å’Œå¸ƒå±€ä»£ç ä¸­çš„<code>android:fitsSystemWindows=&quot;true&quot;</code>èµ·åˆ°ä¸€ä¸ªåŠé€æ˜çŠ¶æ€æ çš„ä½œç”¨ï¼ŒåŠé€æ˜çŠ¶æ€æ æ•ˆæœæœ‰å„ç§å®ç°æ–¹å¼ï¼Œgoogleä¹Ÿæ²¡èƒ½ç»™ä¸€ä¸ªå¥½çš„å®ç°æ–¹å¼ï¼Œåç»­å¯èƒ½ä¼šè€ƒè™‘å†™ä¸€ä¸ªå…¨é¢çš„äº†è§£é€æ˜çŠ¶æ€æ•ˆæœçš„æ–‡ç« </li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.KITKAT)&#123;</span><br><span class="line">    <span class="comment">//é€æ˜çŠ¶æ€æ </span></span><br><span class="line">    getWindow().addFlags(WindowManager.LayoutParams.FLAG_TRANSLUCENT_STATUS);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      
        <categories>
            
            <category> Android </category>
            
        </categories>
        
        
        <tags>
            
            <tag> view </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Android Studio NDKçš„é…ç½®]]></title>
      <url>http://tech.noexception.cn/2016/08/22/First/</url>
      <content type="html"><![CDATA[<p align = "center">ç¯å¢ƒçš„é…ç½®ä»¥åŠHelloWorldä¾‹ç¨‹</p>
<a id="more"></a>
<ol>
<li>æ–°å»ºProjectï¼Œæ­¤å¤„å·¥ç¨‹æ˜¯æœ€ç®€å•çš„ä¸€ä¸ªMainActivityå’Œä¸€ä¸ªlayoutæ–‡ä»¶ï¼Œåœ¨å·¥ç¨‹é‡Œå£°æ˜nativeæ–¹æ³•ã€‚<code>public static native String Hello();</code></li>
<li>ç¼–è¯‘hå¤´æ–‡ä»¶</li>
<li><code>View-&gt;Tool Windows-&gt;Terminal</code>ï¼Œè¿›å…¥å·¥ç¨‹ç›®å½•ã€‚ <code>cd app/src/main/java</code><br />
2. ç¼–è¯‘å¤´æ–‡ä»¶<code>javah -classpath D:/Android-ProjectsSetUp/MyNDK/app/src/main/java -d jni åŒ…å.MainActivty</code> <code>-classpath:ç±»æ‰€åœ¨ç›®å½• -d:è¾“å‡ºç›®å½• jni+åŒ…å+ç±»å</code></li>
<li>ç¼–å†™Cæ–‡ä»¶</li>
<li>æ–°å»ºJNIæ–‡ä»¶å¤¹</li>
<li>å®ç°å¤´æ–‡ä»¶é‡Œçš„å‡½æ•°</li>
</ol>
<pre><code>- **å°†åˆšæ‰çš„å¤´æ–‡ä»¶å¤åˆ¶åˆ°è¿™ä¸ªæ–°çš„jniæ–‡ä»¶å¤¹ä¸­**
- æ–°å»ºä¸€ä¸ªCæºæ–‡ä»¶ï¼Œå®ç°ä»£ç ï¼ˆæ³¨ï¼šå½“æ—¶è¿è¡Œç¨‹åºå‡ºäº†é—®é¢˜ï¼Œä¸çŸ¥é“æ˜¯æˆ‘Rebulidè¿˜æ˜¯çœŸçš„æ˜¯å«äº†ä¸€ä¸ªç©ºçš„Cæºæ–‡ä»¶è§£å†³çš„é—®é¢˜ã€‚å› ä¸ºç½‘ä¸Šè¯´è¦åŠ ä¸€ä¸ªåœ¨Jniæ–‡ä»¶å¤¹ä¸­åŠ ä¸€ä¸ªç©ºçš„æºæ–‡ä»¶æ‰èƒ½é€šè¿‡ç¼–è¯‘ï¼Œå¦‚æœä½ ä¹Ÿå‡ºç°äº†é—®é¢˜ï¼ŒåŠ ä¸€ä¸ªè¯•è¯•çœ‹èƒ½ä¸èƒ½è§£å†³ï¼‰
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"com_example_helen_ndkproject_MainActivity.h"</span></span></span><br><span class="line"><span class="function">jstring <span class="title">Java_com_example_helen_ndkproject_MainActivity_sayHello</span><span class="params">(JNIEnv *env, jobject thiz)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (*env)-&gt;NewStringUTF(env, <span class="string">"Hello from JNI !"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</code></pre>
<ol start="4">
<li>é…ç½®ä¸€äº›ä¿¡æ¯</li>
</ol>
<ul>
<li>åœ¨local.propertiesæ–‡ä»¶ä¸­è®¾ç½®ndkè·¯å¾„</li>
<li>åœ¨bulid.gradleçš„androidèŠ‚ç‚¹ä¸‹åŠ å…¥<code>ndk{ moduleName &quot;MyJni&quot;//è¿™æ˜¯moduleçš„åå­— }</code></li>
<li>åœ¨gradle.propertiesä¸‹é¢å¢åŠ ä¸€å¥è¯ï¼š<code>android.useDeprecatedNdk=true</code></li>
<li>åœ¨MainActivtyé‡Œè¯´æ˜è°ƒç”¨è¿™ä¸ªNDK<code>static { System.loadLibrary(&quot;MyJni&quot;);}</code></li>
</ul>
<ol start="5">
<li>ç„¶åå°±å¯ä»¥è¿è¡ŒMainActivtyäº†</li>
</ol>
<ul>
<li>å¦å¤–ç¯‡ï¼š
<ul>
<li>åˆ†å¹³å°é…ç½®ç¼–è¯‘ï¼ˆå¯é€‰ï¼‰
<ul>
<li>è¿™ä¸€æ­¥ä¸æ˜¯å¿…é¡»çš„ï¼Œä½ å¯ä»¥æ ¹æ®éœ€è¦ï¼Œå¯¹å„ä¸ªå¹³å°è¿›è¡Œä¸åŒçš„ç¼–è¯‘é…ç½®ï¼Œå¯ä»¥è®¾ç½®è¦†ç›–å‰é¢çš„ç¼–è¯‘é€‰é¡¹ï¼ˆä¾‹å¦‚cFlagsï¼‰ã€‚<a href="http://xn--6qqwdo6mya142e7kd2zgi0f2qfs72doytn38a.so" target="_blank" rel="noopener">ä¾‹å¦‚ä½ åªæƒ³ç¼–è¯‘æŒ‡å®šå¹³å°çš„.so</a>ï¼Œè€Œä¸æ˜¯æ‰€æœ‰çš„å¹³å°ã€‚å¦‚ä¸‹</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">android &#123;  &#x2F;&#x2F; .. android settings ..</span><br><span class="line">    productFlavors &#123;</span><br><span class="line">        x86 &#123;</span><br><span class="line">             ndk &#123;</span><br><span class="line">                 abiFilter &quot;x86&quot;</span><br><span class="line">             &#125;</span><br><span class="line">         &#125;</span><br><span class="line">         arm &#123;</span><br><span class="line">             ndk &#123;</span><br><span class="line">                 abiFilter &quot;armeabi-v7a&quot;</span><br><span class="line">             &#125;</span><br><span class="line">         &#125;</span><br><span class="line">         mips &#123;</span><br><span class="line">             ndk &#123;</span><br><span class="line">                 abiFilter &quot;mips&quot;</span><br><span class="line">             &#125;        </span><br><span class="line">         &#125;    </span><br><span class="line">     &#125;</span><br><span class="line"> &#125; &#x2F;&#x2F; android</span><br></pre></td></tr></table></figure>
<ul>
<li>å…¶ä»–ç¯‡ï¼š
<ul>
<li>é»˜è®¤æƒ…å†µä¸‹ï¼Œä½ éœ€è¦æŠŠC/C++æºä»£ç æ”¾åœ¨[module]/src/main/jni/è·¯å¾„ä¸‹ï¼Œ</li>
<li>å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥è‡ªå®šä¹‰æºä»£ç è·¯å¾„ï¼š</li>
</ul>
</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">android &#123;  <span class="comment">// .. android settings ..</span></span><br><span class="line">    sourceSets.main &#123;</span><br><span class="line">        jni.srcDirs 'src/main/source'</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      
        <categories>
            
            <category> Android </category>
            
        </categories>
        
        
    </entry>
    
  
  
</search>
