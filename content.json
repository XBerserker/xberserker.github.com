[{"title":"MapStruct å®è·µ","date":"2022-05-22T03:06:31.000Z","path":"2022/05/22/learn-in-mapstruct/","text":"ä¸åšæ— ç”¨åŠŸ ä¸€ã€èƒŒæ™¯ äºŒã€MapStruct ä¹‹å‰ ä¸‰ã€åŠŸèƒ½ç‚¹ä»‹ç» å››ã€é¡¹ç›®å®è·µ","tags":[{"name":"java","slug":"java","permalink":"http://tech.noexception.cn/tags/java/"}]},{"title":"ã€Šä»é›¶å¼€å§‹å†™ Canvas å¼•æ“ã€‹â€”â€”æåæ ‡ç³»ä½œä¸š","date":"2022-05-21T05:23:56.000Z","path":"2022/05/21/start-write-canvas-engine/","text":"æ²‰æ·€","tags":[{"name":"canvas","slug":"canvas","permalink":"http://tech.noexception.cn/tags/canvas/"}]},{"title":"äºŒçº§åŸŸåä»¥åŠ Docker å®¹å™¨äº’ç›¸è®¿é—®","date":"2022-04-08T08:27:18.000Z","path":"2022/04/08/subdomain/","text":"äºŒçº§åŸŸå èµ·å›  ç”±äºåœ¨ä¸€å°æœåŠ¡å™¨ä¸Šéƒ¨ç½²äº†å¤šä¸ªä¸åŒçš„åº”ç”¨/æœåŠ¡ï¼Œä¹‹å‰æ˜¯ä½¿ç”¨åŸŸå+ç«¯å£å·çš„æ–¹å¼æ¥åŒºåˆ†åº”ç”¨ã€‚ä½†æ˜¯è¿™ç§æ–¹å¼åœ¨åº”ç”¨æˆ–æœåŠ¡å¤šäº†ä»¥åï¼Œå°±ä¸å¥½ä½¿äº†ï¼Œå¯¹äºä¸ªäººæ¥è¯´ï¼Œéœ€è¦è®°ä¸Šåº”ç”¨æˆ–æœåŠ¡å¯¹åº”çš„ç«¯å£å·ä»¥åŠæœåŠ¡çš„åŸŸååç¼€ã€‚ äºæ˜¯å°±æœ‰äº†è¿™ç¯‡æ–‡ç« è®°å½•ã€‚ åœ¨ Nginx é…ç½®å­åŸŸå åœ¨ Nginx ä¸­é…ç½®éœ€è¦çš„å­åŸŸåï¼ˆæˆ‘ä¹ æƒ¯å°†æ¯ä¸€ä¸ªå­åŸŸåçš„é…ç½®åˆ†å¼€æ¥ï¼Œä¸€ä¸ªå­åŸŸåå¯¹åº”ä¸€ä¸ªå­—é…ç½®æ–‡ä»¶ï¼‰ åœ¨ Nginx é»˜è®¤é…ç½®æ–‡ä»¶ http èŠ‚ç‚¹ä¸‹é…ç½®ï¼šinclude /path/to/config/*.conf Portainer é…ç½®ï¼š 123456789101112131415# portainer.confserver &#123; listen 80; listen [::]:80; server_name docker.noexception.cn; location / &#123; proxy_redirect off; proxy_set_header host $host; proxy_set_header x-real-ip $remote_addr; proxy_set_header x-forwarded-for $proxy_add_x_forwarded_for; proxy_pass http://portainer:9000/; &#125;&#125; å®šæ—¶ä»»åŠ¡é…ç½®ï¼š 1234567891011121314151617181920212223# tasks.confserver &#123; listen 80; listen [::]:80; server_name tasks.noexception.cn; location ^~ /xxl-job-admin &#123; proxy_redirect off; proxy_set_header host $host; proxy_set_header x-real-ip $remote_addr; proxy_set_header x-forwarded-for $proxy_add_x_forwarded_for; proxy_pass http://xxl-job-admin:7397/xxl-job-admin/; &#125; location / &#123; proxy_redirect off; proxy_set_header host $host; proxy_set_header x-real-ip $remote_addr; proxy_set_header x-forwarded-for $proxy_add_x_forwarded_for; proxy_pass http://xxl-job-admin:7397/xxl-job-admin/; &#125;&#125; é…ç½®åŸŸåè§£æ åœ¨åŸŸåç®¡ç†ç•Œé¢ä¸­ï¼Œæ·»åŠ ä¸€æ¡è§£æè®°å½•ï¼š è®°å½•ç±»å‹ä¸ºAï¼Œ ä¸»æœºè®°å½•ä¸º: å­åŸŸåï¼ˆå¦‚ï¼šdockerï¼‰ï¼Œ è®°å½•å€¼ä¸ºæœåŠ¡å™¨çš„IPåœ°å€ï¼Œ æäº¤ä¿å­˜ã€‚ æ€»ç»“ æ•´ä¸ªé…ç½®è¿‡ç¨‹å¹¶ä¸å¤æ‚ï¼Œæ¦‚å†µæ¥è¯´å°±æ˜¯ä¸‰æ­¥ï¼š éƒ¨ç½²åº”ç”¨ï¼› æ·»åŠ  Nginx é…ç½®ï¼ˆå¦‚ portainer.confï¼‰ï¼› åœ¨åŸŸåè§£æé¡µé¢ä¸­ï¼Œæ·»åŠ å­åŸŸåçš„è§£æè®°å½•ã€‚ è¡¥å……ï¼š 1. å…³äºåœ¨ Docker ä¸­ï¼Œé…ç½®å¥½å­åŸŸååï¼Œå‘ç°æ— æ³•è®¿é—®çš„æƒ…å†µã€‚ åŸå› ï¼š æ˜¯å› ä¸º docker çš„ç½‘ç»œç­–ç•¥é»˜è®¤æƒ…å†µä¸‹ï¼Œå®¹å™¨ä¸å®¹å™¨ä¹‹é—´æ˜¯æ— æ³•ç›¸äº’è®¿é—®çš„ï¼Œåœ¨å¯åŠ¨å®¹å™¨çš„æ—¶å€™ï¼Œå¾—ç»™å¥¹ä»¬æŒ‡å®šå¥½ç½‘ç»œç»„ã€‚ åˆå› ä¸ºå®¹å™¨é‡å¯ï¼ŒIP ä¼šéšä¹‹å˜åŒ–ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦åˆ©ç”¨ docker ç½‘ç»œï¼Œé€šè¿‡å®¹å™¨ name åœ¨å®¹å™¨ä¸­äº’ç›¸è®¿é—®ã€‚ Docker ç½‘ç»œ 1. åˆ›å»ºè‡ªå®šä¹‰ç½‘ç»œ æŒ‡ä»¤: docker network create domain é»˜è®¤ä½¿ç”¨çš„æ˜¯ bridge é©±åŠ¨ ä¸åœ¨åŒä¸€ä¸ª docker network ä¸­çš„å®¹å™¨ï¼Œä¸èƒ½äº’ç›¸è®¿é—®ï¼Œä»–ä»¬ä¸åœ¨åŒä¸€ä¸ªç½‘æ®µä¸Š 2. åˆ›å»ºå®¹å™¨æ—¶ï¼ŒæŒ‡å®š docker network å¯åŠ¨ç¬¬ä¸€ä¸ªå®¹å™¨ï¼ŒæŒ‡ä»¤: docker run -it --name portainer --network domain -p 9000:9000 portainer/portainer --network å‚æ•°æŒ‡å®šå®¹å™¨ä½¿ç”¨çš„ç½‘ç»œ å¯åŠ¨ç¬¬äºŒä¸ªå®¹å™¨ï¼ŒæŒ‡ä»¤: docker run -p 6379:6379 --network domain --name redis -v /docker/data/redis/redis.conf:/etc/redis/redis.conf -v /docker/data/redis/data:/data -d redis redis-server /etc/redis/redis.conf --appendonly yes å¯åŠ¨ä¸€ä¸ª redis æœåŠ¡å®¹å™¨ï¼Œé€šè¿‡åœ¨ redis å®¹å™¨è®¿é—® portainer å®¹å™¨ï¼Œä½¿ç”¨ curl å·¥å…·æ¥ååŠ©æˆ‘ä»¬éªŒè¯ éªŒè¯ï¼š ä½¿ç”¨docker execè¿›å…¥ redis å®¹å™¨ä¸­ 123# docker exec -it redis bash[root@noexception ~]# docker exec -it redis bashroot@a01af1db7118:&#x2F;data# ä½¿ç”¨ curl å·¥å…·è¿›è¡ŒéªŒè¯ï¼š 12# curl http:&#x2F;&#x2F;portainer:9000# ping http:&#x2F;&#x2F;portainer:9000 ä½¿ç”¨ docker network inspect domain æ¥æŸ¥çœ‹ docker network ä¿¡æ¯ï¼Œæ£€æŸ¥ä¸¤ä¸ªå®¹å™¨æ˜¯å¦é“¾æ¥åˆ°äº†åŒä¸€ä¸ªç½‘ç»œä¸‹ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273[ &#123; \"Name\": \"domain\", \"Id\": \"17a05973b0e8805b372e143d3a7ce591a076e98e3d7cb357444ed2ee1338e009\", \"Created\": \"2022-04-08T15:13:19.017550444+08:00\", \"Scope\": \"local\", \"Driver\": \"bridge\", \"EnableIPv6\": false, \"IPAM\": &#123; \"Driver\": \"default\", \"Options\": &#123;&#125;, \"Config\": [ &#123; \"Subnet\": \"172.18.0.0/16\", \"Gateway\": \"172.18.0.1\" &#125; ] &#125;, \"Internal\": false, \"Attachable\": false, \"Ingress\": false, \"ConfigFrom\": &#123; \"Network\": \"\" &#125;, \"ConfigOnly\": false, \"Containers\": &#123; \"11ccb85d3c61b0a5826d311965929b1dad07aec2013778bc7d4fbf46dbaace7c\": &#123; \"Name\": \"nginx\", \"EndpointID\": \"d0d611461ff9a3849e53c05c27fdf26ca39bea739d24de613b013b86cb8a43ff\", \"MacAddress\": \"02:42:ac:12:00:03\", \"IPv4Address\": \"172.18.0.3/16\", \"IPv6Address\": \"\" &#125;, \"7f2e31026a6249577632239f6cd69a6781718a6e4b436db5747fece6599b05ae\": &#123; \"Name\": \"zookeeper\", \"EndpointID\": \"38cbc10011c3e68ccbcf7f7c7b69948df0fd6a72834d10258752139e149efa0d\", \"MacAddress\": \"02:42:ac:12:00:05\", \"IPv4Address\": \"172.18.0.5/16\", \"IPv6Address\": \"\" &#125;, \"8e37d220283e84af7382a4481baea5f8dca61b30166922bd8bc03adfd2dbb322\": &#123; \"Name\": \"portainer\", \"EndpointID\": \"0f51d369c1fe824b0d3941d8a3dce868a88581a17733d4a685515401ea6b08a6\", \"MacAddress\": \"02:42:ac:12:00:02\", \"IPv4Address\": \"172.18.0.2/16\", \"IPv6Address\": \"\" &#125;, \"a01af1db711844c4547d2b64e53021f5bb6967fb7e83120592d5c913872f4cd9\": &#123; \"Name\": \"redis\", \"EndpointID\": \"1754b57297a8a7ea0933fcab19727b045c1948551ff1bdab449c2b4c525cda11\", \"MacAddress\": \"02:42:ac:12:00:04\", \"IPv4Address\": \"172.18.0.4/16\", \"IPv6Address\": \"\" &#125;, \"dc550ff519c39f9f9800e3ba5dc25ae4c435550d1259425caba426601a4dc358\": &#123; \"Name\": \"xxl-job-admin\", \"EndpointID\": \"6373e88cc3ce52fefbcbcb99fdccdd74df16c64c805a071e82cf07985675b8e7\", \"MacAddress\": \"02:42:ac:12:00:06\", \"IPv4Address\": \"172.18.0.6/16\", \"IPv6Address\": \"\" &#125;, \"f7762c952a1c21cbc230fe8c65c705bacafd57c9655744b2cc43af658dd945d7\": &#123; \"Name\": \"kafka\", \"EndpointID\": \"52ca42e07513833630f4906b34590641bbb743d9586eba9da08e9796a56fd147\", \"MacAddress\": \"02:42:ac:12:00:07\", \"IPv4Address\": \"172.18.0.7/16\", \"IPv6Address\": \"\" &#125; &#125;, \"Options\": &#123;&#125;, \"Labels\": &#123;&#125; &#125;]","tags":[{"name":"Docker","slug":"Docker","permalink":"http://tech.noexception.cn/tags/Docker/"},{"name":"Nginx","slug":"Nginx","permalink":"http://tech.noexception.cn/tags/Nginx/"}]},{"title":"2022 æ–°å¹´è®¡åˆ’","date":"2022-01-17T06:54:46.000Z","path":"2022/01/17/2022-new-page/","text":"å‚ä¸å°½å¤©ä¸‹ä¹‹ç† 2022 å¹´éœ€è¦å®Œæˆçš„æŠ€æœ¯ä½“ç³»ï¼š Netty ç½‘ç»œæ¡†æ¶åŠé¡¹ç›®å®è·µï¼› ç³»ç»ŸäºŒçº§ç¼“å­˜æ¡†æ¶ï¼› Idea æ’ä»¶å¼€å‘ï¼› è®¡åˆ’æå‡çš„æŠ€èƒ½ç‚¹ï¼š æ·±å…¥ç†è§£åŠå®è·µè®¾è®¡æ¨¡å¼å’Œè®¾è®¡åŸåˆ™ï¼› ç»§ç»­åŠ å¼ºæ•°æ®ç»“æ„ä¸ç®—æ³•ï¼Œæ¯å‘¨ä¸€ç»ƒï¼› å¾…æå‡çš„è½¯æŠ€èƒ½ï¼š æå‡æ²Ÿé€šèƒ½åŠ›ï¼› å–„äºå€¾å¬ï¼Œå˜å¾—æ›´ Considerateï¼› ä¸€å¹´å†…ï¼Œè‡³å°‘çœ‹å®Œä¸€æœ¬éæŠ€æœ¯ç±»ä¹¦ç±ï¼› ç¬¬äºŒæŠ€èƒ½çš„å­¦ä¹ è§„åˆ’ï¼š ä» Solidity å…¥é—¨åŒºå—é“¾å¼€å‘ äº†è§£åŒºå—é“¾æ¸¸æˆå¼€å‘","tags":[{"name":"è®¡åˆ’","slug":"è®¡åˆ’","permalink":"http://tech.noexception.cn/tags/%E8%AE%A1%E5%88%92/"}]},{"title":"æ¯æ—¥æ€»ç»“æ‰“å¡-2021/12/15","date":"2021-12-15T15:28:30.000Z","path":"2021/12/15/sign-20211215/","text":"è§ä¸å°½å¤©ä¸‹ä¹‹äº‹ Sæƒ…æ™¯ æœ€è¿‘è¿™æ®µæ—¶é—´çš„å†…å®¹ä¸»è¦æ˜¯ï¼š æ¯å¤©å­¦ä¹ ä¸€èŠ‚æŠ½å¥–é¡¹ç›®çš„å†…å®¹ï¼Œå½“å‰è¿›åº¦ï¼šç¬¬13èŠ‚ï¼› æŸ¥æ‰¾å¹¶å­¦ä¹ å¦‚ä½•å®ç°ä¸€ä¸ªäºŒçº§ç¼“å­˜æ¡†æ¶ï¼› é›¶ç¢çš„å·¥ä½œä¸Šçš„äº‹æƒ…ã€‚ Tä»»åŠ¡ æäº¤ä»Šå¤©çš„ Lottery é¡¹ç›®å­¦ä¹ ä»£ç ä½œä¸š è¿™ä¸¤å¤©æ‰¾åˆ°äº†ä¸€ä¸ªäºŒçº§ç¼“å­˜çš„å¼€æºé¡¹ç›®ï¼šJ2Cacheï¼Œclone åˆ°æœ¬åœ° Aè¡ŒåŠ¨ å…³äº Lottery é¡¹ç›®çš„ä½œä¸šï¼Œç»Ÿä¸€ push åˆ°äº†å½“å‰é¡¹ç›®ç›®å½•ä¸‹çš„ idea-plugin/mylottery ä¸‹ï¼Œä»¥ä¸€ä¸ª git submodule çš„å½¢å¼æ•´ç†åœ¨å½“å‰è¿™ä¸ªä»“åº“ä¸­ã€‚ æŠŠ J2Cache æºç  clone åˆ°æœ¬åœ°ï¼Œé€šè¿‡å®˜æ–¹çš„å•å…ƒæµ‹è¯•ï¼Œè¿›è¡Œå•æ­¥è°ƒè¯•ï¼Œé¦–å…ˆæƒ³äº†è§£ä¸‹ï¼Œå¤§ç¥å†™çš„äºŒçº§ç¼“å­˜æ¡†æ¶çš„ä¸»è¦æµç¨‹å¤§ä½“ä¸Šæ˜¯æ€ä¹ˆæ ·çš„ï¼› ä»Šæ™šä¸‹ç­çš„æ—¶å€™ï¼Œé¡ºå¸¦ä¹Ÿå» star äº†é˜¿é‡Œå®¶çš„ JetCache ä¹Ÿæ˜¯ä¸€ä¸ªäºŒçº§ç¼“å­˜æ¡†æ¶ï¼Œæœ¬æƒ³æŸ¥æŸ¥è¿™ä¸¤ä¸ªæ¡†æ¶çš„å·®åˆ«ï¼Œä½†æ˜¯ç½‘ä¸Šèƒ½å¤Ÿæœç´¢åˆ°çš„èµ„æ–™ç›¸å½“æœ‰é™ã€‚æš‚æ—¶å…ˆç ”ç©¶é€ J2Cache å…ˆå§ï¼Œé¥­è¦ä¸€å£ä¸€å£åƒï¼Œè·¯è¦ä¸€æ­¥ä¸€æ­¥èµ°ã€‚ Rç»“æœ å…³äº J2Cache å®˜æ–¹æµ‹è¯•ç±»ä»£ç è°ƒè¯•ï¼Œç›®å‰çœ‹åˆ°ç¼“å­˜çš„é…ç½®åŠ è½½ä»¥åŠç¼“å­˜çš„åˆå§‹åŒ–æµç¨‹ã€‚è‡ªä»åˆ·å®Œå‚…å“¥çš„ ã€Šæ‰‹æ’¸Springä¸“æ ã€‹ä»¥åï¼Œçœ‹è¿™äº›æºç ä¼¼ä¹æ²¡æœ‰ä»¥å‰é‚£ä¹ˆåƒåŠ›äº†ï¼Œè‡ªå·±ä¹Ÿå¾ˆæƒŠè®¶ã€‚åšæŒï¼ æ—¥æ‹±ä¸€å’ï¼ŒåŠŸä¸å”æ","tags":[{"name":"æ‰“å¡","slug":"æ‰“å¡","permalink":"http://tech.noexception.cn/tags/%E6%89%93%E5%8D%A1/"}]},{"title":"ç¼“å­˜æ¡†æ¶è®¾è®¡æ€è·¯","date":"2021-12-11T16:15:06.000Z","path":"2021/12/12/cache/","text":"è¯»ä¸å°½å¤©ä¸‹ä¹‹ä¹¦ éœ€è¦è§£å†³çš„é—®é¢˜ç‚¹ 1. åˆ†å¸ƒå¼ç¼“å­˜åŒæ­¥ é—®é¢˜ï¼š åœ¨é«˜å¹¶å‘çš„åœºæ™¯ä¸‹ï¼Œå¦‚ä½•ä¿è¯åˆ†å¸ƒå¼åœºæ™¯ä¸‹å„ä¸ªèŠ‚ç‚¹ä¸­æœ¬åœ°ç¼“å­˜çš„ä¸€è‡´æ€§é—®é¢˜ï¼Ÿ è§£å†³æ€è·¯ï¼š åŒæ­¥çš„ç›®çš„æ˜¯ä¸ºäº†å°½å¯èƒ½ä¿è¯åˆ†å¸ƒå¼ç¼“å­˜çš„ä¸€è‡´æ€§ã€‚é€šè¿‡å‘å¸ƒè®¢é˜…åŠŸèƒ½æ¥å®ç°åˆ†å¸ƒå¼ç¼“å­˜ä¸‹ä¸åŒèŠ‚ç‚¹çš„ç¼“å­˜åŒæ­¥ã€‚ æ•°æ®å˜æ›´é€šçŸ¥ + å®šæœŸåˆ·æ–°è¿‡æœŸç¼“å­˜çš„ç­–ç•¥ï¼Œå°½å¯èƒ½çš„ä¿è¯ç¼“å­˜çš„ä¸€è‡´æ€§ã€‚å¯ä»¥é€šè¿‡Redis + Kafkaçš„å‘å¸ƒè®¢é˜…åŠŸèƒ½å®ç°ã€‚ æ¡†æ¶ç•™å¥½æ‰©å±•ç‚¹ï¼Œå¯ä»¥å¿«é€Ÿä¾¿æ·çš„æ‰©å±•å…¶ä»– MQ æ¥å®ç°ç¼“å­˜åŒæ­¥ã€‚ ä½¿ç”¨ç¼“å­˜ï¼Œå¿…å®šä¼šå­˜åœ¨ä¸ä¸€è‡´çš„æƒ…å†µï¼Œæ— æ³•ä¿è¯å¼ºä¸€è‡´æ€§ã€‚ 2. ç¼“å­˜æ›´æ–° é—®é¢˜ï¼š ç¼“å­˜æ›´æ–°åŒ…å«äº†æœ¬åœ°ç¼“å­˜ä»¥åŠRedisçš„æ“ä½œï¼ŒåŒæ—¶é€šçŸ¥å…¶ä»–ç¼“å­˜èŠ‚ç‚¹è¿›è¡Œç¼“å­˜æ›´æ–°æ“ä½œï¼› è§£å†³æ€è·¯ï¼š ä¸»åŠ¨æ›´æ–° è·å–ç¼“å­˜æ—¶ï¼Œè‹¥ç¼“å­˜ä¸å­˜åœ¨æˆ–ç¼“å­˜å·²è¿‡æœŸï¼Œåˆ™é‡æ–°åŠ è½½ç¼“å­˜ï¼› æºæ•°æ®å˜æ›´åï¼Œè°ƒç”¨ç¼“å­˜åˆ·æ–°æ¥å£é‡æ–°åŠ è½½ç¼“å­˜ï¼ˆæ­¤æ—¶åªå¯¹å·²å­˜åœ¨çš„ key é‡æ–°åŠ è½½ï¼‰ è‡ªåŠ¨æ›´æ–° å®šæœŸåˆ·æ–°è¿‡æœŸç¼“å­˜ï¼Œå°½å¯èƒ½ä¿è¯åˆ†å¸ƒå¼ç¼“å­˜çš„ä¸€è‡´æ€§ï¼› 3. ç¼“å­˜æ·˜æ±° é—®é¢˜ï¼š é€šçŸ¥å…¶ä»–ç¼“å­˜èŠ‚ç‚¹è¿›è¡Œç¼“å­˜æ·˜æ±° è§£å†³æ€è·¯ï¼š ä¸»åŠ¨æ·˜æ±° è·å–ç¼“å­˜æ—¶ï¼Œæ£€æŸ¥ç¼“å­˜æ˜¯å¦è¿‡æœŸï¼Œå¦‚æœè¿‡æœŸåˆ™æ·˜æ±°ç¼“å­˜ï¼› ç»“åˆ@CacheEvictåœ¨æºæ•°æ®ä¿®æ”¹å‰æˆ–ä¿®æ”¹åï¼Œæ·˜æ±°ç¼“å­˜ï¼› æ•°æ®æºå˜æ›´åï¼Œè°ƒç”¨åˆ·æ–°ç¼“å­˜æ¥å£ï¼Œè¿›è¡Œç¼“å­˜æ·˜æ±°ï¼› è‡ªåŠ¨æ·˜æ±° åˆ©ç”¨Redisçš„ç¼“å­˜æ·˜æ±°ç­–ç•¥ç®¡ç† ç¼“å­˜æ·˜æ±°ç®—æ³• 4. ç¼“å­˜é¢„çƒ­ é—®é¢˜ï¼š è§£å†³æ€è·¯ï¼š æ‰‹åŠ¨é¢„çƒ­ å¯¹æ ‡æ³¨äº†ç¼“å­˜æ³¨è§£çš„å¦‚@Cacheableæˆ–è€…@CachePutçš„ä¸šåŠ¡æ¥å£è¿›è¡Œç¼“å­˜é¢„çƒ­ã€‚ è‡ªåŠ¨é¢„çƒ­ åœ¨ç³»ç»Ÿå¯åŠ¨å®Œæ¯•åï¼Œè°ƒç”¨ä¸šåŠ¡æ¥å£å°†æ•°æ®åŠ è½½åˆ°ç¼“å­˜ä¸­ã€‚ 5. çƒ­ç‚¹æ•°æ® é—®é¢˜ï¼š ç¼“å­˜é›†ç¾¤ä¸­çš„æŸä¸ª key ç¬é—´è¢«æ•°ä¸‡ç”šè‡³åä¸‡çš„å¹¶å‘è¯·æ±‚æ‰“çˆ† è§£å†³æ€è·¯ï¼š é‡‡ç”¨æœ¬åœ°ç¼“å­˜æ¥ç¼“è§£ç¼“å­˜é›†ç¾¤å’Œæ•°æ®åº“é›†ç¾¤çš„å‹åŠ›ã€‚ä½¿ç”¨äºŒçº§ç¼“å­˜çš„å½¢å¼è§£å†³ã€‚ åº”ç”¨å±‚é¢åšé™æµç†”æ–­æœºåˆ¶ï¼Œä¿æŠ¤åé¢çš„ç¼“å­˜é›†ç¾¤å’Œæ•°æ®åº“é›†ç¾¤å¯ç”¨ã€‚ 6. ç¼“å­˜é›ªå´© é—®é¢˜ï¼š ç”±äºå¤§é‡ç¼“å­˜å¤±æ•ˆï¼Œå¯¼è‡´å¤§é‡è¯·æ±‚æ‰“åˆ°æ•°æ®åº“ä¸Šï¼Œå¯¼è‡´æ•°æ®åº“çš„ CPU å’Œå†…å­˜å‹åŠ›å˜å¤§ï¼Œä»è€Œå‡ºç°ä¸€ç³»åˆ—è¿é”ååº”ï¼Œé€ æˆæ•´ä¸ªç³»ç»Ÿå´©æºƒã€‚ è§£å†³æ€è·¯ï¼š Caffeine é»˜è®¤ä½¿ç”¨å¼‚æ­¥æœºåˆ¶åŠ è½½ç¼“å­˜æ•°æ®ï¼Œå¯æœ‰æ•ˆé˜²æ­¢ç¼“å­˜å‡»ç©¿ï¼ˆé˜²æ­¢åŒä¸€ä¸ª key æˆ–ä¸åŒ key è¢«å‡»ç©¿çš„åœºæ™¯ï¼‰ å°†ç¼“å­˜å±‚è®¾è®¡æˆé«˜å¯ç”¨ï¼Œé˜²æ­¢ç¼“å­˜å¤§é¢ç§¯æ•…éšœ åˆ©ç”¨æœ¬åœ°ç¼“å­˜ï¼Œä¸€å®šç¨‹åº¦ä¸Šä¿è¯æœåŠ¡çš„å¯ç”¨æ€§ã€‚ä½†ä¸»è¦è¿˜æ˜¯é€šè¿‡å¯¹æºæœåŠ¡çš„è®¿é—®è¿›è¡Œé™æµã€ç†”æ–­ã€é™çº§ç­‰æ‰‹æ®µã€‚ æå‰å‹æµ‹ï¼Œé¡¹ç›®ä¸Šçº¿å‰ï¼Œæ¼”ç»ƒç¼“å­˜å±‚å®•æœºåï¼Œåº”ç”¨ä»¥åŠåç«¯çš„è´Ÿè½½æƒ…å†µä»¥åŠå¯èƒ½å‡ºç°çš„é—®é¢˜ï¼Œå¯¹é«˜å¯ç”¨æå‰é¢„æ¼”ï¼Œæå‰å‘ç°é—®é¢˜ã€‚ 7. ç¼“å­˜å‡»ç©¿ é—®é¢˜ï¼š åœ¨å¹³å¸¸é«˜å¹¶å‘çš„ç³»ç»Ÿä¸­ï¼Œå¤§é‡çš„è¯·æ±‚åŒæ—¶æŸ¥è¯¢ä¸€ä¸ª key æ—¶ï¼Œæ­¤æ—¶è¿™ä¸ª key æ­£å¥½å¤±æ•ˆäº†ï¼Œå°±ä¼šå¯¼è‡´å¤§é‡çš„è¯·æ±‚éƒ½æ‰“åˆ°æ•°æ®åº“ä¸Šé¢å»ï¼Œè¿™ç§ç°è±¡å°±æ˜¯ç¼“å­˜å‡»ç©¿ è§£å†³æ€è·¯ï¼š è§£å†³æ€è·¯åŒç¼“å­˜é›ªå´©ï¼Œåˆ©ç”¨Caffeineé»˜è®¤ä½¿ç”¨å¼‚æ­¥æœºåˆ¶åŠ è½½ç¼“å­˜æ•°æ®ï¼Œå¯ä»¥æœ‰æ•ˆçš„é˜²æ­¢ç¼“å­˜å‡»ç©¿ã€‚ 8. ç¼“å­˜ç©¿é€ é—®é¢˜ï¼š è¯·æ±‚æ ¹æœ¬ä¸å­˜åœ¨çš„æ•°æ®ï¼Œä¹Ÿå°±æ˜¯åœ¨ç¼“å­˜å’Œæ•°æ®åº“ä¸­éƒ½æŸ¥ä¸åˆ°è¿™æ¡æ•°æ®ï¼Œä½†æ˜¯è¯·æ±‚æ¯æ¬¡éƒ½ä¼šæ‰“åˆ°æ•°æ®åº“ä¸Šé¢å»ã€‚è¿™ç§æŸ¥è¯¢ä¸å­˜åœ¨æ•°æ®çš„ç°è±¡å°±æ˜¯ç¼“å­˜ç©¿é€ã€‚ è§£å†³æ€è·¯ï¼š é€šè¿‡å¯¹ä¸å­˜åœ¨çš„ key ç¼“å­˜ç©ºå€¼ï¼Œæ¥é˜²æ­¢ç¼“å­˜ç©¿é€ã€‚ ä¹Ÿå¯ä»¥é€šè¿‡ä½¿ç”¨BloomFilteræ¥å¯¹ key è¿›è¡Œè¿‡æ»¤ã€‚ å¯¹äºé«˜å¹¶å‘ç³»ç»Ÿï¼Œå¯ä»¥ç»“åˆ Hystrix æˆ– Sentinelæ¥åšåº”ç”¨çº§åˆ«çš„é™æµå’Œé™çº§ï¼Œä»¥ä¿æŠ¤ä¸‹æ¸¸ç³»ç»Ÿä¸ä¼šè¢«å¤§é‡çš„è¯·æ±‚ç»™æ‰“æ­»ã€‚","tags":[{"name":"ç¼“å­˜è®¾è®¡","slug":"ç¼“å­˜è®¾è®¡","permalink":"http://tech.noexception.cn/tags/%E7%BC%93%E5%AD%98%E8%AE%BE%E8%AE%A1/"}]},{"title":"æ¯æ—¥æ€»ç»“æ‰“å¡-2021/12/10","date":"2021-12-10T15:59:47.000Z","path":"2021/12/10/sign-1210/","text":"æ—¥è®°è·¬æ­¥ï¼Œå¯è‡³åƒé‡Œ S-æƒ…æ™¯ é¡¹ç›®è„šæ‰‹æ¶çš„ä»£ç ç”Ÿæˆå™¨å·²ç»å¼€å‘å®Œäº†ï¼Œå‘¨äº”å¼€å‘ï¼Œå¼€å§‹äº†è§£ideaæ’ä»¶å¼€å‘ï¼Œè®¡åˆ’å…ˆå†™ä¸€ä¸ªæé†’å–æ°´çš„æ’ä»¶ã€‚å¤šå–æ°´ï¼Œå¤šä¸Šå•æ‰€ï¼Œå¤šèµ°åŠ¨èµ°åŠ¨ï¼Œå¯¹èº«ä½“å¥½ï¼Œå“ˆå“ˆå“ˆã€‚ å…¶æ¬¡å°±æ˜¯åç«¯è„šæ‰‹æ¶é¡¹ç›®ï¼Œéœ€è¦ä¸€ä¸ªç¼“å­˜æ¨¡å—ï¼Œäºæ˜¯å‡†å¤‡å¼€å‘ï¼Œå¼€å§‹æ’¸ä¸€ä¸ªç¼“å­˜ä¸­é—´ä»¶ã€‚ T-ä»»åŠ¡ IDEA-Plugin ç« èŠ‚ï¼Œä½¿ç”¨ Gradle åˆ›å»ºæ’ä»¶é¡¹ç›®ï¼› å°†æ’ä»¶é¡¹ç›® helloworld è·‘é€šï¼› å°†ç¼“å­˜æ¨¡å—åŒ…è£…ç§¤ä¸€ä¸ªstarterï¼Œåœ¨éœ€è¦çš„é¡¹ç›®ä¸­ï¼Œå¼•å…¥pomä¾èµ–ï¼› A-è¡ŒåŠ¨ åç«¯è„šæ‰‹æ¶é¡¹ç›®ï¼Œä»£ç ç”Ÿæˆå·¥å…·å·²ç»æ’¸å®Œäº†ï¼› ä½¿ç”¨ gradle æ„å»º Idea-Plugin æ’ä»¶é¡¹ç›®ï¼Œå¹¶è·‘é€š Helloworldï¼› åç»­æŠŠä½œä¸šé¡¹ç›®åŒæ­¥ä¸Šä¼ è‡³ https://codechina.csdn.net/CreativeAlliance/lottery-102-999.git","tags":[{"name":"æ‰“å¡","slug":"æ‰“å¡","permalink":"http://tech.noexception.cn/tags/%E6%89%93%E5%8D%A1/"}]},{"title":"2021å¹´çš„ç¬¬ä¸€ç¯‡æ€»ç»“","date":"2021-11-27T14:00:46.000Z","path":"2021/11/27/202111summary/","text":"æ¸©æ•…è€ŒçŸ¥æ–° åšäº†ä»€ä¹ˆ å®Œæˆã€Šæ‰‹æ’¸ Spring ä¸“æ ã€‹container-miniï¼› å¼€å§‹å°è¯•åŸºäºSpringå¼€å‘ä¸­é—´ä»¶ï¼Œå¦‚ï¼šæœåŠ¡é™æµå™¨ã€ç¼“å­˜ä¸­é—´ä»¶ï¼› åœ¨é¡¹ç›®ä¸­å¼•å…¥droolsè§„åˆ™å¼•æ“ï¼› ç¼–å†™äº†ä¸€ä¸ª CURD ä»£ç ç”Ÿæˆçš„å°å·¥å…·*fast-code*ï¼› æ²¡å®Œæˆçš„äº‹ æ¯å‘¨ç®—æ³•æ‰“å¡è®¡åˆ’æ€»æ˜¯æ–­æ–­ç»­ç»­â€¦ğŸ˜” æ¢³ç† Java åç«¯æŠ€æœ¯æ ˆçŸ¥è¯†æœªå®Œæˆï¼› ä¸‹ä¸€æ­¥è®¡åˆ’ â€¦","tags":[{"name":"æ€»ç»“","slug":"æ€»ç»“","permalink":"http://tech.noexception.cn/tags/%E6%80%BB%E7%BB%93/"}]},{"title":"ä»¥ Spring MVC æ¨¡å¼ç¼–å†™ MongoDB çš„ CURD","date":"2021-08-01T07:47:48.000Z","path":"2021/08/01/mongo-spring-mvc/","text":"æ—¥æ‹±ä¸€å’ï¼ŒåŠŸä¸å”æã€‚ ä¸€ã€MongoDB ä»‹ç» MongoDB æ˜¯æ–‡æ¡£æ•°æ®åº“ï¼ŒNoSQLæ•°æ®åº“ä¸­çš„ä¸€ç§ï¼Œæœ¬ç¯‡æ–‡ç« ï¼Œåˆ†äº«ä½¿ç”¨Spring MVCçš„æ–¹å¼å»ç¼–å†™MongoDBçš„CURDæ“ä½œä»£ç ï¼Œç®€åŒ–é—®ä»·å­˜å‚¨çš„å¼€å‘æµç¨‹ã€‚ äºŒã€å…·ä½“æ“ä½œ A. å°æ–‡ä»¶å­˜å‚¨ å¼•å…¥MongoDBä¾èµ–ï¼š 123456789101112131415161718&lt;ï¼-- SpringBoot ç”¨æˆ· --&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;&lt;/dependency&gt; &lt;ï¼-- é SpringBoot ç”¨æˆ· --&gt; &lt;dependency&gt; &lt;groupId&gt;org.mongodb&lt;/groupId&gt; &lt;artifactId&gt;mongodb-driver-sync&lt;/artifactId&gt; &lt;version&gt;4.1.1&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.data&lt;/groupId&gt; &lt;artifactId&gt;spring-data-mongodb&lt;/artifactId&gt; &lt;version&gt;3.1.5&lt;/version&gt; &lt;/dependency&gt; ç¼–å†™Entityä»£ç ï¼š 123456789101112131415161718@Data@Document // æŒ‡å®šå¯¹åº”çš„ collection çš„åç§°public class TemplateDocument implements Serializable &#123; private static final long serialVersionUID = 5701973075364468575L; @Id // æ–‡æ¡£ä¸»é”®ID private String id; // å®šä¹‰æ–‡æ¡£å±æ€§ private String name; /** * äºŒè¿›åˆ¶æ–‡ä»¶å†…å®¹ * */ @JsonIgnore private Binary content;&#125; ç¼–å†™æŒä¹…å±‚ä»£ç ï¼š 12345678public interface TemplateDao extends MongoRepository&lt;TemplateDocument, String&gt; &#123; /** * æ ¹æ®æ–‡ä»¶åç§°æŸ¥è¯¢ */ @Query(\"&#123;'name':?0&#125;\") List&lt;TemplateDocument&gt; findByName(String fileName);&#125; ç¼–å†™æœåŠ¡å±‚ä»£ç ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748@Servicepublic class TemplateService &#123; @Autowired private TemplateDao templateDao; /** * æŸ¥è¯¢æ–‡æ¡£ */ public List&lt;TemplateDocument&gt; queryDocumentList()&#123; return templateDao.findAll(); &#125; /** * æ–°å¢æ–‡æ¡£ */ public TemplateDocument addTemplateDocument(TemplateDocument entity)&#123; return templateDao.insert(entity); &#125; /** * ä¿®æ”¹æ–‡æ¡£ */ public TemplateDocument modifyTemplateDocument(TemplateDocument entity)&#123; TemplateDocument preModifyDocument = templateDao.findById(entity.getId()).get(); preModifyDocument.setName(entity.getName()); return templateDao.save(preModifyDocument); &#125; /** * åˆ é™¤æ–‡æ¡£ */ public void deleteDocumentById(String id)&#123; templateDao.deleteById(id); &#125; public Optional&lt;TemplateDocument&gt; getFileById(String id)&#123; return templateDao.findById(id); &#125; public TemplateDocument findOneByName(String fileName)&#123; List&lt;TemplateDocument&gt; result = templateDao.findByName(fileName); if (CollectionUtil.isEmpty(result))&#123; return new TemplateDocument(); &#125; return result.get(0); &#125;&#125; ç¼–å†™æ§åˆ¶å±‚ä»£ç  123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051@Api(tags = \"MongoDB æ–‡ä»¶ç®¡ç†\")@RestController@RequestMapping(\"/template\")public class TemplateController &#123; @Autowired private TemplateService templateService; @ApiOperation(\"å°æ–‡ä»¶ä¸Šä¼ æ¥å£\") @PostMapping(\"/upload\") public ServerResponse mongoFileUploda(@RequestParam(\"file\") MultipartFile file) throws IOException &#123; TemplateDocument entity = new TemplateDocument(); entity.setId(UUID.fastUUID().toString()); entity.setName(file.getOriginalFilename()); entity.setContent(new Binary(file.getBytes())); return ServerResponse.createBySuccess(templateService.saveFile(entity)); &#125; @ApiOperation(\"å°æ–‡ä»¶ä¸‹è½½æ¥å£\") @GetMapping(\"/download\") public ResponseEntity&lt;Object&gt; mongoFileDownload(@RequestParam String id) &#123; Optional&lt;TemplateDocument&gt; file = templateService.getFileById(id); if (file.isPresent()) &#123; return ResponseEntity.ok() .header(HttpHeaders.CONTENT_DISPOSITION, \"fileName=\\\"\" + file.get().getName() + \"\\\"\") .header(HttpHeaders.CONTENT_TYPE, \"application/octet-stream\") .body(file.get().getContent().getData()); &#125; else &#123; return ResponseEntity.status(HttpStatus.NOT_FOUND).body(\"File was not fount\"); &#125; &#125; @ApiOperation(\"æ–‡æ¡£åˆ—è¡¨æŸ¥è¯¢\") @GetMapping(\"/queryDocumentList\") public ServerResponse queryDocumentList()&#123; return ServerResponse.createBySuccess(templateService.queryDocumentList()); &#125; @ApiOperation(\"æ–‡ä»¶åæœç´¢\") @GetMapping(\"/searchByFileName\") public ServerResponse searchByFileName(String fileName)&#123; return ServerResponse.createBySuccess(templateService.findOneByName(fileName)); &#125; @ApiOperation(\"æ ¹æ®æ–‡ä»¶IDè¯»å–æ–‡ä»¶å†…å®¹å¹¶è¿”å›\") @GetMapping(\"/getDataByFileId\") public ServerResponse getDataByFileId(@RequestParam String fileId)&#123; return ServerResponse.createBySuccess(templateService.getDataByFileId(fileId)); &#125;&#125; B. å¤§æ–‡ä»¶å­˜å‚¨ å¤§æ–‡ä»¶å­˜å‚¨ï¼Œä½¿ç”¨æœ‰ Spring Data ä¾èµ–ä¸­æä¾›çš„ GridFsTemplateï¼Œè·Ÿ gridFs è¿›è¡Œäº¤äº’ã€‚ é…ç½®ä¿¡æ¯ï¼š è®¾ç½® MongoDB æ–‡ä»¶ä¸Šä¼ çš„ä¸Šé™ å¾€ Spring å®¹å™¨ä¸­æ³¨å…¥ GridFSBucketï¼Œ ç”¨äºæ‰“å¼€ä¸‹è½½æµ 123456# application.ymlspring: servlet: # è®¾ç½®æ–‡ä»¶ä¸Šä¼ ä¸Šé™ multipart: max-file-size: 1024MB max-request-size: 1024MB 12345678910111213141516# MongoConfig.java// MongoDB é…ç½®æ–‡ä»¶@Configurationpublic class MongoConfig &#123; @Value(\"$&#123;spring.data.mongodb.database&#125;\") private String dbName; /** * å¾€ Spring å®¹å™¨ä¸­æ³¨å…¥ GridFSBucketï¼Œ ç”¨äºæ‰“å¼€ä¸‹è½½æµ */ @Bean public GridFSBucket getGridFsBucket(MongoClient mongoClient) &#123; MongoDatabase mongoDatabase = mongoClient.getDatabase(dbName); return GridFSBuckets.create(mongoDatabase); &#125;&#125; å®ä½“ç±»ä»£ç ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748/** * å¤§æ–‡ä»¶å­˜å‚¨å®ä½“ç±» */@Data@Documentpublic class HugeFileEntity &#123; /** * ä¸»é”®ID */ @Id private String id; /** * åˆ›å»ºæ—¶é—´ */ private Date creationDate; /** * æœ€åä¿®æ”¹æ—¶é—´ */ private Date lastUpdateTime; /** * æ–‡ä»¶å */ private String name; /** * æ–‡ä»¶å¤§å° */ private Long size; /** * æ–‡ä»¶ MD5 åŠ å¯†å€¼ */ private String md5; /** * æ–‡ä»¶ç±»å‹ */ private String contentType; /** * æ–‡ä»¶ååç¼€ */ private String fileType; /** * mongo gridFS çš„ID */ private String gridFsId; /** * æ–‡ä»¶å†…å®¹ */ private byte[] content;&#125; Service å±‚ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100@Servicepublic class HugeFileService &#123; @Autowired private MongoTemplate mongoTemplate; @Autowired private GridFsTemplate gridFsTemplate; @Autowired private GridFSBucket gridFSBucket; /** * æ–‡ä»¶æ–°å¢ */ public HugeFileEntity fileAdd(MultipartFile uploadFile) throws IOException &#123; if (uploadFile == null) &#123; return null; &#125; String fileName = uploadFile.getOriginalFilename(); Builder&lt;HugeFileEntity&gt; entityBuilder = Builder.of(HugeFileEntity::new); entityBuilder .with(HugeFileEntity::setContentType, uploadFile.getContentType()) .with(HugeFileEntity::setFileType, StrUtil.subAfter(fileName, \".\", true)) .with(HugeFileEntity::setCreationDate, new Date()) .with(HugeFileEntity::setName, fileName) .with(HugeFileEntity::setSize, uploadFile.getSize()) .with(HugeFileEntity::setLastUpdateTime, new Date()) .with(HugeFileEntity::setMd5, MD5.create().digestHex(uploadFile.getInputStream())); String gridFsId = this.uploadFile(uploadFile.getInputStream(), uploadFile.getContentType()); entityBuilder.with(HugeFileEntity::setGridFsId, gridFsId); return mongoTemplate.save(entityBuilder.build()); &#125; /** * ä¸Šä¼ æ–‡ä»¶åˆ° gridFS */ public String uploadFile(InputStream inputStream, String contentType) &#123; String fileName = IdUtil.objectId(); return gridFsTemplate.store(inputStream, fileName, contentType).toString(); &#125; /** * æ–‡ä»¶åˆ é™¤ */ public void deleteFile(String id) &#123; // æŸ¥è¯¢å¾…åˆ é™¤æ–‡ä»¶ HugeFileEntity entity = mongoTemplate.findById(id, HugeFileEntity.class); if (entity != null) &#123; // åˆ é™¤æ–‡ä»¶åœ¨gridFSä¸­å¯¹åº”çš„fs.chunkå’Œfs.filesè®°å½• Query deleteFileQuery = new Query().addCriteria(Criteria.where(\"_id\").is(entity.getGridFsId())); gridFsTemplate.delete(deleteFileQuery); // åˆ é™¤å­˜å‚¨åœ¨collectionä¸­çš„æ–‡æ¡£è®°å½• Query query = new Query(Criteria.where(\"id\").is(entity.getId())); mongoTemplate.remove(query, HugeFileEntity.class); &#125; &#125; /** * ä¸»é”®IDæŸ¥è¯¢æ–‡ä»¶ */ public Optional&lt;HugeFileEntity&gt; findFileById(String id, boolean useContent) throws IOException &#123; HugeFileEntity entity = mongoTemplate.findById(id, HugeFileEntity.class); if (entity == null) &#123; return Optional.empty(); &#125; if (!useContent) &#123; return Optional.of(entity); &#125; Query gridFsQuery = new Query().addCriteria(Criteria.where(\"_id\").is(entity.getGridFsId())); GridFSFile file = gridFsTemplate.findOne(gridFsQuery); // æ‰“å¼€æµä¸‹è½½å¯¹è±¡ GridFSDownloadStream ins = gridFSBucket.openDownloadStream(file.getObjectId()); if (ins.getGridFSFile().getLength() &lt;= 0) &#123; return Optional.empty(); &#125; // è·å–æµå¯¹è±¡ GridFsResource resource = new GridFsResource(file, ins); // è·å–æ•°æ® entity.setContent(IoUtil.readBytes(resource.getInputStream())); return Optional.of(entity); &#125; public Optional&lt;HugeFileEntity&gt; findFileById(String id) throws IOException &#123; return this.findFileById(id, false); &#125; /** * åˆ†é¡µæŸ¥è¯¢ */ public List&lt;HugeFileEntity&gt; queryPage(int pageNum, int pageSize) &#123; Query query = new Query().with(Sort.by(Sort.Direction.DESC, \"creationDate\")); long offset = (long) (pageNum - 1) * pageSize; query.skip(offset); query.limit(pageSize); // æ’é™¤é™„ä»¶å®é™…å†…å®¹ Field field = query.fields(); field.exclude(\"content\"); return mongoTemplate.find(query, HugeFileEntity.class); &#125;&#125; Controller å±‚ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051@Api(tags = \"å¤§æ–‡ä»¶ç®¡ç†\")@RequestMapping(\"/hugeFile\")@RestControllerpublic class HugeFileController &#123; @Autowired private HugeFileService hugeFileService; /** * åˆ†é¡µæŸ¥è¯¢ */ @ApiOperation(\"åˆ†é¡µæŸ¥è¯¢æ¥å£\") @GetMapping(\"/queryPage\") public ServerResponse&lt;List&lt;HugeFileEntity&gt;&gt; index(int pageNum, int pageSize) &#123; return ServerResponse.createBySuccess(hugeFileService.queryPage(pageNum, pageSize)); &#125; /** * æ–‡ä»¶ä¸Šä¼  */ @ApiOperation(\"æ–‡ä»¶ä¸Šä¼ æ¥å£\") @PostMapping(\"/upload\") public ServerResponse&lt;HugeFileEntity&gt; uploadFile(MultipartFile uploadFile) throws IOException &#123; return ServerResponse.createBySuccess(hugeFileService.fileAdd(uploadFile)); &#125; /** * æ–‡ä»¶ä¸‹è½½ */ @ApiOperation(\"æ–‡ä»¶ä¸‹è½½æ¥å£\") @PostMapping(\"/downloadFile\") public ResponseEntity&lt;Object&gt; downloadFile(String id) throws IOException &#123; // æ ¹æ®æ–‡æ¡£ä¸»é”®IDä¸‹è½½æ–‡ä»¶ Optional&lt;HugeFileEntity&gt; entity = hugeFileService.findFileById(id, true); return entity.&lt;ResponseEntity&lt;Object&gt;&gt;map(hugeFileEntity -&gt; ResponseEntity.ok() .header(HttpHeaders.CONTENT_DISPOSITION, \"fileName=\" + hugeFileEntity.getName()) .header(HttpHeaders.CONTENT_TYPE, hugeFileEntity.getContentType()) .header(HttpHeaders.CONTENT_LENGTH, hugeFileEntity.getSize() + \"\") .header(\"Connection\", \"close\") .body(hugeFileEntity.getContent())).orElseGet(() -&gt; ResponseEntity.status(HttpStatus.NOT_FOUND).body(\"ä¸å­˜åœ¨çš„æ–‡ä»¶\")); &#125; /** * æ–‡ä»¶åˆ é™¤ */ @ApiOperation(\"æ–‡ä»¶åˆ é™¤æ¥å£\") @DeleteMapping(\"/delete\") public ServerResponse&lt;HugeFileEntity&gt; deleteFile(String id) &#123; hugeFileService.deleteFile(id); return ServerResponse.createBySuccessMessage(\"åˆ é™¤æˆåŠŸ\"); &#125;&#125; ä¸‰ã€å¤§æ–‡ä»¶å­˜å‚¨å…³ç³»å›¾ å®ä½“ç±»å…³ç³»å›¾","tags":[{"name":"æ—¥ç§¯ç¬”è®°","slug":"æ—¥ç§¯ç¬”è®°","permalink":"http://tech.noexception.cn/tags/%E6%97%A5%E7%A7%AF%E7%AC%94%E8%AE%B0/"}]},{"title":"ARTS æ‰“å¡â€”â€”Weekly â‘¢","date":"2021-05-25T03:34:41.000Z","path":"2021/05/25/arts-03/","text":"æ—¥æ‹±ä¸€å’ï¼ŒåŠŸä¸å”æã€‚ Algorithmâ€”â€”ç®—æ³•é¢˜ å­—æ¯å¼‚ä½è¯åˆ†ç»„ é—®é¢˜æè¿° ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ï¼Œå°†å­—æ¯å¼‚ä½è¯ç»„åˆåœ¨ä¸€èµ·ã€‚å­—æ¯å¼‚ä½è¯æŒ‡å­—æ¯ç›¸åŒï¼Œä½†æ’åˆ—ä¸åŒçš„å­—ç¬¦ä¸²ã€‚ è§£é¢˜æ€è·¯ é¦–å…ˆæƒ³åˆ°çš„æ€è·¯å°±æ˜¯ï¼Œæ¨¡ä»¿ HashMap çš„æ–¹å¼ï¼Œé€šè¿‡å®ç°ä¸€ä¸ª hash å‡½æ•°ï¼Œå¾—åˆ°ä¸€ä¸ªå•è¯çš„å“ˆå¸Œå€¼ï¼Œç„¶åä½œä¸ºè¿™ä¸ªå•è¯çš„ key ç¼“å­˜åˆ°ä¸€ä¸ª Cache ä¸­ï¼Œå¦‚æœæ˜¯å­—æ¯ä»¥ä¸ºè¯ï¼Œæ”¾å…¥ç›¸åŒçš„ä¸€ä¸ªåˆ†ç»„ä¸­ï¼Œå¦åˆ™æ”¾å…¥å¦å¤–çš„åˆ†ç»„ä¸­ã€‚æœ€åï¼Œè¿”å›åˆ†å¥½ç»„çš„ç»“æœå³å¯ã€‚ï¼ˆè¿™ä¸ª hash å‡½æ•°çš„ç®—æ³•å¯ä»¥æœ‰å¾ˆå¤šï¼Œæˆ‘æƒ³åˆ°çš„æœ€ç®€å•çš„å®ç°å°±æ˜¯ï¼Œå°†è¾“å…¥çš„å•è¯æ’åºï¼Œå› ä¸ºå­—æ¯å¼‚ä½è¯çš„ç‰¹å¾å°±æ˜¯ï¼Œå•è¯æ‰€ç»„æˆçš„å­—æ¯æ˜¯ç›¸åŒçš„ï¼Œä½†æ˜¯é¡ºåºä¸åŒã€‚æ‰€ä»¥é‡æ–°æ’åºå¾—åˆ°çš„ç»“æœåº”è¯¥å°±æ˜¯ä¸€è‡´çš„ï¼Œæ»¡è¶³æˆ‘ä»¬ hash æ•£åˆ—å‡½æ•°çš„è¦æ±‚ã€‚ï¼‰ ç¬¬äºŒä¸ªæ€è·¯ï¼Œä¹Ÿæ˜¯ä»ç½‘å‹çš„å¸–å­ä¸­å‘ç°çš„ä¸€ä¸ªæ¯”è¾ƒæœ‰æ„æ€çš„ç®—æ³•ã€‚å³ï¼šåˆ©ç”¨è´¨æ•°ä»£è¡¨26ä¸ªå­—æ¯ï¼Œè®©ä¹˜ç§¯ç»“æœä½œä¸ºhashå€¼ è¿™ç§ç®—æ³•æ¯”æˆ‘ä»¬æ’åºçš„ç®—æ³•è¦å¿«ä¸Šè®¸å¤šã€‚å®ç°ç®€å•ï¼Œæ€è·¯å·§å¦™ã€‚ è§£ç­”ä»£ç ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667// è§£æ³•1ï¼šclass Solution &#123; private String hashString(String str) &#123; char[] table = str.toCharArray(); for (int i = 0; i &lt; table.length; i++) &#123; for (int j = i; j &lt; table.length; j++) &#123; if (table[i]&gt;table[j])&#123; char temp = table[i]; table[i] = table[j]; table[j] = temp; &#125; &#125; &#125; return String.valueOf(table); &#125; public List&lt;List&lt;String&gt;&gt; groupAnagrams(String[] strs) &#123; List&lt;List&lt;String&gt;&gt; result = new ArrayList&lt;&gt;(); Map&lt;String, List&lt;String&gt;&gt; crucible = new HashMap&lt;&gt;(); for (String param : strs) &#123; String hashValue = hashString(param); if (!crucible.keySet().contains(hashValue))&#123; // å°šæœªå­˜åœ¨ crucible.put(hashValue, new ArrayList&lt;&gt;()); &#125; crucible.get(hashValue).add(param); &#125; for (String key : crucible.keySet()) &#123; result.add(crucible.get(key)); &#125; return result; &#125;&#125;// è§£æ³•2ï¼šclass Solution &#123; private Long hashString(String str) &#123; int[] primeNum = &#123;2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 53, 59, 61, 67, 71, 73, 79, 83, 89, 97, 101&#125;; char[] table = str.toCharArray(); Long product = 1L; for (int i = 0; i &lt; table.length; i++) &#123; product *= primeNum[table[i] - 97]; &#125; return product; &#125; public List&lt;List&lt;String&gt;&gt; groupAnagrams(String[] strs) &#123; List&lt;List&lt;String&gt;&gt; result = new ArrayList&lt;&gt;(); Map&lt;Long, List&lt;String&gt;&gt; crucible = new HashMap&lt;&gt;(); for (String param : strs) &#123; Long hashValue = hashString(param); if (!crucible.keySet().contains(hashValue))&#123; // å°šæœªå­˜åœ¨ crucible.put(hashValue, new ArrayList&lt;&gt;()); &#125; crucible.get(hashValue).add(param); &#125; for (Long key : crucible.keySet()) &#123; result.add(crucible.get(key)); &#125; return result; &#125;&#125; Reviewâ€”â€”é˜…è¯»ä¸€ç¯‡è‹±æ–‡æ–‡ç«  ## Tipâ€”â€”å­¦ä¹ ä¸€ä¸ªæŠ€å·§ ### æ§åˆ¶åè½¬ã€ä¾èµ–åè½¬ã€ä¾èµ–æ³¨å…¥ï¼Œè¿™ä¸‰è€…æœ‰ä½•åŒºåˆ«å’Œè”ç³» #### æ§åˆ¶åè½¬ï¼ˆIOCï¼‰ - è¿™é‡Œçš„â€œæ§åˆ¶â€æŒ‡çš„æ˜¯å¯¹ç¨‹åºæ‰§è¡Œæµç¨‹çš„æ§åˆ¶ï¼Œè€Œâ€œåè½¬â€æŒ‡çš„æ˜¯åœ¨æ²¡æœ‰ä½¿ç”¨æ¡†æ¶ä¹‹å‰ï¼Œç¨‹åºå‘˜è‡ªå·±æ§åˆ¶æ•´ä¸ªç¨‹åºçš„æ‰§è¡Œã€‚åœ¨ä½¿ç”¨æ¡†æ¶ä¹‹åï¼Œæ•´ä¸ªç¨‹åºçš„æ‰§è¡Œæµç¨‹å¯ä»¥é€šè¿‡æ¡†æ¶æ¥æ§åˆ¶ã€‚**æµç¨‹çš„æ§åˆ¶æƒä»ç¨‹åºå‘˜â€œåè½¬â€åˆ°äº†æ¡†æ¶ã€‚** - æ§åˆ¶åè½¬å¹¶ä¸æ˜¯ä¸€ç§å…·ä½“çš„å®ç°æŠ€å·§ï¼Œè€Œæ˜¯ä¸€ä¸ªæ¯”è¾ƒç¬¼ç»Ÿçš„è®¾è®¡æ€æƒ³ï¼Œä¸€èˆ¬ç”¨æ¥æŒ‡å¯¼æ¡†æ¶å±‚é¢çš„è®¾è®¡ã€‚ #### ä¾èµ–æ³¨å…¥ï¼ˆDIï¼‰ - ä¾èµ–æ³¨å…¥è·Ÿæ§åˆ¶åè½¬æ°æ°ç›¸åï¼Œå®ƒæ˜¯ä¸€ç§å…·ä½“çš„ç¼–ç æŠ€å·§ã€‚ - **è§£é‡Š**ï¼šä¸é€šè¿‡`new()`çš„æ–¹å¼åœ¨ç±»å†…éƒ¨åˆ›å»ºä¾èµ–ç±»å¯¹è±¡ï¼Œè€Œæ˜¯å°†ä¾èµ–çš„ç±»å¯¹è±¡åœ¨å¤–éƒ¨åˆ›å»ºå¥½ä¹‹åï¼Œé€šè¿‡æ„é€ å‡½æ•°ã€å‡½æ•°å‚æ•°ç­‰æ–¹å¼ä¼ é€’ï¼ˆæˆ–æ³¨å…¥ï¼‰ç»™ç±»ä½¿ç”¨ã€‚ - ä¾‹å­å¯¹æ¯”ï¼š 123456789101112131415161718192021222324252627282930313233343536373839// éä¾èµ–æ³¨å…¥å®ç°æ–¹å¼public class Notification &#123; private MessageSender messageSender; public Notification() &#123; this.messageSender = new MessageSender(); //æ­¤å¤„æœ‰ç‚¹åƒhardcode &#125; public void sendMessage(String cellphone, String message) &#123; //...çœç•¥æ ¡éªŒé€»è¾‘ç­‰... this.messageSender.send(cellphone, message); &#125;&#125;public class MessageSender &#123; public void send(String cellphone, String message) &#123; //.... &#125;&#125;// ä½¿ç”¨NotificationNotification notification = new Notification();// ä¾èµ–æ³¨å…¥çš„å®ç°æ–¹å¼public class Notification &#123; private MessageSender messageSender; // é€šè¿‡æ„é€ å‡½æ•°å°†messageSenderä¼ é€’è¿›æ¥ public Notification(MessageSender messageSender) &#123; this.messageSender = messageSender; &#125; public void sendMessage(String cellphone, String message) &#123; //...çœç•¥æ ¡éªŒé€»è¾‘ç­‰... this.messageSender.send(cellphone, message); &#125;&#125;//ä½¿ç”¨NotificationMessageSender messageSender = new MessageSender();Notification notification = new Notification(messageSender); - æŠŠ MessageSender å®šä¹‰æˆæ¥å£ï¼ŒåŸºäºæ¥å£è€Œéå®ç°ç¼–ç¨‹ï¼Œç»§ç»­ä¼˜åŒ–ï¼š 1234567891011121314151617181920212223242526272829303132333435public class Notification &#123; private MessageSender messageSender; public Notification(MessageSender messageSender) &#123; this.messageSender = messageSender; &#125; public void sendMessage(String cellphone, String message) &#123; this.messageSender.send(cellphone, message); &#125;&#125;public interface MessageSender &#123; void send(String cellphone, String message);&#125;// çŸ­ä¿¡å‘é€ç±»public class SmsSender implements MessageSender &#123; @Override public void send(String cellphone, String message) &#123; //.... &#125;&#125;// ç«™å†…ä¿¡å‘é€ç±»public class InboxSender implements MessageSender &#123; @Override public void send(String cellphone, String message) &#123; //.... &#125;&#125;//ä½¿ç”¨NotificationMessageSender messageSender = new SmsSender();Notification notification = new Notification(messageSender); #### ä¾èµ–æ³¨å…¥æ¡†æ¶ï¼ˆDI Framewordï¼‰ - åœ¨é‡‡ç”¨ä¾èµ–æ³¨å…¥å®ç°çš„ Notification ç±»ä¸­ï¼Œè™½ç„¶æˆ‘ä»¬ä¸éœ€è¦ç”¨ç±»ä¼¼ hard code çš„æ–¹å¼ï¼Œåœ¨ç±»å†…éƒ¨é€šè¿‡ new æ¥åˆ›å»º MessageSender å¯¹è±¡ï¼Œä½†æ˜¯ï¼Œè¿™ä¸ªåˆ›å»ºå¯¹è±¡ã€ç»„è£…ï¼ˆæˆ–æ³¨å…¥ï¼‰å¯¹è±¡çš„å·¥ä½œç´§ç´§æ˜¯è¢«ç§»åŠ¨åˆ°äº†æ›´ä¸Šå±‚ä»£ç è€Œå·²ï¼Œè¿˜æ˜¯éœ€è¦ç¨‹åºå‘˜è‡ªå·±æ¥å®ç°ã€‚ - å¯ä»¥é€šè¿‡æ¡†æ¶æ¥è‡ªåŠ¨å®Œæˆï¼Œåªéœ€è¦é€šè¿‡ä¾èµ–æ³¨å…¥æ¡†æ¶æä¾›çš„æ‰©å±•ç‚¹ï¼Œç®€å•é…ç½®ä¸€ä¸‹æ‰€æœ‰éœ€è¦åˆ›å»ºçš„ç±»å¯¹è±¡ã€ç±»ä¸ç±»ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œå°±å¯ä»¥å®ç°ç”±æ¡†æ¶æ¥è‡ªåŠ¨åˆ›å»ºå¯¹è±¡ã€ç®¡ç†å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸã€ä¾èµ–æ³¨å…¥ç­‰åŸæœ¬éœ€è¦ç¨‹åºå‘˜æ¥åšçš„äº‹æƒ…ã€‚ - è¿™ç±»æ¡†æ¶æœ‰å¾ˆå¤šï¼š Google Guiceã€Java Springã€Pico Containerã€Butterfly Containerã€‚ #### ä¾èµ–åè½¬åŸåˆ™ï¼ˆDIPï¼‰ - åŸæ–‡ï¼šHigh-level modules shouldn't depend on low-level modules. Both modules should depend on abstractions. In addition, abstractions shouldn't depend on details. Details depend on abstractions. - å®šä¹‰ï¼šé«˜å±‚æ¨¡å—ä¸è¦ä¾èµ–ä½å±‚æ¨¡å—ã€‚é«˜å±‚æ¨¡å—å’Œä½å±‚æ¨¡å—åº”è¯¥é€šè¿‡æŠ½è±¡æ¥äº’ç›¸ä¾èµ–ã€‚é™¤æ­¤ä¹‹å¤–ï¼ŒæŠ½è±¡ä¸è¦ä¾èµ–å…·ä½“å®ç°ç»†èŠ‚ï¼Œå…·ä½“å®ç°ç»†èŠ‚ä¾èµ–æŠ½è±¡ã€‚ - è¿™æ¡åŸåˆ™ä¸»è¦æ˜¯ç”¨æ¥æŒ‡å¯¼æ¡†æ¶å±‚é¢çš„è®¾è®¡ï¼Œè·Ÿå‰é¢è®²åˆ°çš„æ§åˆ¶åè½¬ç±»ä¼¼ã€‚ ##### ç”¨ Tomcat ä½œä¸ºä¾‹å­ï¼š - Tomcat æ˜¯è¿è¡Œ Java Web åº”ç”¨ç¨‹åºçš„å®¹å™¨ï¼ŒTomcat æ˜¯é«˜å±‚æ¨¡å—ï¼ŒJava Web æ˜¯ä½å±‚æ¨¡å—ã€‚ä¸¤è€…ä¹‹é—´æ²¡æœ‰ç›´æ¥çš„ä¾èµ–å…³ç³»ï¼Œä¸¤è€…éƒ½ä¾èµ–åŒä¸€ä¸ªâ€œæŠ½è±¡â€ï¼Œå°±æ˜¯ Servlet è§„èŒƒã€‚Servlet è§„èŒƒä¸ä¾èµ–å…·ä½“çš„ Tomcat å®¹å™¨å’Œåº”ç”¨ç¨‹åºçš„å®ç°ç»†èŠ‚ï¼Œè€Œä¸¤è€…éƒ½ä¾èµ– Servlet è§„èŒƒã€‚ ## Shareâ€”â€”åˆ†äº«ä¸€ç¯‡æœ‰è§‚ç‚¹çš„æ–‡ç«  - &lt;a href=&quot;https://coolshell.cn/articles/21113.html&quot; target=&quot;_blank&quot;&gt;[ ç™¾åº¦ä¸ºä»€ä¹ˆæ‰é˜Ÿäº† ]&lt;/a&gt;","tags":[{"name":"ARTS","slug":"ARTS","permalink":"http://tech.noexception.cn/tags/ARTS/"},{"name":"æ‰“å¡","slug":"æ‰“å¡","permalink":"http://tech.noexception.cn/tags/%E6%89%93%E5%8D%A1/"}]},{"title":"ARTS æ‰“å¡â€”â€”Weekly â‘¡","date":"2021-05-18T03:06:26.000Z","path":"2021/05/18/arts-02/","text":"æ—¥æ‹±ä¸€å’ï¼ŒåŠŸä¸å”æã€‚ Algorithmâ€”â€”ç®—æ³•é¢˜ å¾ªç¯é“¾è¡¨ é—®é¢˜æè¿°ï¼š ç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œåˆ¤æ–­é“¾è¡¨ä¸­æ˜¯å¦æœ‰ç¯ã€‚ å¦‚æœé“¾è¡¨ä¸­æœ‰æŸä¸ªèŠ‚ç‚¹ï¼Œå¯ä»¥é€šè¿‡è¿ç»­è·Ÿè¸ª next æŒ‡é’ˆå†æ¬¡åˆ°è¾¾ï¼Œåˆ™é“¾è¡¨ä¸­å­˜åœ¨ç¯ã€‚ ä¸ºäº†è¡¨ç¤ºç»™å®šé“¾è¡¨ä¸­çš„ç¯ï¼Œæˆ‘ä»¬ä½¿ç”¨æ•´æ•° pos æ¥è¡¨ç¤ºé“¾è¡¨å°¾è¿æ¥åˆ°é“¾è¡¨ä¸­çš„ä½ç½®ï¼ˆç´¢å¼•ä» 0 å¼€å§‹ï¼‰ã€‚ å¦‚æœ pos æ˜¯ -1ï¼Œåˆ™åœ¨è¯¥é“¾è¡¨ä¸­æ²¡æœ‰ç¯ã€‚æ³¨æ„ï¼špos ä¸ä½œä¸ºå‚æ•°è¿›è¡Œä¼ é€’ï¼Œä»…ä»…æ˜¯ä¸ºäº†æ ‡è¯†é“¾è¡¨çš„å®é™…æƒ…å†µã€‚ å¦‚æœé“¾è¡¨ä¸­å­˜åœ¨ç¯ï¼Œåˆ™è¿”å› true ã€‚ å¦åˆ™ï¼Œè¿”å› false ã€‚ è§£é¢˜æ€è·¯ï¼š é¦–å…ˆç¬¬ä¸€ä¸ªæƒ³åˆ°çš„æ€è·¯å°±æ˜¯ï¼š åˆ›å»ºä¸€ä¸ªé›†åˆï¼Œç”¨äºå­˜æ”¾æ¯ä¸€ä¸ªéå†è¿‡çš„èŠ‚ç‚¹ï¼› éå†ç»™å®šçš„é“¾è¡¨ï¼Œå°†æ¯ä¸€ä¸ªå…ƒç´ éƒ½æ”¾å…¥ä¸Šä¸€æ­¥åˆ›å»ºçš„é›†åˆå½“ä¸­ï¼› åœ¨éå†çš„è¿‡ç¨‹ä¸­ï¼Œåˆ¤æ–­å½“å‰èŠ‚ç‚¹æ˜¯å¦å­˜åœ¨äºé›†åˆå½“ä¸­ï¼Œå¦‚æœå­˜åœ¨åˆ™è¯´æ˜ï¼Œæ˜¯å¾ªç¯é“¾è¡¨ï¼› å…¶æ¬¡ï¼Œéå†åˆ°é“¾è¡¨æœ«å°¾çš„æ—¶å€™ï¼ŒnextæŒ‡å‘çš„ä¸º nullï¼Œåˆ™è¯´æ˜ä¸æ˜¯å¾ªç¯é“¾è¡¨ï¼› ç„¶åï¼Œæƒ³åˆ°çš„ç¬¬äºŒä¸ªæ€è·¯å°±æ˜¯ï¼š ç”¨ä¸¤ä¸ªæŒ‡é’ˆï¼Œåˆ†åˆ«æ˜¯å¿«æ…¢æŒ‡é’ˆï¼› å¿«æŒ‡é’ˆæ­¥é•¿æ˜¯æ…¢æŒ‡é’ˆçš„ä¸¤å€ï¼ˆä¸‰å€ä¹Ÿè¡Œï¼‰; ä¸€ç›´è¿™æ ·éå†ä¸‹å»ï¼Œå¦‚æœæ˜¯å¾ªç¯é“¾è¡¨çš„è¯ï¼Œåˆ™å¿«æ…¢æŒ‡é’ˆç»ˆä¼šç›¸é‡ï¼› å¦åˆ™ï¼Œå½“å¿«æŒ‡é’ˆçš„nextæˆ–è€…æ…¢æŒ‡é’ˆçš„nextæŒ‡å‘nullæ—¶ï¼Œåˆ™è¯´æ˜ä¸æ˜¯å¾ªç¯é“¾è¡¨ è§£ç­”ä»£ç ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162// è§£æ³•ä¸€ï¼š/** * Definition for singly-linked list. * class ListNode &#123; * int val; * ListNode next; * ListNode(int x) &#123; * val = x; * next = null; * &#125; * &#125; */public class Solution &#123; public boolean hasCycle(ListNode head) &#123; ListNode current = head; Set&lt;ListNode&gt; listNodePool = new HashSet&lt;&gt;(); while(true)&#123; if (listNodePool.contains(current))&#123; return true; &#125; if (current == null)&#123; return false; &#125; listNodePool.add(current); current = current.next; &#125; &#125;&#125;/** * Definition for singly-linked list. * class ListNode &#123; * int val; * ListNode next; * ListNode(int x) &#123; * val = x; * next = null; * &#125; * &#125; */ // è§£æ³•äºŒï¼špublic class Solution &#123; public boolean hasCycle(ListNode head) &#123; if (head == null || head.next == null) &#123; return false; &#125; // ä½¿ç”¨å¿«æ…¢æŒ‡é’ˆçš„æ–¹æ³• ListNode fast = head; ListNode slow = head; while (true) &#123; slow = slow.next; fast = fast.next.next; if (fast == null || fast.next == null) &#123; return false; &#125; if (fast == slow || slow == fast.next) &#123; return true; &#125; &#125; &#125;&#125; Reviewâ€”â€”é˜…è¯»ä¸€ç¯‡è‹±æ–‡æ–‡ç«  [ The software architect fallacyï¼ˆè½¯ä»¶æ¶æ„å¸ˆè°¬è®ºï¼‰ ] çœ‹æ³•ï¼š è¿™ç¯‡æ–‡ç« ç”¨äº†ä¸€ä¸ªéå¸¸ç”ŸåŠ¨å½¢è±¡çš„ä¾‹å­é˜è¿°äº†ç€‘å¸ƒå‹å¼€å‘æ¨¡å‹çš„å¼Šç«¯ï¼Œå¹¶æå‡ºäº†ä¸€ä¸‹ä¸€äº›æ€è€ƒç‚¹ï¼š èƒ½å¤Ÿçœ‹åˆ°äº§å“3-5å¹´åçš„æ ·å­å—ï¼Ÿ åœ¨æœªæ¥è¿˜éœ€è¦æŠ•å…¥å¤šå°‘å·¥ä½œé‡æ‰èƒ½è®©äº§å“ä¸Šçº¿ï¼Ÿ å¦‚æœç¬¬ä¸€ä¸ªç‰ˆæœ¬èƒ½å¤Ÿä½¿äº§å“æ›´ç¨³å®šåœ°è¢«æ›´é«˜çš„å®¢æˆ·é‡‡ç”¨ï¼Œé‚£ä¹ˆå›¢é˜Ÿæ˜¯å¦æœ‰å¯èƒ½å¯¹äº§å“çš„å…³é”®åŒºåŸŸè¿›è¡Œè¿”å·¥ï¼Ÿ æˆ‘ä»¬æœ‰å“ªäº›å†³å®šä¼šé™åˆ¶æˆ–è€…æ”¹å˜æˆ‘ä»¬äº§å“æœ€ç»ˆçš„å½¢æ€ï¼Ÿ åœ¨å¿«é€Ÿè¿­ä»£çš„åŒæ—¶ï¼Œæˆ‘ä»¬èƒ½å¤Ÿä¿è¯äº§å“åŸºç¡€åŠŸèƒ½çš„ç¨³å®šè¿è¡Œå—ï¼Ÿ æ˜¯å¦å­˜åœ¨æœ‰å¯ä»¥é‡æ„çš„æ¨¡å—æˆ–è€…éƒ¨åˆ†ï¼Ÿ Tipâ€”â€”å­¦ä¹ ä¸€ä¸ªæŠ€å·§ è®¾è®¡åŸåˆ™â€”â€”è´«è¡€æ¨¡å‹ä¸å……è¡€æ¨¡å‹ åŸºäºè´«è¡€æ¨¡å‹çš„ MVC ä¸‰å±‚æ¶æ„å¼€å‘æ¨¡å¼ï¼Œæ˜¯ä¸€ç§é¢å‘è¿‡ç¨‹çš„ç¼–ç¨‹é£æ ¼ï¼Œè¢«ç§°ä¸ºâ€œåæ¨¡å¼â€ã€‚é¢†åŸŸé©±åŠ¨è®¾è®¡æ˜¯åŸºäºå……è¡€æ¨¡å‹çš„å¼€å‘æ¨¡å¼ï¼Œè¶Šæ¥è¶Šè¢«äººæå€¡ã€‚ è´«è¡€æ¨¡å‹ï¼š è´«è¡€æ¨¡å‹çš„å®šä¹‰ï¼š åœ¨å¤§å¤šæ•°çš„åç«¯é¡¹ç›®ä¸­ï¼ŒEntity å’Œ DAO(Repository) ç»„æˆæ•°æ®è®¿é—®å±‚ï¼ŒBO å’Œ Service ç»„æˆä¸šåŠ¡é€»è¾‘å±‚ï¼ŒVO å’Œ Controller ç»„æˆæ¥å£å±‚ã€‚BO æ˜¯ä¸€ä¸ªçº¯ç²¹çš„æ•°æ®ç»“æ„ï¼ŒåªåŒ…å«æ•°æ®ï¼Œä¸åŒ…å«ä»»ä½•ä¸šåŠ¡é€»è¾‘ã€‚ä¸šåŠ¡é€»è¾‘é›†ä¸­åœ¨ Service ä¸­ã€‚é€šè¿‡ Service æ¥æ“ä½œ BOã€‚Service å±‚çš„æ•°æ®å’Œä¸šåŠ¡é€»è¾‘ï¼Œè¢«åˆ†å‰²ä¸º BO å’Œ Service ä¸¤ä¸ªç±»ã€‚è¿™ç§ BO ä¸åŒ…å«ä¸šåŠ¡é€»è¾‘çš„ç±»ï¼Œå°±å«åš è´«è¡€æ¨¡å‹ã€‚è´«è¡€æ¨¡å‹å°†æ•°æ®ä¸æ“ä½œåˆ†ç¦»ï¼Œç ´åäº†é¢å‘å¯¹è±¡çš„å°è£…ç‰¹æ€§ï¼Œæ‰€ä»¥è¯´æ˜¯ä¸€ç§å…¸å‹çš„é¢å‘å¯¹è±¡çš„ç¼–ç¨‹é£æ ¼ã€‚ å……è¡€æ¨¡å‹ï¼š é¢†åŸŸé©±åŠ¨è®¾è®¡ DDD, ä¸»è¦ç”¨æ¥æŒ‡å¯¼å¦‚ä½•è§£è€¦ä¸šåŠ¡ç³»ç»Ÿï¼Œåˆ’åˆ†ä¸šåŠ¡æ¨¡å—ï¼Œå®šä¹‰ä¸šåŠ¡é¢†åŸŸæ¨¡å‹åŠå…¶äº¤äº’ã€‚ï¼ˆ2004å¹´æå‡ºï¼Œä½†æ˜¯ç”±äºå¾®æœåŠ¡çš„ç››è¡ŒåŠ é€Ÿäº† DDD çš„å…´èµ·ï¼‰ åšå¥½ DDD çš„å…³é”®æ˜¯ï¼šçœ‹äººå¯¹è‡ªå·±æ‰€åšä¸šåŠ¡çš„ç†Ÿæ‚‰ç¨‹åº¦ï¼Œè€Œä¸æ˜¯å¯¹é¢†åŸŸé©±åŠ¨è®¾è®¡è¿™ä¸ªæ¦‚å¿µæœ¬èº«çš„æŒæ¡ç¨‹åº¦ã€‚ å……è¡€æ¨¡å‹çš„å®šä¹‰ï¼š æ•°æ®å’Œå¯¹åº”çš„ä¸šåŠ¡é€»è¾‘è¢«å°è£…åˆ°åŒä¸€ä¸ªç±»ä¸­å›½ï¼Œå› æ­¤ï¼Œå……è¡€æ¨¡å‹æ»¡è¶³é¢å‘å¯¹è±¡çš„å°è£…ç‰¹æ€§ï¼Œæ˜¯å…¸å‹çš„é¢å‘å¯¹è±¡ç¼–ç¨‹é£æ ¼ã€‚ åŸºäºå……è¡€æ¨¡å‹çš„DDDå¼€å‘æ¨¡å¼å®ç°çš„ä»£ç ï¼Œä¹Ÿæ˜¯æŒ‰ç…§ MVC ä¸‰å±‚æ¶æ„åˆ†å±‚çš„ã€‚Controller å±‚è´Ÿè´£æš´éœ²æ¥å£ï¼ŒRepository å±‚è´Ÿè´£æ•°æ®å­˜å–ï¼Œ Service å±‚è´Ÿè´£æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ã€‚åŒºåˆ«ä¸»è¦åœ¨ Service å±‚ã€‚ åŸºäºè´«è¡€æ¨¡å‹çš„ä¼ ç»Ÿçš„å¼€å‘æ¨¡å¼ï¼Œé‡ Service è½» BOï¼›åŸºäºå……è¡€æ¨¡å‹çš„ DDD å¼€å‘æ¨¡å¼ï¼Œè½» Service é‡ Domain. è´«è¡€æ¨¡å‹ä¹‹æ‰€ä»¥å—æ¬¢è¿çš„åŸå› ï¼š ä¸šåŠ¡ç®€å•ï¼ŒåŸºæœ¬å°±æ˜¯åŸºäºSQLçš„CRUDæ“ä½œï¼Œæ— éœ€åŠ¨è„‘å­ç²¾å¿ƒè®¾è®¡å……è¡€æ¨¡å‹ï¼Œè´«è¡€æ¨¡å‹å°±è¶³ä»¥åº”ä»˜è¿™ç§ç®€å•ä¸šåŠ¡çš„å·¥ä½œã€‚ å……è¡€æ¨¡å‹çš„è®¾è®¡è¦æ¯”è´«è¡€æ¨¡å‹æ›´åŠ æœ‰éš¾åº¦ã€‚å……è¡€æ¨¡å‹æ˜¯ä¸€ç§é¢å‘å¯¹è±¡çš„ç¼–ç¨‹é£æ ¼ï¼Œä¸€å¼€å§‹å°±è¦è®¾è®¡å¥½é’ˆå¯¹æ•°æ®è¦æš´éœ²é‚£äº›æ“ä½œï¼Œå®šä¹‰å“ªäº›ä¸šåŠ¡é€»è¾‘ã€‚è´«è¡€æ¨¡å‹åªéœ€è¦å®šä¹‰æ•°æ®ï¼Œåç»­æœ‰æ–°çš„åŠŸèƒ½å¼€å‘éœ€æ±‚ï¼Œå°±åœ¨ Service å±‚å®šä¹‰æ“ä½œï¼Œä¸éœ€è¦æ˜¯äº‹å…ˆåšå¤ªå¤šè®¾è®¡ã€‚ æ€ç»´å›ºåŒ–ã€‚è¿™ç§è´«è¡€æ¨¡å‹å·²æˆä¸º Web å¼€å‘ä¸­äº‹å®ä¸Šçš„æ ‡å‡†ï¼Œéš¾ä»¥æ”¹å˜ã€‚ å……è¡€æ¨¡å‹çš„åº”ç”¨åœºæ™¯ï¼š åŸºäºè´«è¡€æ¨¡å‹çš„ä¼ ç»Ÿå¼€å‘æ¨¡å¼ï¼Œæ¯”è¾ƒé€‚åˆä¸šåŠ¡æ¯”è¾ƒç®€å•çš„ç³»ç»Ÿå¼€å‘ã€‚ åŸºäºå……è¡€æ¨¡å‹çš„DDDå¼€å‘æ¨¡å¼ï¼Œæ›´é€‚åˆä¸šåŠ¡å¤æ‚çš„ç³»ç»Ÿå¼€å‘ã€‚å¦‚ï¼š åŒ…å«å„ç§åˆ©æ¯è®¡ç®—æ¨¡å‹ï¼› è¿˜æ¬¾æ¨¡å‹ç­‰å¤æ‚ä¸šåŠ¡çš„é‡‘èç³»ç»Ÿ ä¸€å¥è¯æ¦‚æ‹¬å¹³æ—¶çš„å¼€å‘ï¼šè¡—é“ä¸€ä¸ªåç«¯æ¥å£çš„å¼€å‘éœ€æ±‚çš„æ—¶å€™ï¼Œå°±å»çœ‹æ¥å£éœ€è¦çš„æ•°æ®å¯¹åº”åˆ°æ•°æ®åº“ä¸­å›½ï¼Œéœ€è¦å“ªå¼ è¡¨æˆ–è€…å“ªå‡ å¼ è¡¨ï¼Œç„¶åæ€è€ƒå¦‚ä½•ç¼–å†™SQLè¯­å¥æ¥è·å–æ•°æ®ã€‚ä¹‹åå°±æ˜¯å®šä¹‰ Entityã€BOã€VOï¼Œç„¶åæ¨¡æ¿å¼åœ°å¾€å¯¹åº”çš„ Repositoryã€Serviceã€Controller ç±»ä¸­æ·»åŠ ä»£ç ã€‚ åœ¨åŸºäºå……è¡€æ¨¡å‹çš„ DDD çš„å¼€å‘æ¨¡å¼ä¸‹ï¼Œæˆ‘ä»¬éœ€è¦äº‹å…ˆç†æ¸…æ¥šæ‰€æœ‰çš„ä¸šåŠ¡ï¼Œå®šä¹‰é¢†åŸŸæ¨¡å‹æ‰€åŒ…å«çš„å±æ€§å’Œæ–¹æ³•ã€‚é¢†åŸŸæ¨¡å‹ç›¸å½“äºå¯å¤ç”¨çš„ä¸šåŠ¡ä¸­é—´å±‚ã€‚æ–°åŠŸèƒ½éœ€æ±‚çš„å¼€å‘ï¼Œéƒ½åŸºäºä¹‹å‰å®šä¹‰å¥½çš„è¿™äº›é¢†åŸŸæ¨¡å‹æ¥å®Œæˆã€‚ è¶Šå¤æ‚çš„ç³»ç»Ÿï¼Œå¯¹ä»£ç çš„å¤ç”¨æ€§ã€æ˜“ç»´æŠ¤æ€§è¦æ±‚å°±è¶Šé«˜ï¼Œæˆ‘ä»¬å°±è¶Šåº”è¯¥èŠ±æ›´å¤šçš„æ—¶é—´å’Œç²¾åŠ›åœ¨å‰æœŸè®¾è®¡ä¸Šã€‚ è€ŒåŸºäºå……è¡€æ¨¡å‹çš„ DDD å¼€å‘æ¨¡å¼ï¼Œæ­£å¥½éœ€è¦æˆ‘ä»¬å‰æœŸåšå¤§é‡çš„ä¸šåŠ¡è°ƒç ”ã€é¢†åŸŸæ¨¡å‹è®¾è®¡ï¼Œæ‰€ä»¥å®ƒæ›´åŠ é€‚åˆè¿™ç§å¤æ‚ç³»ç»Ÿçš„å¼€å‘ã€‚ Shareâ€”â€”åˆ†äº«ä¸€ç¯‡æœ‰è§‚ç‚¹çš„æ–‡ç«  [ ä½¿ç”¨ç®€å•çš„é€»è¾‘æ–¹æ³•è¿›è¡Œç‹¬ç«‹æ€è€ƒ ] ç¬”è®°ï¼š äº”æ­¥æ€è€ƒï¼š ä¿¡æ¯æ•°æ®å¯è€ƒè¯ï¼› å¤„ç†é›†åˆå’Œå…¶åŒ…å«å…³ç³»ï¼› åœ¨æ•°å­¦çš„é€»è¾‘åŒ…å«ä¸­ï¼Œè¶…é›†çš„å®šä¹‰å¯ä»¥é€‚ç”¨äºå­é›†ï¼Œé€šè¿‡å­é›†çš„ç‰¹å¾å¯ä»¥å¯¹è¶…é›†è¿›è¡Œæ¢ç´¢ï¼Œä½†æ˜¯æ²¡æ³•å®šä¹‰è¶…é›†ã€‚ é›†åˆçš„å¤§å°ä¹Ÿæ˜¯ä¸€ä¸ªå¾ˆé‡è¦çš„äº‹ï¼Œå¹¸å­˜è€…åå·®ä¼šæ˜¯ä¸€ä¸ªå¾ˆå®¹æ˜“è®©äººæ‰ä¸‹å»çš„é™·é˜±ï¼Œå› ä¸ºå¯èƒ½ä¼šæœ‰å¾ˆå¤§çš„æ ·æœ¬é›†å¯èƒ½åœ¨ä½ çš„è§†çº¿ç›²åŒºã€‚ å¤„ç†é€»è¾‘å› æœå…³ç³»ï¼› å› æœå…³ç³»å‡ºé—®é¢˜çš„æ–‡ç« è¯»å¤šäº†æ˜¯å¯¹å¤§è„‘æœ‰æŸä¼¤çš„ï¼Œè¦å°½é‡è¿œç¦»ã€‚ æ‰¾åˆ°é è°±çš„åŸºå‡†çº¿ï¼› æ™ºè€…å»ºæ¡¥ï¼Œæ„šè€…å»ºå¢™ æ›´åŠ æ·±å…¥å’Œé«˜ç»´æ€è€ƒï¼›","tags":[{"name":"ARTS","slug":"ARTS","permalink":"http://tech.noexception.cn/tags/ARTS/"},{"name":"æ‰“å¡","slug":"æ‰“å¡","permalink":"http://tech.noexception.cn/tags/%E6%89%93%E5%8D%A1/"}]},{"title":"ARTS æ‰“å¡â€”â€”Weekly â‘ ","date":"2021-05-11T10:54:23.000Z","path":"2021/05/11/arts-01/","text":"æ—¥æ‹±ä¸€å’ï¼ŒåŠŸä¸å”æã€‚ Algorithmâ€”â€”ç®—æ³•é¢˜ æ¨è¾‰ä¸‰è§’ é—®é¢˜æè¿°ï¼š ç»™å®šä¸€ä¸ªéè´Ÿæ•´æ•° numRowsï¼Œç”Ÿæˆæ¨è¾‰ä¸‰è§’çš„å‰ numRows è¡Œã€‚ åœ¨æ¨è¾‰ä¸‰è§’ä¸­ï¼Œæ¯ä¸ªæ•°æ˜¯å®ƒå·¦ä¸Šæ–¹å’Œå³ä¸Šæ–¹çš„æ•°çš„å’Œã€‚ è§£é¢˜æ€è·¯ï¼š é¦–å…ˆçœ‹æ¨è¾‰ä¸‰è§’çš„è§„å¾‹ï¼š è¡Œæ•°è·Ÿä¸ªæ•°ç›¸ç­‰ æ¯ä¸€è¡Œçš„æ€»å’Œç­‰äº2çš„n-1æ¬¡æ–¹ï¼Œnä¸ºå½“å‰è¡Œæ•° æ¯è¡Œéƒ½æ˜¯å›æ–‡ æ¯è¡Œç¬¬äºŒä¸ªæ•°ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰ï¼Œéƒ½æ˜¯n-1ï¼Œä¸”nä¸ºå½“å‰è¡Œæ•° ä»ç¬¬ä¸€è¡Œå¼€å§‹ç”Ÿæˆçš„è¯ï¼Œå¥‡æ•°è¡Œä¸­é—´é‚£ä¸ªæ•°ï¼Œå°±æ­£å¥½ç­‰äºä¸Šä¸€è¡Œä¸­é—´ä¸¤ä¸ªæ•°ä¹‹å’Œ é¦–å…ˆç”Ÿæˆå½“å‰èˆªçš„å‰ä¸€åŠçš„æ•°å­—ï¼Œå‰©ä¸‹çš„æ ¹æ®å…ˆå‰ç”Ÿæˆçš„å€’åºæ’å…¥å³å¯ å¤„ç†æµç¨‹å¤§è‡´ä¸Šå°±åˆ†ä¸ºï¼š è®¡ç®—å¹¶æ ‡è®°å½“å‰ç”Ÿæˆè¡Œçš„ä¸­ä½åæ ‡ï¼Œå¹¶æ ‡è®°å½“å‰è¡Œæ˜¯å¦æ˜¯å¥‡æ•°è¡Œï¼ˆå¥‡æ•°è¡Œéœ€è¦ç”Ÿæˆå›æ–‡æ•°åˆ—ä¸­çš„æœ€å¤§å€¼ï¼‰ è®¡ç®—å¹¶ç”Ÿæˆå½“å‰è¡Œå‰åŠéƒ¨åˆ†æ•°æ® è®¡ç®—å¥‡æ•°è¡Œå›æ–‡ä¸­é—´æ•°å€¼ å°†å‰åŠéƒ¨åˆ†æ•°å€¼å€’åºæ’å…¥å½“å‰è¡Œä¸­ï¼Œä¸å…¨æ•°æ® è§£ç­”ä»£ç ï¼š 123456789101112131415161718192021222324252627282930313233class Solution &#123; public List&lt;List&lt;Integer&gt;&gt; generate(int numRows) &#123; List&lt;List&lt;Integer&gt;&gt; resultArray = new ArrayList&lt;&gt;(); List&lt;Integer&gt; subArray = null; for (int i = 0; i &lt; numRows; i++) &#123; subArray = new ArrayList&lt;&gt;(); int mid = (i + 1) / 2; int mod = (i + 1) % 2; if (mid &lt; 1) &#123; subArray.add(1); &#125; for (int j = 0; j &lt; mid; j++) &#123; if (j == 0) &#123; subArray.add(1); continue; &#125; if (j == 1) &#123; subArray.add(i); continue; &#125; subArray.add(resultArray.get(i - 1).get(j) + resultArray.get(i - 1).get(j - 1)); &#125; if (mod == 1 &amp;&amp; mid &gt;= 1) &#123; subArray.add(resultArray.get(i - 1).get(mid) + resultArray.get(i - 1).get(mid - 1)); &#125; for (int k = mid; k &gt; 0; k--) &#123; subArray.add(subArray.get(k - 1)); &#125; resultArray.add(subArray); &#125; return resultArray; &#125;&#125; Reviewâ€”â€”é˜…è¯»ä¸€ç¯‡è‹±æ–‡æ–‡ç«  [ What is HTTP/3, and Why Does it Matter? ] çœ‹æ³•ï¼š HTTP/3 åŸºäº Google åœ¨2012å¹´å‘å¸ƒçš„ QUIC åè®®ï¼Œæ·»åŠ äº†å¤šé¡¹åŠŸèƒ½ï¼Œæ¯”åŸæ¥åŸºäºTCP/IPåè®®çš„HTTPè¦å¿«éå¸¸éå¸¸å¤šï¼ŒQUIC åè®®åŸºäº UDP å®ç°ï¼Œæ— éœ€3æ¬¡æ¡æ‰‹ï¼Œå…·æœ‰å¿«é€Ÿå®‰å…¨çš„ç‰¹ç‚¹ æ”¯æŒæƒ…å†µï¼š Chrome: 87+ Edge: 87+ Firefox: 88+ Safari: 14+ï¼ˆéœ€è¦åœ¨å¼€å¯è¯•éªŒåŠŸèƒ½æ‰èƒ½æ”¯æŒï¼‰ Tipâ€”â€”å­¦ä¹ ä¸€ä¸ªæŠ€å·§ ç®€å•å·¥å‚ï¼ˆå·¥å‚æ–¹æ³•çš„ä¸€ç§ç‰¹ä¾‹ï¼‰ å…ˆæ¥çœ‹ä¸€æ®µæœªä½¿ç”¨å·¥å‚æ¨¡å¼çš„ä»£ç  12345678910111213141516171819202122232425262728public class RuleConfigSource &#123; public RuleConfig load(String ruleConfigFilePath) &#123; String ruleConfigFileExtension = getFileExtension(ruleConfigFilePath); IRuleConfigParser parser = null; if (\"json\".equalsIgnoreCase(ruleConfigFileExtension)) &#123; parser = new JsonRuleConfigParser(); &#125; else if (\"xml\".equalsIgnoreCase(ruleConfigFileExtension)) &#123; parser = new XmlRuleConfigParser(); &#125; else if (\"yaml\".equalsIgnoreCase(ruleConfigFileExtension)) &#123; parser = new YamlRuleConfigParser(); &#125; else if (\"properties\".equalsIgnoreCase(ruleConfigFileExtension)) &#123; parser = new PropertiesRuleConfigParser(); &#125; else &#123; throw new InvalidRuleConfigException( \"Rule config file format is not supported: \" + ruleConfigFilePath); &#125; String configText = \"\"; //ä»ruleConfigFilePathæ–‡ä»¶ä¸­è¯»å–é…ç½®æ–‡æœ¬åˆ°configTextä¸­ RuleConfig ruleConfig = parser.parse(configText); return ruleConfig; &#125; private String getFileExtension(String filePath) &#123; //...è§£ææ–‡ä»¶åè·å–æ‰©å±•åï¼Œæ¯”å¦‚rule.jsonï¼Œè¿”å›json return \"json\"; &#125;&#125; ä¸ºäº†è®©ä»£ç é€»è¾‘æ›´åŠ æ¸…æ™°ï¼Œå¯è¯»æ€§æ›´å¥½ï¼Œæˆ‘ä»¬è¦å–„äºå°†åŠŸèƒ½ç‹¬ç«‹çš„ä»£ç å°è£…æˆå‡½æ•°ã€‚ æˆ‘ä»¬å¯ä»¥å°†ä»£ç ä¸­è®¾è®¡ parser åˆ›å»ºçš„éƒ¨åˆ†é€»è¾‘å‰¥ç¦»å‡ºæ¥ï¼ŒæŠ½è±¡æˆ createParser() å‡½æ•°ã€‚ 12345678910111213141516171819202122232425262728293031323334public class RuleConfigSource &#123; public RuleConfig load(String ruleConfigFilePath) &#123; String ruleConfigFileExtension = getFileExtension(ruleConfigFilePath); IRuleConfigParser parser = createParser(ruleConfigFileExtension); if (parser == null) &#123; throw new InvalidRuleConfigException( \"Rule config file format is not supported: \" + ruleConfigFilePath); &#125; String configText = \"\"; //ä»ruleConfigFilePathæ–‡ä»¶ä¸­è¯»å–é…ç½®æ–‡æœ¬åˆ°configTextä¸­ RuleConfig ruleConfig = parser.parse(configText); return ruleConfig; &#125; private String getFileExtension(String filePath) &#123; //...è§£ææ–‡ä»¶åè·å–æ‰©å±•åï¼Œæ¯”å¦‚rule.jsonï¼Œè¿”å›json return \"json\"; &#125; private IRuleConfigParser createParser(String configFormat) &#123; IRuleConfigParser parser = null; if (\"json\".equalsIgnoreCase(configFormat)) &#123; parser = new JsonRuleConfigParser(); &#125; else if (\"xml\".equalsIgnoreCase(configFormat)) &#123; parser = new XmlRuleConfigParser(); &#125; else if (\"yaml\".equalsIgnoreCase(configFormat)) &#123; parser = new YamlRuleConfigParser(); &#125; else if (\"properties\".equalsIgnoreCase(configFormat)) &#123; parser = new PropertiesRuleConfigParser(); &#125; return parser; &#125;&#125; ä¸ºäº†è®©ç±»çš„èŒè´£æ›´åŠ å•ä¸€ã€ä»£ç æ›´åŠ æ¸…æ™°ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥è¿›ä¸€æ­¥å°† createParser() å‡½æ•°å‰¥ç¦»åˆ°ä¸€ä¸ªç‹¬ç«‹çš„ç±»ä¸­ï¼Œè®©è¿™ä¸ªç±»åªè´Ÿè´£å¯¹è±¡çš„åˆ›å»ºã€‚ è€Œè¿™ä¸ªç±»å°±æ˜¯æˆ‘ä»¬æ‰€è¯´çš„ ç®€å•å·¥å‚æ¨¡å¼ç±» ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738public class RuleConfigSource &#123; public RuleConfig load(String ruleConfigFilePath) &#123; String ruleConfigFileExtension = getFileExtension(ruleConfigFilePath); IRuleConfigParser parser = RuleConfigParserFactory.createParser(ruleConfigFileExtension); if (parser == null) &#123; throw new InvalidRuleConfigException( \"Rule config file format is not supported: \" + ruleConfigFilePath); &#125; String configText = \"\"; //ä»ruleConfigFilePathæ–‡ä»¶ä¸­è¯»å–é…ç½®æ–‡æœ¬åˆ°configTextä¸­ RuleConfig ruleConfig = parser.parse(configText); return ruleConfig; &#125; private String getFileExtension(String filePath) &#123; //...è§£ææ–‡ä»¶åè·å–æ‰©å±•åï¼Œæ¯”å¦‚rule.jsonï¼Œè¿”å›json return \"json\"; &#125;&#125;// ç®€å•å·¥å‚æ¨¡å¼ç±»â†“â†“â†“public class RuleConfigParserFactory &#123; public static IRuleConfigParser createParser(String configFormat) &#123; IRuleConfigParser parser = null; if (\"json\".equalsIgnoreCase(configFormat)) &#123; parser = new JsonRuleConfigParser(); &#125; else if (\"xml\".equalsIgnoreCase(configFormat)) &#123; parser = new XmlRuleConfigParser(); &#125; else if (\"yaml\".equalsIgnoreCase(configFormat)) &#123; parser = new YamlRuleConfigParser(); &#125; else if (\"properties\".equalsIgnoreCase(configFormat)) &#123; parser = new PropertiesRuleConfigParser(); &#125; return parser; &#125;&#125; åœ¨ä¸Šé¢çš„ä»£ç å®ç°ä¸­ï¼Œæˆ‘ä»¬æ¯æ¬¡è°ƒç”¨ RuleConfigParserFactory çš„ createParser() çš„æ—¶å€™ï¼Œéƒ½è¦åˆ›å»ºä¸€ä¸ªæ–°çš„ parserã€‚ å®é™…ä¸Šï¼Œå¦‚æœ parser å¯ä»¥æœç”¨ï¼Œä¸ºäº†èŠ‚çœå†…å­˜å’Œå¯¹è±¡åˆ›å»ºçš„æ—¶é—´ï¼Œæˆ‘ä»¬å¯ä»¥å°† parser äº‹å…ˆåˆ›å»ºå¥½ç¼“å­˜èµ·æ¥ã€‚ å½“è°ƒç”¨ createParser() å‡½æ•°çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä»ç¼“å­˜ä¸­å–å‡º parser å¯¹è±¡ç›´æ¥ä½¿ç”¨ã€‚ æœ‰ç‚¹ç±»ä¼¼äºï¼Œå•åˆ©æ¨¡å¼ å’Œ ç®€å•å·¥å‚æ¨¡å¼ çš„ç»“åˆã€‚ä½œä¸ºç®€å•å·¥å‚æ¨¡å¼çš„ç¬¬äºŒç§å®ç°æ–¹å¼ã€‚ 123456789101112131415161718public class RuleConfigParserFactory &#123; private static final Map&lt;String, RuleConfigParser&gt; cachedParsers = new HashMap&lt;&gt;(); static &#123; cachedParsers.put(\"json\", new JsonRuleConfigParser()); cachedParsers.put(\"xml\", new XmlRuleConfigParser()); cachedParsers.put(\"yaml\", new YamlRuleConfigParser()); cachedParsers.put(\"properties\", new PropertiesRuleConfigParser()); &#125; public static IRuleConfigParser createParser(String configFormat) &#123; if (configFormat == null || configFormat.isEmpty()) &#123; return null;//è¿”å›nullè¿˜æ˜¯IllegalArgumentExceptionå…¨å‡­ä½ è‡ªå·±è¯´äº†ç®— &#125; IRuleConfigParser parser = cachedParsers.get(configFormat.toLowerCase()); return parser; &#125;&#125; åœ¨ç®€å•å·¥å‚æ¨¡å¼çš„ä»£ç å®ç°ä¸­ï¼Œæœ‰å¤šå¤„ if åˆ†æ”¯åˆ¤æ–­é€»è¾‘ï¼Œè¿èƒŒå¼€é—­åŸåˆ™ï¼Œä½†æƒè¡¡æ‰©å±•æ€§å’Œå¯è¯»æ€§ï¼Œè¿™æ ·çš„ä»£ç å®ç°åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹æ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚ åº”ç”¨å¤šæ€æˆ–è®¾è®¡æ¨¡å¼æ¥æ›¿ä»£ if åˆ†æ”¯åˆ¤æ–­é€»è¾‘ï¼Œå®ƒè™½ç„¶æé«˜äº†ä»£ç çš„æ‰©å±•æ€§ï¼Œæ›´åŠ ç¬¦åˆå¼€é—­åŸåˆ™ï¼Œä½†ä¹Ÿå¢åŠ äº†ç±»çš„ä¸ªæ•°ï¼Œç‰ºç‰²äº†ä»£ç çš„å¯è¯»æ€§ã€‚ å·¥å‚æ–¹æ³• å¦‚æœéè¦å»é™¤æ‰ä»£ç ä¸­çš„ if åˆ†æ”¯é€»è¾‘ï¼Œæ¯”è¾ƒç»å…¸çš„æ–¹å¼å°±æ˜¯åˆ©ç”¨å¤šæ€ã€‚ 12345678910111213141516171819202122232425262728293031public interface IRuleConfigParserFactory &#123; IRuleConfigParser createParser();&#125;public class JsonRuleConfigParserFactory implements IRuleConfigParserFactory &#123; @Override public IRuleConfigParser createParser() &#123; return new JsonRuleConfigParser(); &#125;&#125;public class XmlRuleConfigParserFactory implements IRuleConfigParserFactory &#123; @Override public IRuleConfigParser createParser() &#123; return new XmlRuleConfigParser(); &#125;&#125;public class YamlRuleConfigParserFactory implements IRuleConfigParserFactory &#123; @Override public IRuleConfigParser createParser() &#123; return new YamlRuleConfigParser(); &#125;&#125;public class PropertiesRuleConfigParserFactory implements IRuleConfigParserFactory &#123; @Override public IRuleConfigParser createParser() &#123; return new PropertiesRuleConfigParser(); &#125;&#125; ä»¥ä¸Šï¼Œå°±æ˜¯å·¥å‚æ–¹æ³•æ¨¡å¼çš„å…¸å‹ä»£ç å®ç°æ–¹å¼ã€‚è¿™æ ·å½“æˆ‘ä»¬æ–°å¢ä¸€ç§ parser çš„æ—¶å€™ï¼Œåªéœ€è¦æ–°å¢ä¸€ä¸ªå®ç°äº† IRuleConfigPArserFactory æ¥å£çš„ Factory ç±»å³å¯ã€‚ã€‚ æ‰€ä»¥ï¼Œå·¥å‚æ–¹æ³•æ¯”èµ·ç®€å•å·¥å‚æ¨¡å¼æ›´åŠ ç¬¦åˆå¼€é—­åŸåˆ™ã€‚ ä½†æ˜¯è¿™é‡Œé¢å­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯ä¸Šå±‚ä½¿ç”¨ç±»ï¼Œåˆä¼šå˜ä¸ºåˆç‰ˆé‚£æ ·å·¥å‚å¯¹è±¡çš„åˆ›å»ºé€»è¾‘è€¦åˆè¿›äº† load() å‡½æ•° 1234567891011121314151617181920212223242526272829public class RuleConfigSource &#123; public RuleConfig load(String ruleConfigFilePath) &#123; String ruleConfigFileExtension = getFileExtension(ruleConfigFilePath); IRuleConfigParserFactory parserFactory = null; if (\"json\".equalsIgnoreCase(ruleConfigFileExtension)) &#123; parserFactory = new JsonRuleConfigParserFactory(); &#125; else if (\"xml\".equalsIgnoreCase(ruleConfigFileExtension)) &#123; parserFactory = new XmlRuleConfigParserFactory(); &#125; else if (\"yaml\".equalsIgnoreCase(ruleConfigFileExtension)) &#123; parserFactory = new YamlRuleConfigParserFactory(); &#125; else if (\"properties\".equalsIgnoreCase(ruleConfigFileExtension)) &#123; parserFactory = new PropertiesRuleConfigParserFactory(); &#125; else &#123; throw new InvalidRuleConfigException(\"Rule config file format is not supported: \" + ruleConfigFilePath); &#125; IRuleConfigParser parser = parserFactory.createParser(); String configText = \"\"; //ä»ruleConfigFilePathæ–‡ä»¶ä¸­è¯»å–é…ç½®æ–‡æœ¬åˆ°configTextä¸­ RuleConfig ruleConfig = parser.parse(configText); return ruleConfig; &#125; private String getFileExtension(String filePath) &#123; //...è§£ææ–‡ä»¶åè·å–æ‰©å±•åï¼Œæ¯”å¦‚rule.jsonï¼Œè¿”å›json return \"json\"; &#125;&#125; è§£å†³æ–¹æ³•ï¼šæˆ‘ä»¬å¯ä»¥ä¸ºå·¥å‚ç±»å†åˆ›å»ºä¸€ä¸ªç®€å•å·¥å‚ï¼Œä¹Ÿå°±æ˜¯å·¥å‚çš„å·¥å‚ï¼Œç”¨æ¥åˆ›å»ºå·¥å‚ç±»å¯¹è±¡ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243// RuleConfigParserFactoryMap ç±»æ˜¯åˆ›å»ºå·¥å‚å¯¹è±¡çš„å·¥å‚ç±»ï¼ŒgetParserFactory() è¿”å›çš„æ˜¯ç¼“å­˜å¥½çš„å•ä¾‹å·¥å‚å¯¹è±¡ã€‚public class RuleConfigSource &#123; public RuleConfig load(String ruleConfigFilePath) &#123; String ruleConfigFileExtension = getFileExtension(ruleConfigFilePath); IRuleConfigParserFactory parserFactory = RuleConfigParserFactoryMap.getParserFactory(ruleConfigFileExtension); if (parserFactory == null) &#123; throw new InvalidRuleConfigException(\"Rule config file format is not supported: \" + ruleConfigFilePath); &#125; IRuleConfigParser parser = parserFactory.createParser(); String configText = \"\"; //ä»ruleConfigFilePathæ–‡ä»¶ä¸­è¯»å–é…ç½®æ–‡æœ¬åˆ°configTextä¸­ RuleConfig ruleConfig = parser.parse(configText); return ruleConfig; &#125; private String getFileExtension(String filePath) &#123; //...è§£ææ–‡ä»¶åè·å–æ‰©å±•åï¼Œæ¯”å¦‚rule.jsonï¼Œè¿”å›json return \"json\"; &#125;&#125;//å› ä¸ºå·¥å‚ç±»åªåŒ…å«æ–¹æ³•ï¼Œä¸åŒ…å«æˆå‘˜å˜é‡ï¼Œå®Œå…¨å¯ä»¥å¤ç”¨ï¼Œ//ä¸éœ€è¦æ¯æ¬¡éƒ½åˆ›å»ºæ–°çš„å·¥å‚ç±»å¯¹è±¡ï¼Œæ‰€ä»¥ï¼Œç®€å•å·¥å‚æ¨¡å¼çš„ç¬¬äºŒç§å®ç°æ€è·¯æ›´åŠ åˆé€‚ã€‚public class RuleConfigParserFactoryMap &#123; //å·¥å‚çš„å·¥å‚ private static final Map&lt;String, IRuleConfigParserFactory&gt; cachedFactories = new HashMap&lt;&gt;(); static &#123; cachedFactories.put(\"json\", new JsonRuleConfigParserFactory()); cachedFactories.put(\"xml\", new XmlRuleConfigParserFactory()); cachedFactories.put(\"yaml\", new YamlRuleConfigParserFactory()); cachedFactories.put(\"properties\", new PropertiesRuleConfigParserFactory()); &#125; public static IRuleConfigParserFactory getParserFactory(String type) &#123; if (type == null || type.isEmpty()) &#123; return null; &#125; IRuleConfigParserFactory parserFactory = cachedFactories.get(type.toLowerCase()); return parserFactory; &#125;&#125; é—®é¢˜ï¼šä»€ä¹ˆæ—¶å€™è¯¥ç”¨å·¥å‚æ–¹æ³•æ¨¡å¼ï¼Œè€Œéç®€å•å·¥å‚æ¨¡å¼ï¼Ÿ åŸºäºå•ä¸€èŒè´£çš„è®¾è®¡æ€æƒ³ï¼Œå½“åˆ›å»ºå¯¹è±¡é€»è¾‘æ¯”è¾ƒå¤æ‚ï¼Œä¸åªæ˜¯ç®€å•çš„ new ä¸€ä¸‹å°±å¯ä»¥ï¼Œè€Œæ˜¯è¦ç»„åˆå…¶ä»–ç±»å¯¹è±¡ï¼Œåšå„ç§åˆå§‹åŒ–æ“ä½œçš„æ—¶å€™ï¼Œæˆ‘ä»¬æ¨èä½¿ç”¨å·¥å‚æ–¹æ³•æ¨¡å¼ï¼Œå°†å¤æ‚çš„åˆ›å»ºé€»è¾‘æ‹†åˆ†åˆ°å¤šä¸ªå·¥å‚ç±»ä¸­ï¼Œè®©æ¯ä¸ªå·¥å‚ç±»éƒ½ä¸è‡³äºè¿‡äºå¤æ‚ã€‚ è€Œä½¿ç”¨ç®€å•å·¥å‚æ¨¡å¼ï¼Œå°†æ‰€æœ‰çš„åˆ›å»ºé€»è¾‘éƒ½æ”¾åˆ°ä¸€ä¸ªå·¥å‚ç±»ä¸­ï¼Œä¼šå¯¼è‡´è¿™ä¸ªå·¥å‚ç±»å˜å¾—å¾ˆå¤æ‚ã€‚ å¦‚æœå¯¹è±¡ä¸å¯å¤ç”¨ï¼Œé‚£å·¥å‚æ¯æ¬¡éƒ½è¦è¿”å›ä¸åŒçš„å¯¹è±¡ï¼š ä½¿ç”¨ç®€å•å·¥å‚æ¨¡å¼å®ç°ï¼ŒåŒ…å« if åˆ†æ”¯é€»è¾‘çš„å®ç°æ–¹å¼ã€‚ é¿å… if-else åˆ†æ”¯é€»è¾‘ï¼Œå°±æ¨èä½¿ç”¨å·¥å‚æ–¹æ³•æ¨¡å¼ã€‚ æŠ½è±¡å·¥å‚ åœºæ™¯ï¼š åœ¨ç®€å•å·¥å‚å’Œå·¥å‚æ–¹æ³•æ¨¡å¼ä¸­ï¼Œè§£æå™¨åªæ ¹æ®é…ç½®æ–‡ä»¶æ ¼å¼æ¥åˆ†ç±»ï¼Œä½†æ˜¯ï¼Œå¦‚æœç±»æœ‰ä¸¤ç§åˆ†ç±»æ–¹å¼ï¼Œæ¯”å¦‚ï¼Œæˆ‘ä»¬æ—¢å¯ä»¥æŒ‰ç…§é…ç½®æ–‡ä»¶æ ¼å¼æ¥åˆ†ç±»ï¼Œä¹Ÿå¯ä»¥æŒ‰ç…§è§£æçš„å¯¹è±¡æ¥åˆ†ç±»ã€‚ é’ˆå¯¹è¿™ç§ç‰¹æ®Šçš„åœºæ™¯ï¼Œå¦‚æœè¿˜æ˜¯ç»§ç»­ç”¨å·¥å‚æ–¹æ³•æ¥å®ç°çš„è¯ï¼Œæˆ‘ä»¬éœ€è¦é’ˆå¯¹æ¯ä¸ª parser éƒ½ç¼–å†™ä¸€ä¸ªå·¥å‚ç±»ã€‚å¦‚æœæœªæ¥è¿˜éœ€è¦å¢åŠ é’ˆå¯¹ä¸šåŠ¡é…ç½®çš„è§£æå™¨ï¼Œé‚£å°±è¦å†å¯¹åº”åœ°å¢åŠ å·¥å‚ç±»ã€‚ è¿‡å¤šçš„ç±»ä¼šè®©ç³»ç»Ÿéš¾ç»´æŠ¤ã€‚ è§£å†³æ–¹å¼ï¼š æŠ½è±¡å·¥å‚é’ˆå¯¹è¿™ç§ç‰¹æ®Šçš„åœºæ™¯è¯ç”Ÿã€‚æˆ‘ä»¬å¯ä»¥è®©ä¸€ä¸ªå·¥å‚è´Ÿè´£åˆ›å»ºè¿‡ä¸ªä¸åŒç±»å‹çš„å¯¹è±¡ï¼Œè€Œä¸æ˜¯åªåˆ›å»ºä¸€ç§ parser å¯¹è±¡ã€‚ è¿™æ ·å¯ä»¥æœ‰æ•ˆåœ°å‡å°‘å·¥å‚ç±»çš„ä¸ªæ•°ã€‚ 12345678910111213141516171819202122232425262728293031public interface IConfigParserFactory &#123; IRuleConfigParser createRuleParser(); ISystemConfigParser createSystemParser(); //æ­¤å¤„å¯ä»¥æ‰©å±•æ–°çš„parserç±»å‹ï¼Œæ¯”å¦‚IBizConfigParser&#125;public class JsonConfigParserFactory implements IConfigParserFactory &#123; @Override public IRuleConfigParser createRuleParser() &#123; return new JsonRuleConfigParser(); &#125; @Override public ISystemConfigParser createSystemParser() &#123; return new JsonSystemConfigParser(); &#125;&#125;public class XmlConfigParserFactory implements IConfigParserFactory &#123; @Override public IRuleConfigParser createRuleParser() &#123; return new XmlRuleConfigParser(); &#125; @Override public ISystemConfigParser createSystemParser() &#123; return new XmlSystemConfigParser(); &#125;&#125;// çœç•¥YamlConfigParserFactoryå’ŒPropertiesConfigParserFactoryä»£ç  åº”ç”¨å·¥å‚æ¨¡å¼æœ€æœ¬è´¨çš„å‚è€ƒæ ‡å‡†ï¼š å°è£…å˜åŒ–ï¼šåˆ›å»ºé€»è¾‘æœ‰å¯èƒ½å˜åŒ–ï¼Œå°è£…æˆå·¥å‚ç±»ä¹‹åï¼Œåˆ›å»ºé€»è¾‘çš„å˜æ›´å¯¹è°ƒç”¨è€…é€æ˜ï¼› ä»£ç å¤ç”¨ï¼šåˆ›å»ºä»£ç æŠ½ç¦»åˆ°ç‹¬ç«‹çš„å·¥å‚ç±»ä¹‹åå¯ä»¥å¤ç”¨ï¼› éš”ç¦»å¤æ‚æ€§ï¼šå°è£…å¤æ‚çš„åˆ›å»ºé€»è¾‘ï¼Œè°ƒç”¨è€…æ— éœ€äº†è§£å¦‚ä½•åˆ›å»ºå¯¹è±¡ï¼› æ§åˆ¶å¤æ‚åº¦ï¼šå°†åˆ›å»ºä»£ç æŠ½ç¦»å‡ºæ¥ï¼Œè®©åŸæœ¬çš„å‡½æ•°æˆ–ç±»èŒè´£æ›´å•ä¸€ï¼Œä»£ç æ›´ç®€æ´ï¼› ä¸ºä»€ä¹ˆæ²¡äº‹ä¸è¦éšä¾¿ç”¨å·¥å‚æ¨¡å¼åˆ›å»ºå¯¹è±¡ å·¥å‚æ¨¡å¼å’Œä¾èµ–æ³¨å…¥å®¹å™¨ åŒºåˆ« å·¥å‚æ¨¡å¼ä¸­ï¼Œä¸€ä¸ªå·¥å‚ç±»åªè´Ÿè´£æŸä¸ªç±»å¯¹è±¡æˆ–è€…æŸä¸€ç»„ç›¸å…³ç±»å¯¹è±¡ï¼ˆç»§æ‰¿è‡ªåŒä¸€æŠ½è±¡ç±»æˆ–è€…æ¥å£çš„å­ç±»ï¼‰çš„åˆ›å»ºï¼› DI å®¹å™¨è´Ÿè´£çš„æ˜¯æ•´ä¸ªåº”ç”¨ä¸­æ‰€æœ‰ç±»å¯¹è±¡çš„åˆ›å»ºï¼› DI å®¹å™¨è¿˜éœ€è¦è´Ÿè´£é…ç½®ç±»çš„è§£æã€å¯¹è±¡å£°æ˜å‘¨æœŸçš„ç®¡ç†ï¼› DI å®¹å™¨çš„æ ¸å¿ƒåŠŸèƒ½ 1. é…ç½®è§£æ èƒŒæ™¯ï¼š åœ¨å·¥å‚æ¨¡å¼ä¸­ï¼Œå·¥å‚ç±»è¦åˆ›å»ºå“ªä¸ªç±»å¯¹è±¡æ˜¯äº‹å…ˆç¡®å®šå¥½çš„ï¼Œå¹¶ä¸”æ˜¯å†™æ­»åœ¨å·¥å‚ç±»ä»£ç ä¸­çš„ã€‚ä½œä¸ºä¸€ä¸ªé€šç”¨çš„æ¡†æ¶æ¥è¯´ï¼Œ æ¡†æ¶ä»£ç è·Ÿåº”ç”¨ä»£ç åº”è¯¥æ˜¯é«˜åº¦è§£è€¦çš„ï¼ŒDI å®¹å™¨äº‹å…ˆå¹¶ä¸çŸ¥é“åº”ç”¨ä¼šåˆ›å»ºå“ªäº›å¯¹è±¡ ï¼Œä¸å¯èƒ½æŠŠæŸä¸ªåº”ç”¨è¦åˆ›å»ºçš„å¯¹è±¡å†™æ­»åœ¨æ¡†æ¶ä»£ç ä¸­ã€‚ æ‰€ä»¥ï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡ä¸€ç§å½¢å¼ï¼Œè®©åº”ç”¨å‘ŠçŸ¥ DI å®¹å™¨è¦åˆ›å»ºå“ªäº›å¯¹è±¡ã€‚ åšæ³•ï¼š å°†éœ€è¦ç”± DI å®¹å™¨æ¥åˆ›å»ºçš„ç±»å¯¹è±¡å’Œåˆ›å»ºç±»å¯¹è±¡çš„å¿…è¦ä¿¡æ¯ï¼Œæ”¾åˆ°é…ç½®æ–‡ä»¶ä¸­ã€‚ å®¹å™¨è¯»å–é…ç½®æ–‡ä»¶ï¼Œæ ¹æ®é…ç½®æ–‡ä»¶æä¾›çš„ä¿¡æ¯æ¥åˆ›å»ºå¯¹è±¡ã€‚ ä¸¾ä¾‹ï¼š Spring å®¹å™¨çš„é…ç½®æ–‡ä»¶ï¼Œå®šä¹‰ beans çš„ä¾èµ–å…³ç³»ä»¥åŠä½ç½® 2. å¯¹è±¡åˆ›å»º èƒŒæ™¯ï¼š åœ¨ DI å®¹å™¨ä¸­å›½ï¼Œå¦‚æœæˆ‘ä»¬ç»™æ¯ä¸ªç±»éƒ½åˆ›å»ºä¸€ä¸ªå·¥å‚åˆ—ï¼Œé‚£é¡¹ç›®ä¸­ç±»çš„ä¸ªæ•°ä¼šæˆå€å¢åŠ ï¼Œè¿™å›å¢åŠ ä»£ç çš„ç»´æŠ¤æˆæœ¬ï¼› åšæ³•ï¼š å°†æ‰€æœ‰ç±»å¯¹è±¡çš„åˆ›å»ºæ”¾åˆ°ä¸€ä¸ªå·¥å‚ç±»ä¸­å®Œæˆã€‚ ä¸¾ä¾‹ï¼š Spring å®¹å™¨ä¸­çš„ BeansFactoryã€‚ 3. å¯¹è±¡å£°æ˜å‘¨æœŸç®¡ç† èƒŒæ™¯ï¼š ç®€å•å·¥å‚æ¨¡å¼æœ‰ä¸¤ç§å®ç°æ–¹å¼ï¼šä¸€ç§æ˜¯æ¯æ¬¡éƒ½è¿”å›æ–°åˆ›å»ºçš„å¯¹è±¡ï¼Œå¦ä¸€ç§æ˜¯æ¯æ¬¡éƒ½è¿”å›åŒä¸€ä¸ªäº‹å…ˆåˆ›å»ºå¥½çš„å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯æ‰€è°“çš„å•ä¾‹å¯¹è±¡ã€‚ åšæ³•ï¼š åœ¨ Spring æ¡†æ¶ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡é…ç½® scope å±æ€§ï¼Œæ¥åŒºåˆ†è¿™ä¸¤ç§ä¸åŒç±»å‹çš„å¯¹è±¡ã€‚scope=prototype è¡¨ç¤ºè¿”å›æ–°åˆ›å»ºçš„å¯¹è±¡ï¼Œscope=singleton è¡¨ç¤ºè¿”å›å•ä¾‹å¯¹è±¡ï¼Œé»˜è®¤è¿”å›å•ä¾‹ï¼› Spring æ¡†æ¶ä¸­ï¼Œå¯ä»¥é…ç½®å¯¹è±¡æ˜¯å¦æ”¯æŒæ‡’åŠ è½½ã€‚å¦‚æœ lazy-init=trueï¼Œå¯¹è±¡åœ¨çœŸæ­£è¢«ä½¿ç”¨åˆ°çš„æ—¶å€™æ‰è¢«åˆ›å»ºï¼›å¦‚æœ lazy-init=falseï¼Œå¯¹è±¡åœ¨åº”ç”¨å¯åŠ¨çš„æ—¶å€™å°±äº‹å…ˆåˆ›å»ºå¥½ã€‚ é…ç½®å¯¹è±¡çš„ init-method å’Œ destroy-method æ–¹æ³•ï¼Œå¦‚ï¼š init-method=loadProperties()ï¼Œdestroy-method=updateConfigFile()ã€‚ åœ¨ DI å®¹å™¨åœ¨åˆ›å»ºå¥½å¯¹è±¡ä¹‹åï¼Œä¼šä¸»åŠ¨è°ƒç”¨ init-method å±æ€§æŒ‡å®šçš„æ–¹æ³•æ¥åˆå§‹åŒ–å¯¹è±¡ã€‚ åœ¨å¯¹è±¡è¢«æœ€ç»ˆé”€æ¯ä¹‹å‰ï¼ŒDI å®¹å™¨ä¼šä¸»åŠ¨è°ƒç”¨ destroy-method å±æ€§æŒ‡å®šçš„æ–¹æ³•æ¥åšä¸€äº›æ¸…ç†å·¥ä½œï¼Œæ¯”å¦‚é‡Šæ”¾æ•°æ®åº“è¿æ¥æ± ã€å…³é—­æ–‡ä»¶ã€‚ å®ç°ä¸€ä¸ªç®€å•çš„ DI å®¹å™¨ æ ¸å¿ƒé€»è¾‘ï¼š é…ç½®æ–‡ä»¶è§£æ æ ¹æ®é…ç½®æ–‡ä»¶é€šè¿‡ åå°„ è¯­æ³•æ¥åˆ›å»ºå¯¹è±¡ 1. æœ€å°åŸå‹è®¾è®¡ åœ¨æœ€å°åŸå‹è®¾ç½®ä¸­ï¼Œé…ç½®æ–‡ä»¶ä¸­æ”¯æŒçš„é…ç½®è¯­æ³•ä»…é™é…ç½® beans&gt;bean.id.class.scope.lazy-init&gt;constructor-arg.type.value.ref ä½¿ç”¨ç¤ºä¾‹ï¼š 123456789public class Demo &#123; public static void main(String[] args) &#123; ApplicationContext applicationContext = new ClassPathXmlApplicationContext( \"beans.xml\"); RateLimiter rateLimiter = (RateLimiter) applicationContext.getBean(\"rateLimiter\"); rateLimiter.test(); //... &#125;&#125; 2. æä¾›æ‰§è¡Œå…¥å£ 123456789101112131415161718192021222324252627282930313233343536373839public interface ApplicationContext &#123; Object getBean(String beanId);&#125;public class ClassPathXmlApplicationContext implements ApplicationContext &#123; private BeansFactory beansFactory; private BeanConfigParser beanConfigParser; public ClassPathXmlApplicationContext(String configLocation) &#123; this.beansFactory = new BeansFactory(); this.beanConfigParser = new XmlBeanConfigParser(); loadBeanDefinitions(configLocation); &#125; private void loadBeanDefinitions(String configLocation) &#123; InputStream in = null; try &#123; in = this.getClass().getResourceAsStream(\"/\" + configLocation); if (in == null) &#123; throw new RuntimeException(\"Can not find config file: \" + configLocation); &#125; List&lt;BeanDefinition&gt; beanDefinitions = beanConfigParser.parse(in); beansFactory.addBeanDefinitions(beanDefinitions); &#125; finally &#123; if (in != null) &#123; try &#123; in.close(); &#125; catch (IOException e) &#123; // TODO: log error &#125; &#125; &#125; &#125; @Override public Object getBean(String beanId) &#123; return beansFactory.getBean(beanId); &#125;&#125; ClassPathXmlApplicationContext è´Ÿè´£ç»„è£… BeansFactory å’Œ BeanConfigParser ä¸¤ä¸ªç±»ï¼› æ‰§è¡Œæµç¨‹ï¼š ä» classpath ä¸­åŠ è½½ XML æ ¼å¼çš„é…ç½®æ–‡ä»¶ï¼Œé€šè¿‡ BeanCofigParser è§£æä¸ºç»Ÿä¸€çš„ BeanDefinition æ ¼å¼ï¼› ç„¶åï¼ŒBeansFactory æ ¹æ® BeanDefinition æ¥åˆ›å»ºå¯¹è±¡ï¼› 3. é…ç½®æ–‡ä»¶è§£æ é…ç½®æ–‡ä»¶è§£æä¸»è¦åŒ…å« BeanConfigParser æ¥å£å’Œ XmlBeanConfigParser å®ç°ç±»ï¼Œè´Ÿè´£å°†é…ç½®æ–‡ä»¶è§£æä¸º BeanDefinition ç»“æ„ï¼Œä»¥ä¾¿ BeansFactory æ ¹æ®è¿™ä¸ªç»“æ„æ¥åˆ›å»ºå¯¹è±¡ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748public interface BeanConfigParser &#123; List&lt;BeanDefinition&gt; parse(InputStream inputStream); List&lt;BeanDefinition&gt; parse(String configContent);&#125;public class XmlBeanConfigParser implements BeanConfigParser &#123; @Override public List&lt;BeanDefinition&gt; parse(InputStream inputStream) &#123; String content = null; // TODO:... return parse(content); &#125; @Override public List&lt;BeanDefinition&gt; parse(String configContent) &#123; List&lt;BeanDefinition&gt; beanDefinitions = new ArrayList&lt;&gt;(); // TODO:... return beanDefinitions; &#125;&#125;public class BeanDefinition &#123; private String id; private String className; private List&lt;ConstructorArg&gt; constructorArgs = new ArrayList&lt;&gt;(); private Scope scope = Scope.SINGLETON; private boolean lazyInit = false; // çœç•¥å¿…è¦çš„getter/setter/constructors public boolean isSingleton() &#123; return scope.equals(Scope.SINGLETON); &#125; public static enum Scope &#123; SINGLETON, PROTOTYPE &#125; public static class ConstructorArg &#123; private boolean isRef; private Class type; private Object arg; // çœç•¥å¿…è¦çš„getter/setter/constructors &#125;&#125; 4. æ ¸å¿ƒå·¥å‚ç±»è®¾è®¡ BeansFactory æ ¹æ®ä»é…ç½®æ–‡ä»¶è§£æå¾—åˆ°çš„ BeanDefinition æ¥åˆ›å»ºå¯¹è±¡ã€‚ å¦‚æœå¯¹è±¡çš„ scope å±æ€§æ˜¯ singletonï¼Œé‚£å¯¹è±¡åˆ›å»ºä¹‹åä¼šç¼“å­˜åœ¨ singletonObjects è¿™æ ·ä¸€ä¸ª map ä¸­ï¼Œä¸‹æ¬¡å†è¯·æ±‚æ­¤å¯¹è±¡çš„æ—¶å€™ï¼Œç›´æ¥ä» map ä¸­å–å‡ºè¿”å›ï¼Œä¸éœ€è¦é‡æ–°åˆ›å»ºã€‚ å¦‚æœå¯¹è±¡çš„ scope å±æ€§æ˜¯ prototypeï¼Œé‚£æ¯æ¬¡è¯·æ±‚å¯¹è±¡ï¼ŒBeansFactory éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡è¿”å›ã€‚ BeansFactory åˆ›å»ºå¯¹è±¡ç”¨åˆ°çš„ä¸»è¦æŠ€æœ¯ç‚¹æ˜¯ Java ä¸­çš„åå°„è¯­æ³•ã€‚ ä»£ç ç¤ºä¾‹ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667public class BeansFactory &#123; private ConcurrentHashMap&lt;String, Object&gt; singletonObjects = new ConcurrentHashMap&lt;&gt;(); private ConcurrentHashMap&lt;String, BeanDefinition&gt; beanDefinitions = new ConcurrentHashMap&lt;&gt;(); public void addBeanDefinitions(List&lt;BeanDefinition&gt; beanDefinitionList) &#123; for (BeanDefinition beanDefinition : beanDefinitionList) &#123; this.beanDefinitions.putIfAbsent(beanDefinition.getId(), beanDefinition); &#125; for (BeanDefinition beanDefinition : beanDefinitionList) &#123; if (beanDefinition.isLazyInit() == false &amp;&amp; beanDefinition.isSingleton()) &#123; createBean(beanDefinition); &#125; &#125; &#125; public Object getBean(String beanId) &#123; BeanDefinition beanDefinition = beanDefinitions.get(beanId); if (beanDefinition == null) &#123; throw new NoSuchBeanDefinitionException(\"Bean is not defined: \" + beanId); &#125; return createBean(beanDefinition); &#125; @VisibleForTesting protected Object createBean(BeanDefinition beanDefinition) &#123; if (beanDefinition.isSingleton() &amp;&amp; singletonObjects.contains(beanDefinition.getId())) &#123; return singletonObjects.get(beanDefinition.getId()); &#125; Object bean = null; try &#123; Class beanClass = Class.forName(beanDefinition.getClassName()); List&lt;BeanDefinition.ConstructorArg&gt; args = beanDefinition.getConstructorArgs(); if (args.isEmpty()) &#123; bean = beanClass.newInstance(); &#125; else &#123; Class[] argClasses = new Class[args.size()]; Object[] argObjects = new Object[args.size()]; for (int i = 0; i &lt; args.size(); ++i) &#123; BeanDefinition.ConstructorArg arg = args.get(i); if (!arg.getIsRef()) &#123; argClasses[i] = arg.getType(); argObjects[i] = arg.getArg(); &#125; else &#123; BeanDefinition refBeanDefinition = beanDefinitions.get(arg.getArg()); if (refBeanDefinition == null) &#123; throw new NoSuchBeanDefinitionException(\"Bean is not defined: \" + arg.getArg()); &#125; argClasses[i] = Class.forName(refBeanDefinition.getClassName()); argObjects[i] = createBean(refBeanDefinition); &#125; &#125; bean = beanClass.getConstructor(argClasses).newInstance(argObjects); &#125; &#125; catch (ClassNotFoundException | IllegalAccessException | InstantiationException | NoSuchMethodException | InvocationTargetException e) &#123; throw new BeanCreationFailureException(\"\", e); &#125; if (bean != null &amp;&amp; beanDefinition.isSingleton()) &#123; singletonObjects.putIfAbsent(beanDefinition.getId(), bean); return singletonObjects.get(beanDefinition.getId()); &#125; return bean; &#125;&#125; æ€è€ƒé¢˜ BeansFactory ç±»ä¸­çš„ createBean() å‡½æ•°æ˜¯ä¸€ä¸ªé€’å½’å‡½æ•°ã€‚å½“æ„é€ å‡½æ•°çš„å‚æ•°æ˜¯ ref ç±»å‹æ—¶ï¼Œä¼šé€’å½’åœ°åˆ›å»º ref å±æ€§æŒ‡å‘çš„å¯¹è±¡ã€‚å¦‚æœæˆ‘ä»¬åœ¨é…ç½®æ–‡ä»¶ä¸­é”™è¯¯åœ°é…ç½®äº†å¯¹è±¡ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œå¯¼è‡´å­˜åœ¨å¾ªç¯ä¾èµ–ï¼Œé‚£ BeansFactory çš„ createBean() å‡½æ•°æ˜¯å¦ä¼šå‡ºç°å †æ ˆæº¢å‡ºï¼Ÿåˆè¯¥å¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿ demo ä½äºå½“å‰ç›®å½•ä¸‹çš„ dependencycircle ç›®å½•ä¸‹ Shareâ€”â€”åˆ†äº«ä¸€ç¯‡æœ‰è§‚ç‚¹çš„æ–‡ç«  [ ç¨‹åºå‘˜å¦‚ä½•æŠŠæ§è‡ªå·±çš„èŒä¸š ]","tags":[{"name":"ARTS","slug":"ARTS","permalink":"http://tech.noexception.cn/tags/ARTS/"},{"name":"æ‰“å¡","slug":"æ‰“å¡","permalink":"http://tech.noexception.cn/tags/%E6%89%93%E5%8D%A1/"}]},{"title":"2021å¹´åº¦è®¡åˆ’åŠç›®æ ‡","date":"2021-01-25T05:51:08.000Z","path":"2021/01/25/2021-purpose/","text":"å‹¤åŠ³æ¸©æŸ”ï¼Œè¿˜å–„è‰¯ Incorrect Password! No content to display! U2FsdGVkX19u1rxOLmuLw8qrhJ9GRNCl/SizPc8L+mxpkdS0jDhImtN2zLh8X8Ds8uXxdHHGkesfy9iVLbwBMyxolY7ogx/RwTvqkJ37uAs0/Bwz09tytrNNlptakwUXGg9b3rzeh9xl1DudFIXS5ejMcPBOHA7HPaL2xIScvL0wVc/m7nsluuQ6yCz9WxD2PPZC5kVfC8kz8sJeJ/5Is+go/MQmIlgTfgbS/wR/vbhEDyg3hX0aDVdZpC41rKoHnjKes/sFpa9/ktq/A6o7+TAgFBiFiRPSBzpdenv6mnyiFIdbU8o1bL66xbqmOVstWjLT5+o765u/w1XY2zC4twVOqcZG6e2tmaPssF9SqlfYyAbTVhQKy8zFTjxKo08jdLcIOAv4uo4Zpzb/MYN/tb8KWN+QGKZjZqK79dxsDFMqubMciZKwys8dAFxPywZbUaSZVsGuYgtEXh4wVwYSi9+Z0kxbSloL9mjTXXOFq48d8UbqDl0Fvg1xXy9o0kSgy2kT0WtdE23kpbNT67Wk89WBkZLGR/2q+w6f1QZPJ/1ynke+rXpF2nAoNk77QTWvg7+hjgw75aL3i4LuIoj3VzKXBFW8grnqHyPGF3mJAhVGE9eIoksT0D6RL0XB5/mk","tags":[{"name":"è§„åˆ’","slug":"è§„åˆ’","permalink":"http://tech.noexception.cn/tags/%E8%A7%84%E5%88%92/"},{"name":"ç›®æ ‡","slug":"ç›®æ ‡","permalink":"http://tech.noexception.cn/tags/%E7%9B%AE%E6%A0%87/"}]},{"title":"å…ˆå®šä¸€ä¸ªå°ç›®æ ‡","date":"2020-07-07T13:23:53.000Z","path":"2020/07/07/one-purpose/","text":"å‹¤åŠ³æ¸©æŸ”ï¼Œè¿˜å–„è‰¯ Incorrect Password! No content to display! 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","tags":[{"name":"å°ç›®æ ‡","slug":"å°ç›®æ ‡","permalink":"http://tech.noexception.cn/tags/%E5%B0%8F%E7%9B%AE%E6%A0%87/"}]},{"title":"2019å¹´åº¦æ€»ç»“â€”â€”æš¨2020å¹´åº¦è®¡åˆ’","date":"2020-01-21T06:02:36.000Z","path":"2020/01/21/2020summary/","text":"å‹¤åŠ³æ¸©æŸ”ï¼Œè¿˜å–„è‰¯ Incorrect Password! No content to display! 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","tags":[{"name":"å¹´åº¦æ€»ç»“","slug":"å¹´åº¦æ€»ç»“","permalink":"http://tech.noexception.cn/tags/%E5%B9%B4%E5%BA%A6%E6%80%BB%E7%BB%93/"}]},{"title":"Docker é“¸å‰‘ä¹‹è·¯","date":"2019-12-28T16:00:00.000Z","path":"2019/12/29/docker-walking/","text":"å¤©é“é…¬å‹¤ 1. ä»æŒ‡å®šçš„é•œåƒï¼Œè¿è¡Œä¸€ä¸ªå®¹å™¨ï¼š å‘½ä»¤ï¼šdocker run -itd -p port:port -name 'container_name' image_name å‚æ•°è§£æï¼š i: å¯äº¤äº’çš„å®¹å™¨ d: åœ¨åå°è¿è¡Œ t: åº”è¯¥æ˜¯å…è®¸åˆ†é…ä¸€ä¸ª tty çª—å£ p: æ˜ å°„å®¹å™¨èŠ‹å®¿ä¸»æœºä¹‹é—´çš„ç«¯å£ 2. åœ¨ä¸€ä¸ªåå°è¿è¡Œçš„å®¹å™¨ï¼Œæ‰§è¡Œå‘½ä»¤/è¿›å…¥äº¤äº’ç•Œé¢å¹¶ exit æ—¶ï¼Œä¸ä¼šå°†å®¹å™¨åœæ­¢ï¼š æ‰§è¡Œå‘½ä»¤ï¼š å‘½ä»¤ï¼šdocker exec container_id_or_name want_to_exe_command æ•ˆæœï¼šä¼šåœ¨æŒ‡å®šçš„å®¹å™¨ä¸­æ‰§è¡ŒæŒ‡å®šçš„å‘½ä»¤ï¼Œå¹¶ä¸”å°†ç»“æœæ‰“å°åœ¨æ§åˆ¶å°ä¸­ è¿›å…¥äº¤äº’ç•Œé¢å¹¶ä¸” exit æ—¶ï¼Œä¸ä¼šå°†å®¹å™¨åœæ­¢ï¼š å‘½ä»¤ï¼šdocker exec -it container_id_or_name /bin/bash æ•ˆæœï¼šè¿›å…¥æŒ‡å®šå®¹å™¨çš„bashäº¤äº’å‘½ä»¤è¡Œï¼Œå…è®¸é€šè¿‡ exit é€€å‡º","tags":[{"name":"docker","slug":"docker","permalink":"http://tech.noexception.cn/tags/docker/"},{"name":"å®¹å™¨","slug":"å®¹å™¨","permalink":"http://tech.noexception.cn/tags/%E5%AE%B9%E5%99%A8/"}]},{"title":"ä¸­é—´ä»¶çš„å¸¸ç”¨å‘½ä»¤æ±‡æ€»","date":"2019-12-28T16:00:00.000Z","path":"2019/12/29/middleware-usage/","text":"å¤©é“é…¬å‹¤ å¯åŠ¨ESï¼šdocker run -itd --name es -p 9200:9200 -p 9300:9300 -e â€œdiscovery.type=single-nodeâ€ elasticsearch /bin/bash å¯åŠ¨æ¶ˆæ¯é˜Ÿåˆ—ï¼šdocker run -itd -p 9876:9876 rocketmqinc/rocketmq:4.2.0 Rocketmq å¯åŠ¨ NameServer: nohup sh bin/mqnamesrv &amp;; tail -f ~/logs/rocketmqlogs/namesrv.log å¯åŠ¨ Broker: nohup sh bin/mqbroker -n localhost:9876 &amp;; tail -f ~/logs/rocketmqlogs/broker.log æµ‹è¯•å‘é€å’Œæ¥å—æ¶ˆæ¯ï¼š å‘é€æ¶ˆæ¯ï¼š export NAMESRV_ADDR=localhost:9876; sh bin/tools.sh org.apache.rocketmq.example.quickstart.Producer æ¥å—æ¶ˆæ¯ï¼š sh bin/tools.sh org.apache.rocketmq.example.quickstart.Consumer å…³é—­æœåŠ¡ï¼š sh bin/mqshutdown broker // åœæ­¢ broker sh bin/mqshutdown namesrv // åœæ­¢ nameserver æŸ¥çœ‹é›†ç¾¤æƒ…å†µï¼š ./mqadmin clusterList -n 127.0.0.1:9876 æŸ¥çœ‹ broker çŠ¶æ€: ./mqadmin brokerStatus -n 127.0.0.1:9876 -b 172.20.1.138:10911 æŸ¥çœ‹ topic åˆ—è¡¨ï¼š ./mqadmin topicList -n 127.0.0.1:9876 æŸ¥çœ‹ topic çŠ¶æ€ï¼š ./mqadmin topicStatus -n 127.0.0.1:9876 -t MyTopic æŸ¥çœ‹ topic è·¯ç”±ï¼š ./mqadmin topicRoute -n 127.0.0.1:9876 -t MyTopic","tags":[{"name":"ä¸­é—´ä»¶","slug":"ä¸­é—´ä»¶","permalink":"http://tech.noexception.cn/tags/%E4%B8%AD%E9%97%B4%E4%BB%B6/"}]},{"title":"ä¸€å‘¨æ€»ç»“ï¼ˆ2019-09-23 ~ 2019-09-29ï¼‰","date":"2019-09-26T15:22:56.000Z","path":"2019/09/26/2019-09-26/","text":"å‹¤åŠ³æ¸©æŸ”ï¼Œè¿˜å–„è‰¯ Incorrect Password! No content to display! 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","tags":[{"name":"æ—¥è®°","slug":"æ—¥è®°","permalink":"http://tech.noexception.cn/tags/%E6%97%A5%E8%AE%B0/"},{"name":"æŒç»­æ›´æ–°ä¸­","slug":"æŒç»­æ›´æ–°ä¸­","permalink":"http://tech.noexception.cn/tags/%E6%8C%81%E7%BB%AD%E6%9B%B4%E6%96%B0%E4%B8%AD/"}]},{"title":"2019-05-28 ARTS åˆ†äº«","date":"2019-05-28T08:23:00.000Z","path":"2019/05/28/arts-2019-05-28/","text":"å¤©é“é…¬å‹¤ Aâ€”â€”Algorithm ä¸€é“ç®—æ³•é¢˜ LeetCode 852. å±±è„‰æ•°ç»„çš„é¡¶å³°ç´¢å¼• æˆ‘ä»¬æŠŠç¬¦åˆä¸‹åˆ—å±æ€§çš„æ•°ç»„ A ç§°ä½œå±±è„‰ï¼š A.length &gt;= 3 å­˜åœ¨ 0 &lt; i &lt; A.length - 1 ä½¿å¾— A[0] &lt; A[1] &lt; ... A[i-1] &lt; A[i] &gt; A[i+1] &gt; ... &gt; A[A.length - 1] ç»™å®šä¸€ä¸ªç¡®å®šä¸ºå±±è„‰çš„æ•°ç»„ï¼Œè¿”å›ä»»ä½•æ»¡è¶³ ä¸Šè¿°å…¬å¼çš„ i çš„å€¼ã€‚ æç¤ºï¼š 3 &lt;= A.length &lt;= 10000 0 &lt;= A[i] &lt;= 10^6 A æ˜¯å¦‚ä¸Šå®šä¹‰çš„å±±è„‰ è§£ç­”ï¼š æ€è·¯ï¼š è¿™é“é¢˜è§£é¢˜æ€è·¯ï¼Œå°±æ˜¯æ‰¾åˆ°æ•´ä¸ªæ•°ç»„æœ€å¤§çš„æ•°å­—ï¼Œåœ¨æ— åºçŠ¶æ€ä¸‹ä½¿ç”¨äºŒåˆ†æ³•çš„è¯ï¼Œä¼šå‡ºç°æ‰¾åˆ°çš„ä¸æ˜¯çœŸæ­£çš„å±±å³°çš„æƒ…å†µï¼Œå¦‚æœéœ€è¦é‡æ–°æ’åºï¼Œå†ä½¿ç”¨äºŒåˆ†æ³•æ‰¾åˆ°æœ€å¤§çš„å…ƒç´ çš„è¯ï¼Œæ—¶é—´å¤æ‚åº¦å°±å¤šäº†ä¸€ä¸ª O(n) å¾—ä¸å¿å¤±ã€‚ä½¿ç”¨ä¸€æ¬¡éå†æ‰¾åˆ°æœ€å¤§çš„å…ƒç´ æ˜¯æœ€å¿«çš„ä¹Ÿæ˜¯ç¬¦åˆé¢˜ç›®è¦æ±‚çš„ç­”æ¡ˆ 123456789101112131415161718192021// ç¤ºä¾‹ 1ï¼š// è¾“å…¥ï¼š[0,1,0]// è¾“å‡ºï¼š1// ç¤ºä¾‹ 2ï¼š// è¾“å…¥ï¼š[0,2,1,0]// è¾“å‡ºï¼š1class Solution &#123; public int peakIndexInMountainArray(int[] A) &#123; int result = 0; int index = 0; for(int i=0; i&lt;A.length; i++)&#123; if(A[i]&gt;result)&#123; result = A[i]; index = i; &#125; &#125; return index; &#125;&#125; Râ€”â€”Review é˜…è¯»ä¸€ç¯‡è‹±æ–‡æ–‡ç«  Tâ€”â€”Tips å­¦ä¹ ä¸€ä¸ªæ–°æŠ€æœ¯ç‚¹ Websocket ä¸€ã€Websocket ä»‹ç» Websocket æ˜¯ä»€ä¹ˆï¼š Websocket æ˜¯ä¸€ç§ç½‘ç»œé€šä¿¡åè®®ã€‚RFC6455 å®šä¹‰äº†å®ƒçš„é€šä¿¡æ ‡å‡†ã€‚ Websocket æ˜¯ HTML5 å¼€å§‹æä¾›çš„ä¸€ç§åœ¨å•ä¸ª TCP è¿æ¥ä¸Šè¿›è¡Œå…¨åŒå·¥é€šè®¯çš„åè®®ã€‚ Websocket æ˜¯ä¸€ä¸ª TCP æ¥å£è¿›è¡ŒåŒå‘é€šä¿¡çš„æŠ€æœ¯ï¼ŒPUSH æŠ€æœ¯ç±»å‹ã€‚åŒæ—¶ Websocket ä»å°†åŸºäº W3C æ ‡å‡†ï¼Œç›®å‰ä¸ºæ­¢ï¼ŒChrome å’Œ Safari çš„æœ€æ–°ç‰ˆæœ¬æµè§ˆå™¨å·²ç»æ”¯æŒ Websocket äº†ã€‚ ajax è½®è¯¢å’Œ long pull å‡å¯å®ç°å®æ—¶ä¿¡æ¯ä¼ é€’ã€‚ ajax è½®è¯¢çš„åŸç†éå¸¸ç®€å•ï¼Œè®©æµè§ˆå™¨æ¯éš”å‡ ç§’å°±å‘é€ä¸€æ¬¡è¯·æ±‚ï¼Œè¯¢é—®æœåŠ¡å™¨æ˜¯å¦æœ‰æ–°ä¿¡æ¯ã€‚ long poll å…¶å®åŸç†è·Ÿ ajax è½®è¯¢å·®ä¸å¤šï¼Œéƒ½æ˜¯é‡‡ç”¨è½®è¯¢çš„æ–¹å¼ï¼Œä¸è¿‡é‡‡å–çš„æ˜¯é˜»å¡æ¨¡å‹ï¼ˆä¸€ç›´æ‰“ç”µè¯ï¼Œæ²¡æœ‰æ”¶åˆ°å°±ä¸æŒ‚ç”µè¯ï¼‰ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå®¢æˆ·ç«¯å‘èµ·è¿æ¥åï¼Œå¦‚æœæ²¡æ¶ˆæ¯ï¼Œå°±ä¸€ç›´ä¸åæ‚” Response ç»™å®¢æˆ·ç«¯ã€‚ç›´åˆ°æœ‰æ¶ˆæ¯æ‰è¿”å›ï¼Œè¿”å›å®Œä¹‹åï¼Œå®¢æˆ·ç«¯å†æ¬¡å»ºç«‹è¿æ¥ï¼Œå‘¨è€Œå¤å§‹ã€‚ åœºæ™¯ï¼š æœ€å…¸å‹çš„çš„åœºæ™¯å°±æ˜¯èŠå¤©å®¤ï¼Œå¦‚æœä½¿ç”¨ HTTP åè®®çš„è¯ï¼Œå°±åªèƒ½è½®è¯¢è·å–æœåŠ¡ç«¯æœ‰æ²¡æœ‰æ¶ˆæ¯ï¼Œè€Œä½¿ç”¨ Websocket çš„è¯ï¼ŒæœåŠ¡ç«¯æœ‰æ–°æ¶ˆæ¯å¯ä»¥è‡ªåŠ¨æ¨é€ã€‚ ç‰¹ç‚¹ï¼š **è¾ƒå°‘çš„æ§åˆ¶å¼€é”€ã€‚**åœ¨è¿æ¥åˆ›å»ºåï¼ŒæœåŠ¡å™¨å’Œå®¢æˆ·ç«¯ä¹‹é—´äº¤æ¢æ•°æ®æ—¶ï¼Œç”¨äºåè®®æ§åˆ¶çš„æ•°æ®åŒ…å¤´éƒ¨ç›¸å¯¹è¾ƒå°ã€‚åœ¨ä¸åŒ…å«æ‰©å±•çš„æƒ…å†µä¸‹ï¼Œå¯¹äºæœåŠ¡å™¨åˆ°å®¢æˆ·ç«¯çš„å†…å®¹ï¼Œæ­¤å¤´éƒ¨å¤§å°åªæœ‰2è‡³10å­—èŠ‚ï¼ˆå’Œæ•°æ®åŒ…é•¿åº¦æœ‰å…³ï¼‰ï¼›å¯¹äºå®¢æˆ·ç«¯åˆ°æœåŠ¡å™¨çš„å†…å®¹ï¼Œæ­¤å¤´éƒ¨è¿˜éœ€è¦åŠ ä¸Šé¢å¤–çš„4å­—èŠ‚çš„æ©ç ã€‚ç›¸å¯¹äºHTTPè¯·æ±‚æ¯æ¬¡éƒ½è¦æºå¸¦å®Œæ•´çš„å¤´éƒ¨ï¼Œæ­¤é¡¹å¼€é”€æ˜¾è‘—å‡å°‘äº†ã€‚ **æ›´å¼ºçš„å®æ—¶æ€§ã€‚**ç”±äºåè®®æ˜¯å…¨åŒå·¥çš„ï¼Œæ‰€ä»¥æœåŠ¡å™¨å¯ä»¥éšæ—¶ä¸»åŠ¨ç»™å®¢æˆ·ç«¯ä¸‹å‘æ•°æ®ã€‚ç›¸å¯¹äºHTTPè¯·æ±‚éœ€è¦ç­‰å¾…å®¢æˆ·ç«¯å‘èµ·è¯·æ±‚æœåŠ¡ç«¯æ‰èƒ½å“åº”ï¼Œå»¶è¿Ÿæ˜æ˜¾æ›´å°‘ï¼›å³ä½¿æ˜¯å’ŒCometç­‰ç±»ä¼¼çš„é•¿è½®è¯¢æ¯”è¾ƒï¼Œå…¶ä¹Ÿèƒ½åœ¨çŸ­æ—¶é—´å†…æ›´å¤šæ¬¡åœ°ä¼ é€’æ•°æ®ã€‚ **ä¿æŒè¿æ¥çŠ¶æ€ã€‚**ä¸HTTPä¸åŒçš„æ˜¯ï¼ŒWebsocketéœ€è¦å…ˆåˆ›å»ºè¿æ¥ï¼Œè¿™å°±ä½¿å¾—å…¶æˆä¸ºä¸€ç§æœ‰çŠ¶æ€çš„åè®®ï¼Œä¹‹åé€šä¿¡æ—¶å¯ä»¥çœç•¥éƒ¨åˆ†çŠ¶æ€ä¿¡æ¯ï¼Œè€ŒHTTPè¯·æ±‚å¯èƒ½éœ€è¦åœ¨æ¯ä¸ªè¯·æ±‚éƒ½æºå¸¦çŠ¶æ€ä¿¡æ¯ï¼ˆå¦‚èº«ä»½è®¤è¯ç­‰ï¼‰ã€‚ **æ›´å¥½çš„äºŒè¿›åˆ¶æ”¯æŒã€‚**Websocketå®šä¹‰äº†äºŒè¿›åˆ¶å¸§ï¼Œç›¸å¯¹HTTPï¼Œå¯ä»¥æ›´è½»æ¾åœ°å¤„ç†äºŒè¿›åˆ¶å†…å®¹ã€‚å¯ä»¥æ”¯æŒæ‰©å±•ã€‚Websocketå®šä¹‰äº†æ‰©å±•ï¼Œç”¨æˆ·å¯ä»¥æ‰©å±•åè®®ã€å®ç°éƒ¨åˆ†è‡ªå®šä¹‰çš„å­åè®®ï¼Œå¦‚éƒ¨åˆ†æµè§ˆå™¨æ”¯æŒå‹ç¼©ç­‰ã€‚ **æ›´å¥½çš„å‹ç¼©æ•ˆæœã€‚**ç›¸å¯¹äºHTTPå‹ç¼©ï¼ŒWebsocketåœ¨é€‚å½“çš„æ‰©å±•æ”¯æŒä¸‹ï¼Œå¯ä»¥æ²¿ç”¨ä¹‹å‰å†…å®¹çš„ä¸Šä¸‹æ–‡ï¼Œåœ¨ä¼ é€’ç±»ä¼¼çš„æ•°æ®æ—¶ï¼Œå¯ä»¥æ˜¾è‘—åœ°æé«˜å‹ç¼©ç‡ã€‚ äºŒã€Stomp å’Œ Websocket STOMPï¼ˆSimple Text Orientated Messaging Protocolï¼‰ï¼Œç®€å•æ–‡æœ¬å®šå‘æ¶ˆæ¯åè®®ï¼Œå®ƒæä¾›äº†ä¸€ä¸ªå¯äº’æ“ä½œçš„è¿æ¥æ ¼å¼ï¼Œå…è®¸ STOMP å®¢æˆ·ç«¯ä¸ä»»æ„ STO,P æ¶ˆæ¯ä»£ç†ï¼ˆBrokerï¼‰è¿›è¡Œäº¤äº’ã€‚STOMP åè®®ç”±äºè®¾è®¡ç®€å•ï¼Œæ˜“äºå¼€å‘å®¢æˆ·ç«¯ï¼Œå› æ­¤åœ¨å¤šç§è¯­è¨€å’Œå¤šç§å¹³å°ä¸Šå¾—åˆ°äº†å¹¿æ³›çš„åº”ç”¨ã€‚ STOMP åè®®åˆ†ä¸ºå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ï¼š STOMP æœåŠ¡ç«¯ STOMPæœåŠ¡ç«¯è¢«è®¾è®¡ä¸ºå®¢æˆ·ç«¯å¯ä»¥å‘å…¶å‘é€æ¶ˆæ¯çš„ä¸€ç»„ç›®æ ‡åœ°å€ã€‚STOMPåè®®å¹¶æ²¡æœ‰è§„å®šç›®æ ‡åœ°å€çš„æ ¼å¼ï¼Œå®ƒç”±ä½¿ç”¨åè®®çš„åº”ç”¨è‡ªå·±æ¥å®šä¹‰ã€‚ä¾‹å¦‚ï¼Œ/topic/aã€/queue/aã€queue-aå¯¹äºSTOMPåè®®æ¥è¯´éƒ½æ˜¯æ­£ç¡®çš„ã€‚åº”ç”¨å¯ä»¥è‡ªå·±è§„å®šä¸åŒçš„æ ¼å¼ä»¥æ­¤æ¥è¡¨æ˜ä¸åŒæ ¼å¼ä»£è¡¨çš„å«ä¹‰ã€‚æ¯”å¦‚åº”ç”¨è‡ªå·±å¯ä»¥å®šä¹‰ä»¥/topicæ‰“å¤´çš„ä¸ºå‘å¸ƒè®¢é˜…æ¨¡å¼ï¼Œæ¶ˆæ¯ä¼šè¢«æ‰€æœ‰æ¶ˆè´¹è€…å®¢æˆ·ç«¯æ”¶åˆ°ï¼Œä»¥/userå¼€å¤´çš„ä¸ºç‚¹å¯¹ç‚¹æ¨¡å¼ï¼Œåªä¼šè¢«ä¸€ä¸ªæ¶ˆè´¹è€…å®¢æˆ·ç«¯æ”¶åˆ°ã€‚ STOMP å®¢æˆ·ç«¯ å¯¹äºSTOMPåè®®æ¥è¯´ï¼Œå®¢æˆ·ç«¯ä¼šæ‰®æ¼”ä¸‹åˆ—ä¸¤ç§è§’è‰²çš„ä»»æ„ä¸€ç§ï¼š ä½œä¸ºç”Ÿäº§è€…ï¼Œé€šè¿‡ SEND å¸§å‘é€æ¶ˆæ¯åˆ°æŒ‡å®šçš„åœ°å€ï¼› ä½œä¸ºæ¶ˆè´¹è€…ï¼Œé€šè¿‡å‘é€ SUBSCRIBE å¸§åˆ°å·²çŸ¥åœ°å€æ¥è¿›è¡Œæ¶ˆæ¯è®¢é˜…ï¼Œè€Œå½“ç”Ÿäº§è€…å‘é€æ¶ˆæ¯åˆ°è¿™ä¸ªè®¢é˜…åœ°å€åï¼Œè®¢é˜…è¯¥åœ°å€çš„å…¶ä»–æ¶ˆè´¹è€…ä¼šå—åˆ°é€šè¿‡ MESSAGE å¸§å—åˆ°è¯¥æ¶ˆæ¯ã€‚ å®é™…ä¸Šï¼ŒWebSocketç»“åˆSTOMPç›¸å½“äºæ„å»ºäº†ä¸€ä¸ªæ¶ˆæ¯åˆ†å‘é˜Ÿåˆ—ï¼Œå®¢æˆ·ç«¯å¯ä»¥åœ¨ä¸Šè¿°ä¸¤ä¸ªè§’è‰²é—´è½¬æ¢ï¼Œè®¢é˜…æœºåˆ¶ä¿è¯äº†ä¸€ä¸ªå®¢æˆ·ç«¯æ¶ˆæ¯å¯ä»¥é€šè¿‡æœåŠ¡å™¨å¹¿æ’­åˆ°å¤šä¸ªå…¶ä»–å®¢æˆ·ç«¯ï¼Œä½œä¸ºç”Ÿäº§è€…ï¼Œåˆå¯ä»¥é€šè¿‡æœåŠ¡å™¨æ¥å‘é€ç‚¹å¯¹ç‚¹æ¶ˆæ¯ã€‚ STOMP å¸§ç»“æ„ ä¸€ä¸ª STOMP å¸§æœ‰ä¸‰éƒ¨åˆ†ç»„æˆï¼š å‘½ä»¤ã€Headerï¼ˆå¤´ä¿¡æ¯ï¼‰ã€Bodyï¼ˆæ¶ˆæ¯ä½“ï¼‰ã€‚ å‘½ä»¤ä½¿ç”¨UTF-8ç¼–ç æ ¼å¼ï¼Œå‘½ä»¤æœ‰SENDã€SUBSCRIBEã€MESSAGEã€CONNECTã€CONNECTEDç­‰ã€‚ Headerä¹Ÿä½¿ç”¨UTF-8ç¼–ç æ ¼å¼ï¼Œå®ƒç±»ä¼¼HTTPçš„Headerï¼Œæœ‰content-lengthã€content-typeç­‰ã€‚ Bodyå¯ä»¥æ˜¯äºŒè¿›åˆ¶ä¹Ÿå¯ä»¥æ˜¯æ–‡æœ¬ï¼ŒBodyä¸Headeré—´é€šè¿‡ä¸€ä¸ªç©ºè¡Œï¼ˆEOLï¼‰æ¥åˆ†éš”ã€‚ 123456789COMMANDheader1:value1header2:value2Body^@å…¶ä¸­ï¼Œ^@è¡¨ç¤ºè¡Œç»“æŸç¬¦ã€‚ 1234567891011SENDdestination:/broker/roomId/1content-length:57&#123;\"type\":\"OUT\",\"content\":\"ossxxxxx-wq-yyyyyyyy\"&#125;// ç¬¬ 1 è¡Œï¼šè¡¨æ˜æ­¤å¸§ä¸ºSENDå¸§ï¼Œæ˜¯COMMANDå­—æ®µã€‚// ç¬¬ 2 è¡Œï¼šHeaderå­—æ®µï¼Œæ¶ˆæ¯è¦å‘é€çš„ç›®çš„åœ°å€ï¼Œæ˜¯ç›¸å¯¹åœ°å€ã€‚// ç¬¬ 3 è¡Œï¼šHeaderå­—æ®µï¼Œæ¶ˆæ¯ä½“å­—ç¬¦é•¿åº¦ã€‚// ç¬¬ 4 è¡Œï¼šç©ºè¡Œï¼Œé—´éš”Headerä¸Bodyã€‚// ç¬¬ 5 è¡Œï¼šæ¶ˆæ¯ä½“ï¼Œä¸ºè‡ªå®šä¹‰çš„JSONç»“æ„ã€‚ ä¸‰ã€Webcocket äº‹ä»¶ äº‹ä»¶ äº‹ä»¶å¤„ç†ç¨‹åº æè¿° open Socket onopen è¿æ¥å»ºç«‹æ—¶è§¦å‘ message Socket onopen å®¢æˆ·ç«¯æ¥æ”¶æœåŠ¡ç«¯æ•°æ®æ—¶è§¦å‘ error Socket onerror é€šè®¯å‘ç”Ÿé”™è¯¯æ—¶è§¦å‘ close Socket onclose è¿æ¥å…³é—­æ—¶è§¦å‘ ä¸€ä¸ªé¡µé¢ä½¿ç”¨ Websocket çš„ç¤ºä¾‹ï¼š 123456789101112131415var ws = new WebSocket(\"ws://localhost:8080\");ws.onopen = function(evt) &#123; console.log(\"Connection open ...\"); ws.send(\"Hello WebSockets!\");&#125;;ws.onmessage = function(evt) &#123;console.log( \"Received Message: \" + evt.data);ws.close();&#125;;ws.onclose = function(evt) &#123;console.log(\"Connection closed.\");&#125;; å››ã€Spring Boot ä¸ Websocket æ•´åˆ(Spring Boot Websocket èŠå¤©å®¤) èŠå¤©å®¤åŠŸèƒ½ æ”¯æŒç”¨æˆ·åŠ å…¥èŠå¤©å®¤ï¼Œå¯¹åº”åˆ° Websocket æŠ€æœ¯å°±æ˜¯å»ºç«‹è¿æ¥ onopenï¼› æ”¯æŒç”¨æˆ·é€€å‡ºèŠå¤©å®¤ï¼Œå¯¹åº”åˆ° Websocket æŠ€æœ¯å°±æ˜¯å…³é—­è¿æ¥ oncloseï¼› æ”¯æŒç”¨æˆ·åœ¨èŠå¤©å®¤å‘é€æ¶ˆæ¯ï¼Œå¯¹åº”åˆ° Websocket æŠ€æœ¯å°±æ˜¯è°ƒç”¨ onmessage å‘é€æ¶ˆæ¯ï¼› æ”¯æŒå¼‚å¸¸æ—¶æç¤ºï¼Œå¯¹åº”åˆ° Websocket æŠ€æœ¯ onerrorã€‚ é¡µé¢å¼€å‘ å‰ç«¯ä½¿ç”¨ Bootstrap æ¸²æŸ“é¡µé¢ï¼Œé¡µé¢å†…å®¹å¦‚ä¸‹ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465&lt;!DOCTYPE html&gt;&lt;html lang=\"en\"&gt;&lt;head&gt; &lt;meta charset=\"UTF-8\"&gt; &lt;title&gt;chat room websocket&lt;/title&gt; &lt;link rel=\"stylesheet\" href=\"bootstrap.min.css\"&gt; &lt;script src=\"jquery-3.2.1.min.js\" &gt;&lt;/script&gt;&lt;/head&gt;&lt;body class=\"container\" style=\"width: 60%\"&gt;&lt;div class=\"form-group\" &gt;&lt;/br&gt; &lt;h5&gt;èŠå¤©å®¤&lt;/h5&gt; &lt;textarea id=\"message_content\" class=\"form-control\" readonly=\"readonly\" cols=\"50\" rows=\"10\"&gt;&lt;/textarea&gt;&lt;/div&gt;&lt;div class=\"form-group\" &gt; &lt;label for=\"in_user_name\"&gt;ç”¨æˆ·å§“å &amp;nbsp;&lt;/label&gt; &lt;input id=\"in_user_name\" value=\"\" class=\"form-control\" /&gt;&lt;/br&gt; &lt;button id=\"user_join\" class=\"btn btn-success\" &gt;åŠ å…¥èŠå¤©å®¤&lt;/button&gt; &lt;button id=\"user_exit\" class=\"btn btn-warning\" &gt;ç¦»å¼€èŠå¤©å®¤&lt;/button&gt;&lt;/div&gt;&lt;div class=\"form-group\" &gt; &lt;label for=\"in_room_msg\" &gt;ç¾¤å‘æ¶ˆæ¯ &amp;nbsp;&lt;/label&gt; &lt;input id=\"in_room_msg\" value=\"\" class=\"form-control\" /&gt;&lt;/br&gt; &lt;button id=\"user_send_all\" class=\"btn btn-info\" &gt;å‘é€æ¶ˆæ¯&lt;/button&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;&lt;!-- æœ€ä¸Šé¢ä½¿ç”¨textareaç”»ä¸€ä¸ªå¯¹è¯æ¡†ï¼Œç”¨æ¥æ˜¾ç¤ºèŠå¤©å®¤çš„å†…å®¹ï¼›ä¸­é—´éƒ¨åˆ†æ·»åŠ ç”¨æˆ·åŠ å…¥èŠå¤©å®¤å’Œç¦»å¼€èŠå¤©å®¤çš„æŒ‰é’®ï¼ŒæŒ‰é’®ä¸Šé¢æ˜¯è¾“å…¥ç”¨æˆ·åçš„å…¥å£ï¼›é¡µé¢æœ€ä¸‹é¢æ·»åŠ å‘é€æ¶ˆæ¯çš„å…¥å£ï¼Œ --&gt;&lt;!-- é¡µé¢ä¸­æ·»åŠ  Websocket é€šè®¯ä»£ç ï¼š --&gt;&lt;script type=\"text/javascript\"&gt; $(document).ready(function()&#123; var urlPrefix ='ws://localhost:8080/chat-room/'; var ws = null; $('#user_join').click(function()&#123; var username = $('#in_user_name').val(); var url = urlPrefix + username; ws = new WebSocket(url); ws.onopen = function () &#123; console.log(\"å»ºç«‹ websocket è¿æ¥...\"); &#125;; ws.onmessage = function(event)&#123; //æœåŠ¡ç«¯å‘é€çš„æ¶ˆæ¯ $('#message_content').append(event.data+'\\n'); &#125;; ws.onclose = function()&#123; $('#message_content').append('ç”¨æˆ·['+username+'] å·²ç»ç¦»å¼€èŠå¤©å®¤!'); console.log(\"å…³é—­ websocket è¿æ¥...\"); &#125; &#125;); //å®¢æˆ·ç«¯å‘é€æ¶ˆæ¯åˆ°æœåŠ¡å™¨ $('#user_send_all').click(function()&#123; var msg = $('#in_room_msg').val(); if(ws)&#123; ws.send(msg); &#125; &#125;); // é€€å‡ºèŠå¤©å®¤ $('#user_exit').click(function()&#123; if(ws)&#123; ws.close(); &#125; &#125;); &#125;)&lt;/script&gt;&lt;!-- ä¸»è¦æ˜¯ç›‘å¬ä¸‰ä¸ªæŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶ï¼Œå½“ç”¨æˆ·ç™»å½•ã€ç¦»å¼€ã€å‘é€æ¶ˆæ¯æ˜¯è°ƒç”¨å¯¹åº”çš„WebSocketäº‹ä»¶ï¼Œå°†ä¿¡æ¯ä¼ é€ç»™æœåŠ¡ç«¯ã€‚åŒæ—¶æ‰“å¼€é¡µé¢æ—¶åˆ›å»ºäº†WebSocketå¯¹è±¡ï¼Œé¡µé¢ä¼šç›‘æ§WebSocketäº‹ä»¶ï¼Œå¦‚æœåç«¯æœåŠ¡å’Œå‰ç«¯é€šè®¯å®¤å°†å¯¹åº”çš„ä¿¡æ¯å±•ç¤ºåœ¨é¡µé¢ã€‚ --&gt; æœåŠ¡ç«¯å¼€å‘ æ·»åŠ ä¾èµ– 1234&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-websocket&lt;/artifactId&gt;&lt;/dependency&gt; å¯åŠ¨ç±» å¯åŠ¨ç±»éœ€è¦æ·»åŠ  @EnableWebSocket å¼€å¯ WebSocket åŠŸèƒ½ã€‚ 123456789101112131415@EnableWebSocket@SpringBootApplicationpublic class WebSocketApplication &#123; public static void main(String[] args) &#123; SpringApplication.run(WebSocketApplication.class, args); &#125; @Bean public ServerEndpointExporter serverEndpointExporter() &#123; return new ServerEndpointExporter(); &#125;&#125; è¯·æ±‚æ¥æ”¶ åœ¨åˆ›å»ºæœåŠ¡ç«¯æ¶ˆæ¯æ¥æ”¶åŠŸèƒ½ä¹‹å‰ï¼Œå…ˆåˆ›å»ºä¸€ä¸ªWebSocketUtilså·¥å…·ç±»ï¼Œç”¨æ¥å­˜å‚¨èŠå¤©å®¤åœ¨çº¿çš„ç”¨æˆ·ä¿¡æ¯ï¼Œä»¥åŠå‘é€æ¶ˆæ¯çš„åŠŸèƒ½ã€‚å®šä¹‰å…¨å±€å˜é‡ONLINE_USER_SESSIONSç”¨æ¥å­˜å‚¨åœ¨çº¿ç”¨æˆ·ï¼Œä½¿ç”¨ConcurrentHashMapæå‡é«˜å¹¶å‘æ—¶æ•ˆç‡ã€‚ 12345678910111213141516171819202122232425262728293031@Slf4jpublic final class WebSocketUtils &#123; // å­˜å‚¨ websocket session public static final Map&lt;String, Session&gt; ONLINE_USER_SESSIONS = new ConcurrentHashMap&lt;&gt;(); public static void sendMessage(Session session, String message) &#123; if (session == null) &#123; return; &#125; final RemoteEndpoint.Basic basic = session.getBasicRemote(); if (basic == null) &#123; return; &#125; try &#123; basic.sendText(message); &#125; catch (IOException e) &#123; log.error(\"sendMessage IOException \", e); &#125; &#125; public static void sendMessageAll(String message) &#123; ONLINE_USER_SESSIONS.forEach((sessionId, session) -&gt; sendMessage(session, message)); &#125;&#125; Controller 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253@Slf4j@RestController@ServerEndpoint(\"/chat-room/&#123;username&#125;\")public class ChatRoomServerEndpoint&#123; @OnOpen public void openSession(@PathParam(\"username\") String username, Session session) &#123; ONLINE_USER_SESSIONS.put(username, session); String message = \"æ¬¢è¿ç”¨æˆ·[\" + username + \"]æ¥åˆ°èŠå¤©å®¤\"; log.info(\"ç”¨æˆ·ç™»å½• : &#123;&#125;\", message); sendMessageAll(message); &#125; @OnMessage public void onMessage(@PathParam(\"username\") String username, String message) &#123; log.info(\"å‘é€æ¶ˆæ¯ : \"+message); sendMessageAll(\"ç”¨æˆ·[\" + username + \"] : \" + message); &#125; @OnClose public void onClose(@PathParam(\"username\") String username, Session session) &#123; // å½“å‰çš„Sessionç§»é™¤ ONLINE_USER_SESSIONS.remove(username); // é€šçŸ¥å…¶ä»–äººå½“å‰ç”¨æˆ·å·²ç»ç¦»å¼€èŠå¤©å®¤äº† sendMessageAll(\"ç”¨æˆ·[\" + username + \"]å·²ç»ç¦»å¼€èŠå¤©å®¤\"); try &#123; session.close(); &#125; catch (IOException e) &#123; log.error(\"onClose excepiton\", e); &#125; &#125; @OnError public void onError(Session session, Throwable throwable) &#123; try &#123; session.close(); &#125; catch (IOException e) &#123; log.error(\"onError excepiton\", e); &#125; log.info(\"Throwable msg &#123;&#125;\", throwable.getMessage()); &#125;&#125; æ¥å—ç±»ä¸Šéœ€è¦æ·»åŠ @ServerEndpoint(&quot;url&quot;)ä»£è¡¨ç›‘å¬æ­¤åœ°å€çš„ WebSocket ä¿¡æ¯ã€‚ @OnOpenæ³¨è§£å’Œå‰ç«¯çš„onopenäº‹ä»¶ä¸€è‡´ï¼Œè¡¨ç¤ºç”¨æˆ·å»ºç«‹è¿æ¥æ—¶è§¦å‘ã€‚ @OnMessageç›‘å¬å‘é€æ¶ˆæ¯çš„äº‹ä»¶ã€‚ @OnCloseç›‘å¬ç”¨æˆ·æ–­å¼€è¿æ¥äº‹ä»¶ã€‚ @OnErroräº‹ä»¶ï¼Œå¯ä»¥åœ¨æ­¤æ–¹æ³•å†…è®°å½•ä¸‹é”™è¯¯çš„å¼‚å¸¸ä¿¡æ¯ï¼Œå¹¶å…³é—­ç”¨æˆ·è¿æ¥ã€‚ Sâ€”â€”Share åˆ†äº«ä¸€ç¯‡æœ‰è§‚ç‚¹å’Œæ€è€ƒçš„æŠ€æœ¯æ–‡ç«  https://coolshell.cn/articles/19271.html","tags":[{"name":"ARTS","slug":"ARTS","permalink":"http://tech.noexception.cn/tags/ARTS/"},{"name":"æ‰“å¡","slug":"æ‰“å¡","permalink":"http://tech.noexception.cn/tags/%E6%89%93%E5%8D%A1/"}]},{"title":"ARTS æ¯å‘¨æ‰“å¡è®°å½•â€”â€”2019/03/30","date":"2019-03-30T13:09:40.000Z","path":"2019/03/30/arts1/","text":"è·¯æ¼«æ¼«å…¶ä¿®è¿œå…®ï¼Œå¾å°†ä¸Šä¸‹è€Œæ±‚ç´¢ ARTSæ˜¯ä»€ä¹ˆï¼Ÿ Algorithmï¼šæ¯å‘¨è‡³å°‘åšä¸€ä¸ªleetcodeçš„ç®—æ³•é¢˜ï¼› Reviewï¼šé˜…è¯»å¹¶ç‚¹è¯„è‡³å°‘ä¸€ç¯‡è‹±æ–‡æŠ€æœ¯æ–‡ç« ï¼› Tip/Techniï¼šå­¦ä¹ è‡³å°‘ä¸€ä¸ªæŠ€æœ¯æŠ€å·§ï¼› Shareï¼šåˆ†äº«ä¸€ç¯‡æœ‰è§‚ç‚¹å’Œæ€è€ƒçš„æŠ€æœ¯æ–‡ç« ã€‚ 1. Algorithms LeetCode é¢˜ç›®ï¼š è®¡ç®—ç»™å®šäºŒå‰æ ‘çš„æ‰€æœ‰å·¦å¶å­ä¹‹å’Œã€‚ 1234567 3 &#x2F; \\ 9 20 &#x2F; \\ 15 7åœ¨è¿™ä¸ªäºŒå‰æ ‘ä¸­ï¼Œæœ‰ä¸¤ä¸ªå·¦å¶å­ï¼Œåˆ†åˆ«æ˜¯ 9 å’Œ 15ï¼Œæ‰€ä»¥è¿”å› 24 è§£ç­”ï¼š 123456789101112131415161718192021222324/** * Definition for a binary tree node. * public class TreeNode &#123; * int val; * TreeNode left; * TreeNode right; * TreeNode(int x) &#123; val = x; &#125; * &#125; */class Solution &#123; public int sumOfLeftLeaves(TreeNode root) &#123; return sumOfLeft(root, false); &#125; private int sumOfLeft(TreeNode root, Boolean flag)&#123; if(root == null)&#123; return 0; &#125; if(root.left == null &amp;&amp; root.right == null &amp;&amp; flag == true)&#123; return root.val; &#125; return sumOfLeft(root.left, true) + sumOfLeft(root.right, false); &#125;&#125; 2. Review æ­»æ´»æ‰“ä¸å¼€å¤–å›½ç½‘ç«™â€¦æš‚æ—¶çœ‹çœ‹å›½å†…æ–‡ç« ï¼Œä»¥åŠè‡ªå·±çš„ä¸€äº›è§‚ç‚¹å§ æ·˜å®å®£å¸ƒç›´æ’­è®¡åˆ’ï¼šä»Šå¹´åŸ¹è‚²200ä¸ªé”€å”®é¢è¿‡äº¿ç›´æ’­é—´ æˆ‘çš„è§‚ç‚¹ï¼Œçº¿ä¸Šè´­ç‰© + ç›´æ’­ä¼šå¾ˆç«ï¼Œå®¹æ˜“æ¿€å‘è·¯äººçš„è´­ç‰©æ¬²æœ›ã€‚ 3. Tips åœ¨é˜¿é‡Œé£å†°çš„æ–‡æ¡£é‡Œé¢çœ‹åˆ°çš„ä¸€äº›å°è§„èŒƒï¼š æäº¤ commti çš„ç±»å‹ï¼ŒåŒ…æ‹¬ä»¥ä¸‹å‡ ç§ feat: æ–°åŠŸèƒ½ fix: ä¿®å¤é—®é¢˜ docs: ä¿®æ”¹æ–‡æ¡£ style: ä¿®æ”¹ä»£ç æ ¼å¼ï¼Œä¸å½±å“ä»£ç é€»è¾‘ refactor: é‡æ„ä»£ç ï¼Œç†è®ºä¸Šä¸å½±å“ç°æœ‰åŠŸèƒ½ perf: æå‡æ€§èƒ½ test: å¢åŠ ä¿®æ”¹æµ‹è¯•ç”¨ä¾‹ chore: ä¿®æ”¹å·¥å…·ç›¸å…³ï¼ˆåŒ…æ‹¬ä½†ä¸é™äºæ–‡æ¡£ã€ä»£ç ç”Ÿæˆç­‰ï¼‰ deps: å‡çº§ä¾èµ– è¿™äº›å°è§„èŒƒï¼Œæœ‰ä¸€ä¸ªå¥½å¤„ï¼Œåœ¨çœ‹ git log çš„æ—¶å€™ï¼Œå¾ˆæ¸…æ™°æ˜äº†çš„çŸ¥é“è‡ªå·±å’Œå…¶ä»–äººä¿®æ”¹äº†ä»€ä¹ˆå†…å®¹ã€‚ 4. Share Spring Autowired ä¸ Resource çš„åŒºåˆ« @Resource å’Œ @Autowired éƒ½æ˜¯åš bean çš„æ³¨å…¥æ—¶ä½¿ç”¨ï¼Œå…¶å® @Resource å¹¶ä¸æ˜¯ Spring çš„æ³¨è§£ï¼Œå®ƒçš„åŒ…æ˜¯ javax.annotation.Resource, éœ€è¦å¯¼å…¥ï¼Œä½†æ˜¯ Spring æ”¯æŒè¯¥æ³¨è§£çš„æ³¨å…¥ã€‚ å…±åŒç‚¹ ä¸¤è€…éƒ½å¯ä»¥å¸è½½å­—æ®µå’Œ setter æ–¹æ³•ä¸Šã€‚ä¸¤è€…å¦‚æœéƒ½å†™åœ¨å­—æ®µä¸Šï¼Œé‚£ä¹ˆå°±ä¸éœ€è¦å†å†™ setter æ–¹æ³•ã€‚ ä¸åŒç‚¹ @Autowired @Autowiredä¸º Spring æä¾›çš„æ³¨è§£ï¼Œéœ€è¦å¯¼å…¥åŒ…org.springframework.beans.factory.annotation.Autowired;åªæŒ‰ç…§byTypeæ³¨å…¥ã€‚ 12345678910public class TestServiceImpl &#123; // ä¸‹é¢ä¸¤ç§@Autowiredåªè¦ä½¿ç”¨ä¸€ç§å³å¯ @Autowired private UserDao userDao; // ç”¨äºå­—æ®µä¸Š @Autowired public void setUserDao(UserDao userDao) &#123; // ç”¨äºå±æ€§çš„æ–¹æ³•ä¸Š this.userDao = userDao; &#125;&#125; @Autowiredæ³¨è§£æ˜¯æŒ‰ç…§ç±»å‹ï¼ˆbyTypeï¼‰è£…é…ä¾èµ–å¯¹è±¡ï¼Œé»˜è®¤æƒ…å†µä¸‹å®ƒè¦æ±‚ä¾èµ–å¯¹è±¡å¿…é¡»å­˜åœ¨ï¼Œå¦‚æœå…è®¸ null å€¼ï¼Œå¯ä»¥è®¾ç½®å®ƒçš„ required å±æ€§ä¸º falseã€‚å¦‚æœæˆ‘ä»¬æƒ³ä½¿ç”¨æŒ‰ç…§åç§°ï¼ˆbyNameï¼‰æ¥è£…é…ï¼Œå¯ä»¥ç»“åˆ@Qualifieræ³¨è§£ä¸€èµ·ä½¿ç”¨ã€‚ 12345public class TestServiceImpl&#123; @Autowired @Qualified(\"userDao\") private UserDao userDao;&#125; @Resource - `@Resource`é»˜è®¤æŒ‰ç…§ ByName è‡ªåŠ¨æ³¨å…¥ï¼Œç”± J2EE æä¾›ï¼Œéœ€è¦å¯¼å…¥åŒ…`javax.annotation.Resource`ã€‚`@Resource`æœ‰ä¸¤ä¸ªé‡è¦çš„å±æ€§ï¼šname å’Œ typeï¼Œè€Œ Spring å°†`@Resource`æ³¨è§£çš„ name å±æ€§è§£æä¸º bean çš„åå­—ï¼Œè€Œ type å±æ€§åˆ™è§£æä¸º bean çš„ç±»å‹ã€‚æ‰€ä»¥ï¼Œå¦‚æœä½¿ç”¨ name å±æ€§ï¼Œåˆ™ä½¿ç”¨ byName çš„è‡ªåŠ¨æ³¨å…¥ç­–ç•¥ï¼Œè€Œä½¿ç”¨ type å±æ€§æ—¶åˆ™ä½¿ç”¨ byType è‡ªåŠ¨æ³¨å…¥ç­–ç•¥ã€‚å¦‚æœæ—¢ä¸åˆ¶å®š name ä¹Ÿä¸åˆ¶å®š type å±æ€§ï¼Œè¿™æ—¶å°†é€šè¿‡åå°„æœºåˆ¶ä½¿ç”¨ byName è‡ªåŠ¨æ³¨å…¥ç­–ç•¥ã€‚ 12345678910public class TestServiceImpl &#123; // ä¸‹é¢ä¸¤ç§@Resourceåªè¦ä½¿ç”¨ä¸€ç§å³å¯ @Resource(name=\"userDao\") private UserDao userDao; // ç”¨äºå­—æ®µä¸Š @Resource(name=\"userDao\") public void setUserDao(UserDao userDao) &#123; // ç”¨äºå±æ€§çš„setteræ–¹æ³•ä¸Š this.userDao = userDao; &#125;&#125; - **æ³¨**ï¼šæœ€å¥½æ˜¯å°†`@Resource`æ”¾åœ¨ setter æ–¹æ³•ä¸Šï¼Œå› ä¸ºè¿™æ ·æ›´ç¬¦åˆé¢å‘å¯¹è±¡çš„æ€æƒ³ï¼Œé€šè¿‡ setã€get å»æ“ä½œå±æ€§ï¼Œè€Œä¸æ˜¯ç›´æ¥å»æ“ä½œå±æ€§ã€‚ @Resource è£…é…é¡ºåºï¼š å¦‚æœåŒæ—¶æŒ‡å®šäº† name å’Œ typeï¼Œåˆ™ä» Spring ä¸Šä¸‹æ–‡ä¸­æ‰¾åˆ°å”¯ä¸€åŒ¹é…çš„ bean è¿›è¡Œè£…é…ï¼Œæ‰¾ä¸åˆ°åˆ™æŠ›å‡ºå¼‚å¸¸ã€‚ å¦‚æœæŒ‡å®šäº† nameï¼Œåˆ™ä»ä¸Šä¸‹æ–‡ä¸­æŸ¥æ‰¾åç§°ï¼ˆidï¼‰åŒ¹é…çš„ bean è¿›è¡Œè£…é…ï¼Œæ‰¾ä¸åˆ°åˆ™æŠ›å‡ºå¼‚å¸¸ã€‚ å¦‚æœæŒ‡å®šäº† typeï¼Œåˆ™ä»ä¸Šä¸‹æ–‡ä¸­æ‰¾åˆ°ç±»ä¼¼åŒ¹é…çš„å”¯ä¸€ bean è¿›è¡Œè£…é…ï¼Œæ‰¾ä¸åˆ°æˆ–æ˜¯æ‰¾åˆ°å¤šä¸ªï¼Œéƒ½ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚ å¦‚æœæ—¢æ²¡æœ‰æŒ‡å®š nameï¼Œåˆæ²¡æœ‰æŒ‡å®š typeï¼Œåˆ™è‡ªåŠ¨æŒ‰ç…§ byName æ–¹å¼è¿›è¡Œè£…é…ï¼›å¦‚æœæ²¡æœ‰åŒ¹é…ï¼Œåˆ™é€€å›ä¸€ä¸ªåŸå§‹ç±»å‹è¿›è¡ŒåŒ¹é…ï¼Œå¦‚æœåŒ¹é…åˆ™è‡ªåŠ¨è£…é…ã€‚ @Resourceçš„ä½œç”¨ç›¸å½“äº@Autowiredï¼Œåªä¸è¿‡@AutowiredæŒ‰ç…§ byName è‡ªåŠ¨æ³¨å…¥ã€‚","tags":[{"name":"ARTS æ‰“å¡","slug":"ARTS-æ‰“å¡","permalink":"http://tech.noexception.cn/tags/ARTS-%E6%89%93%E5%8D%A1/"}]},{"title":"2019æ–°å¹´è®¡åˆ’","date":"2019-01-06T04:54:15.000Z","path":"2019/01/06/2019first/","text":"å‹¤åŠ³æ¸©æŸ”ï¼Œè¿˜å–„è‰¯ Incorrect Password! No content to display! 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","tags":[{"name":"æ–°å¹´è®¡åˆ’","slug":"æ–°å¹´è®¡åˆ’","permalink":"http://tech.noexception.cn/tags/%E6%96%B0%E5%B9%B4%E8%AE%A1%E5%88%92/"},{"name":"ç®—æ—§è´¦","slug":"ç®—æ—§è´¦","permalink":"http://tech.noexception.cn/tags/%E7%AE%97%E6%97%A7%E8%B4%A6/"}]},{"title":"ä¸¢å¤±çš„æ–‡ç« è®°å½•","date":"2018-10-01T05:50:44.000Z","path":"2018/10/01/logbefore/","text":"ä¸–ç•Œä¸Šæœ€ç¾ä¸½çš„äººæ˜¯è°. Incorrect Password! No content to display! U2FsdGVkX18zzmC/s5J8MRyl22QNywzyQvIxcoO31kslEbuLFMNgwl8IuPpIEo9cfCH5A/4NzZyo/oah7oeJoCpZ6saa4hbk8AMaWqg0y9UeA+U4FlaJlsMI4I1CkXe892KXQiiD2W10Tn2SUH+VrcgSoh3KCbk3Sx4GsDjF6DfeDeLWL7kRS4SyOeLZpVq3ELWsyM3oWeCwrsrFQwEE3n2RCQU6E+smBOJWc/z1yAGre9v5uuwiqaZ4+qlBicYwx9supNb1rvh6X9Nm638+FJ1fgD/QBrZSEqerslMd/3+v4na+S/+t/B3W1VJY5AhUaLZCEb2xBiSXEqWR7Dyar4oFP/fzqAHwFBRuTSrUd3mKasYBdPSvKQcGJVevADXnBJR3EnTI5JsZkZq5K4G3YRnlXpcqS7lNSPonZEYuKVcdMVTTbFzKyHpRDAz9HwhQ+cB80nH5cfT9nnDAxmz2yNApihRcaiLUlXw5nN0vFAFCk1wArKtgXPsdJotSH0dXg9HtIgVVagrYQXmpuw9KCeWFtI0/01JZBWk5cG4SRIsjZVthc9Bm90BoafgjdEImAWIKRF1Z7Zk2V+Me5+sx2wyH+77jR+OHFZdBr8m5ZWMmGhmxQAj1RAsPrRPM3AlNGuxv3xkQJQHK0gplgqTSCm07fCqYjpcp0T2VkPsYQ1uqDV43b/eLETaNDSPMFEuaW3/CK52Z7jzlhU8BGHYuZNAjc+ro2Qh/ZvjElsO6lt8AxTbMN4S0Te3qLvtPKgh/k1PBy0CCmX29Y4sefvyZpelP9vK+VodAXyIzkt2JKqpQLdxqX64NnFXXbFV0zNhufkrj5jslkuipzdHcu+TWVArFUe5a3GzhZ4Nu4ffFOTerM1nhnr8+PQaiCya7/bCG8cejjUIUKjSyjEBMyLUwSpaQiBMhjMUe5BU1Wb9JXo69JRn0cyNV/Zu76zaQ92D158awxpwH9glxH1PbmItxqx86D5upmOpufnBFq8UapODYsvx78gtLDRkBnBoEyWsDVj8R/GXsUkDOHcdAyGBH9n0zxnSxLwLdm8edJi5l7+frlPGWVpB/N0BcdoQJdi3bKhmFgU3WqsPEi4BxTj0YSqwvkdlZ+vwDlwq5KP5kyv8xD6Wq6y3Vf41rEVCiWQjaE4RbPLzfRkA1RSGI8g9WyP/Tf+kBkWuIEaeeldmgupg/W+onSdTKgKi2pWZbCLMI792Rx9wGKdK9Nzy1BH962aQIa/bF2fGcvAuILFGcHBuCdWNbx1P4d0J5lLFHwHuLcsQ27BxbfTIDLpkTR/AGVhZp+eSwSMOoOdVKgnDIs/Uik4yia+yNnOUdpkq8s8dVs3tCDqC1A/dFPIBjd87CmnSviQ3zYWnTsEZD7TVmWT3Prd+2wKqMT0YmP7aU9uvfGpXBiFnHhdoBxhU2b7PGQ6NXoIDbNDxcZ3MGuCORzQCAFlebb4KKkE5/fhA/UJmO","tags":[]},{"title":"SQL ç‰¹æ€§","date":"2017-04-13T11:17:19.000Z","path":"2017/04/13/SQLAdavance/","text":"å…³äºé«˜çº§ SQL ç‰¹æ€§çš„è¯»ä¹¦ç¬”è®°æ•´ç† çº¦æŸ çº¦æŸ(constraint)ï¼šç®¡ç†å¦‚ä½•æ’å…¥æˆ–å¤„ç†æ•°æ®åº“æ•°æ®çš„è§„åˆ™ã€‚ ä¸»é”® ä¸»é”®æ˜¯ä¸€ç§ç‰¹æ®Šçš„çº¦æŸï¼Œç”¨æ¥ä¿è¯ä¸€åˆ—ä¸­çš„å€¼æ˜¯å”¯ä¸€çš„ï¼Œè€Œä¸”æ°¸ä¸æ”¹åŠ¨ã€‚ ä¸»é”®è¦æ»¡è¶³çš„æ¡ä»¶ï¼š ä»»æ„ä¸¤è¡Œçš„ä¸»é”®å€¼éƒ½ä¸åŒã€‚ æ¯è¡Œéƒ½å…·æœ‰ä¸€ä¸ªä¸»é”®å€¼ï¼ˆå³åˆ—ä¸­ä¸å…è®¸ NULL å€¼ï¼‰ åŒ…å«ä¸»é”®å€¼çš„åˆ—ä»ä¸ä¿®æ”¹æˆ–æ›´æ–°ã€‚ ä¸»é”®å€¼ä¸èƒ½é‡ç”¨ã€‚å¦‚æœè¡¨ä¸­åˆ é™¤æŸä¸€è¡Œï¼Œå…¶ä¸»é”®å€¼ä¸åˆ†é…ç»™æ–°è¡Œã€‚ 1234567891011-- åœ¨å»ºè¡¨æ—¶å®šä¹‰ä¸»é”®ï¼šCREATE TABLE tablename( cum1 CHAR(10) NOT NULL PRIMARY KEY, cum2 CHAR(10) NOT NULL);-- å®šäºä¸»é”®çš„ç¬¬äºŒç§æ–¹æ³•ï¼šALTER TABLE tablename CONSTRAINT PRIMARY KEY (cum1);-- æ³¨æ„ï¼šåœ¨ SQLite ä¸­ä¸å…è®¸ä½¿ç”¨ ALTER TABLE å®šä¹‰é”®ï¼Œè¦æ±‚åœ¨åˆå§‹çš„ CREATE TABLE è¯­å¥ä¸­å®šä¹‰å®ƒä»¬ã€‚ å¤–é”® å¤–é”®æ˜¯è¡¨ä¸­çš„ä¸€åˆ—ï¼Œå…¶å€¼å¿…é¡»åˆ—åœ¨å¦ä¸€è¡¨ä¸­çš„ä¸»é”®ä¸­ã€‚å¤–é”®æ˜¯ä¿è¯å¼•ç”¨å®Œæ•´æ€§çš„æå…¶é‡è¦çš„éƒ¨åˆ†ã€‚ ã€ŠSQL å¿…çŸ¥å¿…ä¼šã€‹ ä¸­çš„ä¾‹å­ï¼š Orders è¡¨å°†å½•å…¥åˆ°ç³»ç»Ÿçš„æ¯ä¸ªè®¢å•ä½œä¸ºä¸€è¡ŒåŒ…å«å…¶ä¸­ã€‚é¡¾å®¢ä¿¡æ¯å­˜å‚¨åœ¨ Customers è¡¨ä¸­ã€‚ Orders è¡¨ä¸­è®¢å•é€šè¿‡é¡¾å®¢ ID ä¸ Customers è¡¨ä¸­çš„ç‰¹å®šè¡Œç›¸å…³è”ã€‚é¡¾å®¢ ID ä¸º Customers è¡¨çš„ä¸»é”®ï¼Œæ¯ä¸ªé¡¾å®¢éƒ½æœ‰å”¯ä¸€çš„ IDã€‚è®¢å•å·ä¸º Orders è¡¨çš„ä¸»é”®ï¼Œæ¯ä¸ªè®¢å•éƒ½æœ‰å”¯ä¸€çš„è®¢å•å·ã€‚Order è¡¨ä¸­é¡¾å®¢ ID åˆ—çš„å€¼ä¸ä¸€å®šæ˜¯å”¯ä¸€çš„ã€‚å¦‚æœæŸä¸ªé¡¾å®¢æœ‰å¤šä¸ªè®¢å•ï¼Œåˆ™æœ‰å¤šä¸ªè¡Œå…·æœ‰ç›¸åŒçš„é¡¾å®¢ ID ï¼ˆè™½ç„¶æ¯ä¸ªè®¢å•éƒ½æœ‰ä¸åŒçš„è®¢å•å·ï¼‰ã€‚åŒäº‹ï¼ŒOrders è¡¨ä¸­é¡¾å®¢ ID åˆ—çš„åˆæ³•å€¼ä¸º Customers è¡¨ä¸­é¡¾å®¢çš„ IDã€‚ 123456789101112-- åœ¨å»ºè¡¨è¯­å¥ä¸­å®šä¹‰å¤–é”®ï¼šCREATE TABLE Orders( order_num INTEGER NOT NULL PRIMARY KEY, order_date DATETIME NOT NULL, cust_id CHAR(10) NOT NULL REFERENCES Customers(cust_id));-- åœ¨ ALTER TABLE è¯­å¥ä¸­ç”¨ CONSTRAINT è¯­æ³•æ¥å®Œæˆï¼šALTER TABLE OrdersADD CONSTRAINTFOREIGN KEY (cust_id) REFERENCES Customers (cust_id) å¤–é”®æœ‰åŠ©äºé˜²æ­¢æ„å¤–åˆ é™¤ï¼š åœ¨å®šä¹‰å¤–é”®åï¼ŒDBMS ä¸å…è®¸åˆ é™¤åœ¨å¦ä¸€ä¸ªè¡¨ä¸­å…·æœ‰å…³è”è¡Œçš„è¡Œã€‚ä¾‹å¦‚ä¸èƒ½åˆ é™¤å…³è”è®¢å•çš„é¡¾å®¢ã€‚åˆ é™¤é¡¾å®¢çš„å”¯ä¸€æ–¹æ³•æ˜¯é¦–å…ˆåˆ é™¤ç›¸å…³è®¢å•ã€‚ç”±äºéœ€è¦ä¸€ç³»åˆ—çš„åˆ é™¤ï¼Œå› è€Œåˆ©ç”¨å¤–é”®å¯ä»¥é˜²æ­¢æ„å¤–åˆ é™¤æ•°æ®ã€‚ æœ‰çš„ DBMS æ”¯æŒæˆä¸ºçº§è”åˆ é™¤çš„ç‰¹æ€§ã€‚å¦‚æœå¯ç”¨ï¼Œè¯¥ç‰¹æ€§åœ¨ä»ä¸€ä¸ªè¡¨ä¸­åˆ é™¤è¡Œæ—¶åˆ é™¤æ‰€æœ‰ç›¸å…³çš„æ•°æ®ã€‚ å”¯ä¸€çº¦æŸ å”¯ä¸€çº¦æŸç”¨æ¥ä¿è¯ä¸€åˆ—ï¼ˆæˆ–ä¸€ç»„åˆ—ï¼‰ä¸­çš„æ•°æ®æ—¶å”¯ä¸€çš„ã€‚ å”¯ä¸€çº¦æŸä¸ä¸»é”®çš„åŒºåˆ«ï¼š è¡¨å¯åŒ…å«å¤šä¸ªå”¯ä¸€çº¦æŸï¼Œä½†æ¯ä¸ªè¡¨åªå…è®¸ä¸€ä¸ªä¸»é”®ã€‚ å”¯ä¸€çº¦æŸåˆ—å¯åŒ…å« NULL å€¼ã€‚ å”¯ä¸€çº¦æŸåˆ—å¯ä¿®æ”¹å’Œæ›´æ–°ã€‚ å”¯ä¸€çº¦æŸåˆ—çš„å€¼å¯é‡å¤ä½¿ç”¨ã€‚ ä¸ä¸»é”®ä¸ä¸€æ ·ï¼Œå”¯ä¸€çº¦æŸä¸èƒ½ç”¨æ¥å®šä¹‰å¤–é”®ã€‚ è¯­æ³•ï¼š åŒå…¶ä»–çº¦æŸçš„è¯­æ³•ã€‚å…³é”®å­— UNIQUEã€‚ æ£€æŸ¥çº¦æŸ æ£€æŸ¥çº¦æŸç”¨æ¥ä¿è¯ä¸€åˆ—ï¼ˆæˆ–ä¸€ç»„åˆ—ï¼‰ä¸­çš„æ•°æ®æ»¡è¶³ä¸€ç»„æŒ‡å®šçš„æ¡ä»¶ã€‚ æ£€æŸ¥çº¦æŸçš„å¸¸è§ç”¨é€”ï¼š **æ£€æŸ¥æœ€å¤§æˆ–æœ€å°å€¼ã€‚**ä¾‹å¦‚ï¼Œé˜²æ­¢0ä¸ªç‰©å“çš„è®¢å•ã€‚ **æŒ‡å®šèŒƒå›´ã€‚**ä¾‹å¦‚ä¿è¯å‘è´§æ—¥æœŸå¤§äºç­‰äºä»Šå¤©çš„æ—¥æœŸï¼Œä½†ä¸è¶…è¿‡ä»Šå¤©èµ·ä¸€å¹´åçš„æ—¥æœŸã€‚ **åªå…è®¸ç‰¹å®šçš„å€¼ã€‚**ä¾‹å¦‚ï¼Œåœ¨æ€§åˆ«å­—æ®µä¸­åªå…è®¸ M æˆ– Fã€‚ 12345678910111213-- åœ¨å»ºè¡¨è¯­å¥ä¸­å®šä¹‰æ£€æŸ¥çº¦æŸï¼š-- ä¿è¯ quantity å¤§äº 0.CREATE TABLE OrderItems( order_num INTEGER NOT NULL, order_item INTEGER NOT NULL, prod_id INTEGER NOT NULL, quantity INTEGER NOT NULL CHECK (quantity &gt; 0), item_price MONEY NOT NULL);-- æ£€æŸ¥åä¸º gender çš„åˆ—åªåŒ…å« M æˆ– Fï¼Œå¯ç¼–å†™å¦‚ä¸‹çš„ ALTER TABLE è¯­å¥ï¼šADD CONSTRAINT CHECK (gender LIKE '[MF]') ç´¢å¼• ç´¢å¼•ç”¨æ¥æ’åºæ•°æ®ä»¥åŠ å¿«æœç´¢å’Œæ’åºæ“ä½œçš„é€Ÿåº¦ã€‚ å¯ä»¥åœ¨ä¸€ä¸ªæˆ–å¤šä¸ªåˆ—ä¸Šå®šä¹‰ç´¢å¼•ï¼Œä½¿ DBMS ä¿å­˜æœŸå†…å®¹çš„ä¸€ä¸ªæ’è¿‡åºçš„åˆ—è¡¨ã€‚åœ¨å®šä¹‰äº†ç´¢å¼•åï¼ŒDBMS ä»¥ä½¿ç”¨ä¹¦çš„ç´¢å¼•ç±»ä¼¼çš„æ–¹æ³•ä½¿ç”¨å®ƒã€‚DBMS æœç´¢æ’è¿‡åºçš„ç´¢å¼•ï¼Œæ‰¾å‡ºåŒ¹é…çš„ä½ç½®ï¼Œç„¶åæ£€ç´¢è¿™äº›è¡Œã€‚ åˆ›å»ºç´¢å¼•å‰è¦æ³¨æ„ï¼š **ç´¢å¼•æ”¹å–„æ£€ç´¢æ“ä½œçš„æ€§èƒ½ï¼Œä½†é™ä½äº†æ•°æ®æ’å…¥ã€ä¿®æ”¹å’Œåˆ é™¤çš„æ€§èƒ½ã€‚**åœ¨æ‰§è¡Œè¿™äº›æ“ä½œæ—¶ï¼ŒDBMS å¿…é¡»åŠ¨æ€åœ°æ›´æ–°ç´¢å¼• ç´¢å¼•æ•°æ®å¯èƒ½è¦å ç”¨å¤§é‡çš„å­˜å‚¨ç©ºé—´ã€‚ **å¹¶éæ‰€æœ‰æ•°æ®éƒ½é€‚åˆåšç´¢å¼•ã€‚**å–å€¼ä¸å¤šçš„æ•°æ®ä¸å¦‚å…·æœ‰æ›´å¤šå¯èƒ½å€¼çš„æ•°æ®ï¼Œèƒ½ç”¨è¿‡ç´¢å¼•å¾—åˆ°é‚£ä¹ˆå¤šçš„å¥½å¤„ã€‚ **ç´¢å¼•ç”¨äºæ•°æ®è¿‡æ»¤å’Œæ•°æ®æ’åºã€‚**å¦‚æœä½ ç»å¸¸ä»¥æŸç§ç‰¹å®šçš„é¡ºåºæ’åºæ•°æ®ï¼Œåˆ™è¯¥æ•°æ®å¯èƒ½é€‚åˆåšç´¢å¼•ã€‚ å¯ä»¥åœ¨ç´¢å¼•ä¸­å®šä¹‰å¤šä¸ªåˆ—ã€‚ 12345-- åˆ›å»ºç´¢å¼•ï¼šCREATE INDEX prod_name_indON Products (prod_name);-- ç´¢å¼•å¿…é¡»å”¯ä¸€å‘½åã€‚ è§¦å‘å™¨ è§¦å‘å™¨æ˜¯ç‰¹æ®Šçš„å­˜å‚¨è¿‡ç¨‹ï¼Œå®ƒåœ¨ç‰¹å®šçš„æ•°æ®åº“æ´»åŠ¨å‘ç”Ÿæ—¶è‡ªåŠ¨æ‰§è¡Œã€‚ ä¸å­˜å‚¨è¿‡ç¨‹ä¸ä¸€æ ·ï¼Œè§¦å‘å™¨ä¸å•ä¸ªçš„è¡¨ç›¸å…³è”ã€‚ä¸ Orders è¡¨ä¸Šçš„ INSERT æ“ä½œç›¸å…³è”çš„è§¦å‘å™¨åªåœ¨ Orders è¡¨ä¸­æ’å…¥è¡Œæ—¶æ‰§è¡Œã€‚ çº¦æŸçš„å¤„ç†æ¯”è§¦å‘å™¨å¿«ï¼Œåœ¨å¯èƒ½çš„æ—¶å€™ï¼Œåº”è¯¥å°½é‡ä½¿ç”¨çº¦æŸã€‚","tags":[{"name":"çº¦æŸ","slug":"çº¦æŸ","permalink":"http://tech.noexception.cn/tags/%E7%BA%A6%E6%9D%9F/"},{"name":"ç´¢å¼•","slug":"ç´¢å¼•","permalink":"http://tech.noexception.cn/tags/%E7%B4%A2%E5%BC%95/"},{"name":"è§¦å‘å™¨","slug":"è§¦å‘å™¨","permalink":"http://tech.noexception.cn/tags/%E8%A7%A6%E5%8F%91%E5%99%A8/"}]},{"title":"äº‹åŠ¡å¤„ç†","date":"2017-04-10T05:35:28.000Z","path":"2017/04/10/transactionprocessing/","text":"ä¸€ç¯‡å…³äºäº‹åŠ¡å¤„ç†çš„ç¬”è®°ã€‚ äº‹åŠ¡å¤„ç† é€šè¿‡ç¡®ä¿æˆæ‰¹çš„ SQL æ“ä½œè¦ä¹ˆå®Œå…¨æ‰§è¡Œï¼Œè¦ä¹ˆå®Œå…¨ä¸æ‰§è¡Œï¼Œæ¥ç»´æŠ¤æ•°æ®åº“çš„å®Œæ•´æ€§ã€‚ åˆ©ç”¨äº‹åŠ¡å¤„ç†ï¼Œå¯ä»¥ä¿è¯ä¸€ç»„æ“ä½œä¸ä¼šä¸­é€”åœæ­¢ï¼Œå®ƒä»¬è¦ä¹ˆå®Œå…¨æ‰§è¡Œï¼Œè¦ä¹ˆå®Œå…¨ä¸æ‰§è¡Œã€‚å¦‚æœæ²¡æœ‰é”™è¯¯å‘ç”Ÿï¼Œæ•´ç»„è¯­å¥æäº¤åˆ°æ•°æ®åº“è¡¨ï¼›å¦‚æœå‘ç”Ÿé”™è¯¯ï¼Œåˆ™è¿›è¡Œå›é€€ï¼Œå°†æ•°æ®åº“æ¢å¤åˆ°æŸä¸ªå·²çŸ¥ä¸”å®‰å…¨çš„çŠ¶æ€ã€‚ å…³é”®è¯ï¼š äº‹åŠ¡( transaction )æŒ‡ä¸€ç»„ SQL è¯­å¥ï¼› å›é€€ï¼ˆrollbackï¼‰æŒ‡æ’¤é”€æŒ‡å®š SQL è¯­å¥çš„è¿‡ç¨‹ï¼› æäº¤ï¼ˆcommitï¼‰æŒ‡å°†æœªå­˜å‚¨çš„ SQL è¯­å¥ç»“æœå†™å…¥æ•°æ®åº“è¡¨ï¼› ä¿ç•™ç‚¹ï¼ˆsavepointï¼‰æŒ‡äº‹åŠ¡å¤„ç†ä¸­è®¾ç½®çš„ä¸´æ—¶å ä½ç¬¦ï¼Œå¯ä»¥å¯¹å®ƒå‘å¸ƒå›é€€ï¼ˆä¸å›é€€æ•´ä¸ªäº‹åŠ¡å¤„ç†ä¸åŒï¼‰ã€‚ å¯ä»¥å›é€€çš„è¯­å¥ï¼šINSERTã€UPDATEã€DELETEã€‚ æ§åˆ¶äº‹åŠ¡å¤„ç† äº‹åŠ¡å¤„ç†çš„è¯­æ³•ï¼š START TRANSACTION æˆ– BEGIN ï¼šå¼€å§‹ä¸€ä¸ªæ–°çš„äº‹åŠ¡ï¼› COMMITï¼šæäº¤å½“å‰çš„äº‹åŠ¡ï¼Œæäº¤ä»¥åï¼Œæ— æ³•å›æ»šï¼› ROLLBACKï¼šå›æ»šå½“å‰çš„äº‹åŠ¡ï¼Œå–æ¶ˆå¯¹è¡¨çš„æ“ä½œï¼› SET autocommitï¼šä¸ºå½“å‰çš„ä¼šè¯æ‰“å¼€æˆ–å…³é—­ autocommit æ¨¡å¼ï¼Œé»˜è®¤æ‰“å¼€ã€‚ éšå¼åœ°å…³é—­ autocommit æ¨¡å¼ï¼Œè¦ç”¨ START TRANSACTION è¯­å¥ï¼š 12345START TRANSACTION;SELECT @A:=SUM(salary) FROM table1 WHERE type=1;UPDATE table2 SET summary=@A WHERE type=1;COMMIT;-- åœ¨ START TRANSACTION ä¸­ï¼Œ autocommit æ¨¡å¼ä¼šæš‚æ—¶çš„ä¸ºå…³é—­çŠ¶æ€ï¼ŒæŒ‡å¯¼ COMMIT æˆ–è€… ROLLBACK è¯­å¥è¢«æ‰§è¡Œã€‚è¿™æ˜¯ autocommit æ¨¡å¼æ‰ä¼šå›åˆ°ä¹‹å‰çš„çŠ¶æ€ã€‚ ROLLBACK SQL çš„ ROLLBACK å‘½ä»¤ç”¨æ¥å›é€€ SQL è¯­å¥ã€‚ åœ¨äº‹åŠ¡å¤„ç†å—ä¸­ï¼ŒDELETE æ“ä½œï¼ˆSELECT å’Œ UPDATE ä¸€æ ·ï¼‰å¹¶ä¸æ˜¯æœ€ç»ˆçš„ç»“æœã€‚ COMMIT éšå¼æäº¤ï¼ˆimplicit commitï¼‰ï¼šä¸€èˆ¬çš„ SQL è¯­å¥éƒ½æ˜¯é’ˆå¯¹æ•°æ®åº“è¡¨ç›´æ¥æ‰§è¡Œå’Œç¼–å†™çš„ï¼Œå³æäº¤ï¼ˆå†™æˆ–ä¿å­˜ï¼‰æ“ä½œæ˜¯è‡ªåŠ¨è¿›è¡Œçš„ã€‚ SAVEPOINT ä½¿ç”¨ç®€å•çš„ ROLLBACK å’Œ COMMIT è¯­å¥ï¼Œå°±å¯ä»¥å†™å…¥æˆ–æ’¤é”€æ•´ä¸ªäº‹åŠ¡ã€‚ä½†æ˜¯ï¼Œåªå¯¹ç®€å•çš„äº‹åŠ¡æ‰èƒ½è¿™æ ·åšï¼Œå¤æ‚çš„äº‹åŠ¡å¯èƒ½éœ€è¦éƒ¨åˆ†æäº¤æˆ–å›é€€ã€‚ è¦æ”¯æŒå›é€€éƒ¨åˆ†äº‹åŠ¡ï¼Œå¿…é¡»åœ¨äº‹åŠ¡å¤„ç†å—ä¸­åˆé€‚çš„ä½ç½®æ”¾å ä½ç¬¦ã€‚ 123SAVEPOINT identifier;ROLLBACK TO identifier; SAVEPOINT è¶Šå¤šè¶Šå¥½ï¼š ä¿ç•™ç‚¹è¶Šå¤šï¼Œè¶Šèƒ½çµæ´»åœ°è¿›è¡Œå›é€€ã€‚","tags":[{"name":"äº‹åŠ¡","slug":"äº‹åŠ¡","permalink":"http://tech.noexception.cn/tags/%E4%BA%8B%E5%8A%A1/"}]},{"title":"MySQL è§†å›¾","date":"2017-04-09T10:38:49.000Z","path":"2017/04/09/MySQLView/","text":"å…³äº MySQL çš„è§†å›¾çš„ç¬”è®° è§†å›¾ è§†å›¾æ˜¯è™šæ‹Ÿçš„è¡¨ã€‚ä¸åŒ…å«æ•°æ®çš„è¡¨ä¸ä¸€æ ·ï¼Œè§†å›¾åªåŒ…å«ä½¿ç”¨æ—¶åŠ¨æ€æ£€ç´¢æ•°æ®çš„æŸ¥è¯¢ã€‚å®ƒå¯ä»¥æŠŠæŸ¥è¯¢åŒ…è£…ç§¤ä¸€ä¸ªè™šæ‹Ÿè¡¨ï¼Œå°±å¯ä»¥è½»æ¾åœ°æ£€ç´¢å‡ºç›¸åŒçš„æ•°æ®ã€‚è§†å›¾ä¸åŒ…å«ä»»ä½•åˆ—æˆ–æ•°æ®ï¼ŒåŒ…å«çš„æ˜¯ä¸€ä¸ªæŸ¥è¯¢ã€‚ è§†å›¾æ˜¯è™šæ‹Ÿçš„è¡¨ã€‚å®ƒä»¬åŒ…å«çš„ä¸æ˜¯æ•°æ®è€Œæ˜¯æ ¹æ®éœ€è¦æ£€ç´¢æ•°æ®çš„æŸ¥è¯¢ã€‚è§†å›¾æä¾›äº†ä¸€ç§å°è£… SELECT è¯­å¥çš„å±‚æ¬¡ï¼Œå¯ç”¨æ¥ç®€åŒ–æ•°æ®å¤„ç†ï¼Œé‡æ–°æ ¼å¼åŒ–æˆ–ä¿æŠ¤åŸºç¡€æ•°æ®ã€‚ ä½¿ç”¨è§†å›¾ ä½¿ç”¨è§†å›¾çš„å¥½å¤„ï¼š é‡ç”¨ SQL è¯­å¥ã€‚ ç®€åŒ–å¤æ‚çš„ SQL æ“ä½œã€‚åœ¨ç¼–å†™æŸ¥è¯¢åï¼Œå¯ä»¥æ–¹ä¾¿åœ°é‡ç”¨å®ƒè€Œä¸å¿…çŸ¥é“å…¶åŸºæœ¬æŸ¥è¯¢ç»†èŠ‚ã€‚ ä½¿ç”¨è¡¨çš„ä¸€éƒ¨åˆ†è€Œä¸æ˜¯æ•´ä¸ªè¡¨ã€‚ ä¿æŠ¤æ•°æ®ã€‚å¯ä»¥æˆäºˆç”¨æˆ·è®¿é—®è¡¨çš„ç‰¹å®šéƒ¨åˆ†çš„æƒé™ï¼Œè€Œä¸æ˜¯æ•´ä¸ªè¡¨çš„è®¿é—®æƒé™ã€‚ æ›´æ”¹æ•°æ®æ ¼å¼å’Œè¡¨ç¤ºã€‚è§†å›¾å¯è¿”å›ä¸åº•å±‚è¡¨çš„è¡¨ç¤ºå’Œæ ¼å¼ä¸åŒçš„æ•°æ®ã€‚ è§†å›¾ä¸è¡¨ï¼š åˆ›å»ºè§†å›¾åï¼Œå¯ä»¥ç”¨ä¸è¡¨ç›¸åŒçš„æ–¹å¼ä½¿ç”¨å®ƒä»¬ã€‚ä¾‹å¦‚ï¼šSELECTã€è¿‡æ»¤ã€æ’åºã€å°†è§†å›¾ä¸è¡¨æˆ–å…¶ä»–è§†å›¾è”æ¥ã€æ·»åŠ æ›´æ–°æ•°æ®ç­‰ç­‰ã€‚ è§†å›¾æ˜¯ç”¨æ¥æŸ¥çœ‹å­˜å‚¨åœ¨åˆ«å¤„æ•°æ®çš„ä¸€ç§è®¾æ–½ï¼Œæœ¬èº«ä¸åŒ…å«æ•°æ®ï¼Œå› æ­¤è¿”å›çš„æ•°æ®æ˜¯ä»å…¶ä»–è¡¨ä¸­æ£€ç´¢å‡ºæ¥çš„ã€‚ æ€§èƒ½é—®é¢˜ï¼Œå¦‚ä¸Šæ‰€è¿°ï¼Œè‹¥ç”¨å¤šä¸ªè”ç»“å’Œè¿‡æ»¤åˆ›å»ºäº†å¤æ‚çš„è§†å›¾æˆ–è€…åµŒå¥—å¤šå±‚è§†å›¾ï¼Œæ€§èƒ½ä¼šå¤§å¹…åº¦ä¸‹é™ã€‚åœ¨éƒ¨ç½²ä½¿ç”¨äº†å¤§é‡è§†å›¾çš„åº”ç”¨å‰ï¼Œåº”è¯¥è¿›è¡Œæµ‹è¯•ã€‚ è§„åˆ™å’Œé™åˆ¶ å…³äºè§†å›¾åˆ›å»ºå’Œä½¿ç”¨æœ€å¸¸è§çš„è§„åˆ™å’Œé™åˆ¶ï¼š ä¸è¡¨ä¸€æ ·ï¼Œè§†å›¾å¿…é¡»å”¯ä¸€å‘½åï¼ˆä¸èƒ½ç»™è§†å›¾å–ä¸åˆ«çš„è§†å›¾æˆ–è¡¨ç›¸åŒçš„åå­—ï¼‰ã€‚ å¯¹äºå¯ä»¥åˆ›å»ºçš„è§†å›¾æ•°ç›®æ²¡æœ‰é™åˆ¶ã€‚ åˆ›å»ºè§†å›¾ï¼Œå¿…é¡»å…·æœ‰è¶³å¤Ÿçš„è®¿é—®æƒé™ã€‚è¿™äº›æƒé™é€šå¸¸ç”±æ•°æ®åº“ç®¡ç†äººå‘˜æˆäºˆã€‚ è§†å›¾å¯ä»¥åµŒå¥—ï¼Œå³å¯ä»¥åˆ©ç”¨ä»å…¶ä»–è§†å›¾ä¸­æ£€ç´¢æ•°æ®çš„æŸ¥è¯¢æ¥æ„é€ è§†å›¾ã€‚æ‰€å…è®¸çš„åµŒå¥—å±‚æ•°åœ¨ä¸åŒçš„ DBMS ä¸­æœ‰æ‰€ä¸åŒï¼ˆåµŒå¥—è§†å›¾å¯èƒ½ä¼šä¸¥é‡é™ä½æŸ¥è¯¢çš„æ€§èƒ½ï¼Œå› æ­¤åœ¨äº§å“ç¯å¢ƒä¸­ä½¿ç”¨ä¹‹å‰ï¼Œåº”è¯¥å¯¹å…¶è¿›è¡Œå…¨é¢æµ‹è¯•ï¼‰ã€‚ è®¸å¤š DBMS ç¦æ­¢åœ¨è§†å›¾æŸ¥è¯¢ä¸­ä½¿ç”¨ ORDER BY å­—å¥ï¼ˆMySQL ä¸­è²Œä¼¼æ²¡æœ‰é™åˆ¶ï¼‰ã€‚ æœ‰äº› DBMS è¦æ±‚å¯¹è¿”å›çš„æ‰€æœ‰åˆ—è¿›è¡Œå‘½åï¼Œå¦‚æœåˆ—æ˜¯è®¡ç®—å­—æ®µï¼Œåˆ™éœ€è¦ä½¿ç”¨åˆ«åã€‚ è§†å›¾ä¸èƒ½ç´¢å¼•ï¼Œä¹Ÿä¸èƒ½æœ‰å…³è”çš„è§¦å‘å™¨æˆ–é»˜è®¤å€¼ã€‚ æœ‰äº› DBMS æŠŠè§†å›¾ä½œä¸ºåªè¯»çš„æŸ¥è¯¢ï¼Œè¿™è¡¨ç¤ºå¯ä»¥ä»è§†å›¾æ£€ç´¢æ•°æ®ï¼Œä½†ä¸èƒ½å°†æ•°æ®å†™ä¼šåº•å±‚è¡¨ã€‚ï¼ˆè¯¦æƒ…å‚é˜…å…·ä½“çš„ DBMS æ–‡æ¡£ï¼‰ æœ‰äº› DBMS å…è®¸åˆ›å»ºè¿™æ ·çš„è§†å›¾ï¼Œå®ƒä¸èƒ½è¿›è¡Œå¯¼è‡´è¡Œä¸å†å±äºè§†å›¾çš„æ’å…¥æˆ–æ›´æ–°ã€‚ä¾‹å¦‚æœ‰ä¸€ä¸ªè§†å›¾ï¼Œåªæ£€ç´¢å¸¦æœ‰ç”µå­é‚®ä»¶åœ°å€çš„é¡¾å®¢ã€‚å¦‚æœæ›´æ–°æŸä¸ªé¡¾å®¢ï¼Œåˆ é™¤ä»–çš„ç”µå­é‚®ä»¶åœ°å€ï¼Œå°†ä½¿é¡¾å®¢ä¸å†å±äºè§†å›¾ã€‚è¿™æ˜¯é»˜è®¤è¡Œä¸ºï¼Œè€Œä¸”æ˜¯å…è®¸çš„ï¼Œä½†æœ‰çš„ DBMS å¯èƒ½ä¼šé˜²æ­¢è¿™ç§æƒ…å†µå‘ç”Ÿã€‚ åˆ›å»ºè§†å›¾ åˆ›å»ºè§†å›¾è¯­å¥ï¼š 12345CREATE VIEW viewname AS SELECT field_name1, field_name2, field_name3FROM table_name1, table_name2, table_name3WHERE table_name1.... = table_name2....AND table_name2.... = table_name3....; åˆ é™¤è§†å›¾è¯­å¥ï¼š(è¦†ç›–æˆ–æ›´æ–°è§†å›¾æ—¶ï¼Œå¿…é¡»å…ˆåˆ é™¤å®ƒï¼Œç„¶åå†é‡æ–°åˆ›å»ºã€‚) 1DROP VIEW viewname; åˆ©ç”¨è§†å›¾ç®€åŒ–å¤æ‚çš„è”ç»“ åˆ›å»ºä¸ç»‘å®šç‰¹å®šæ•°æ®çš„è§†å›¾æ˜¯ä¸€ç§å¥½åŠæ³•ã€‚æ‰©å±•è§†å›¾çš„èŒƒå›´ä¸ä»…ä½¿å¾—å®ƒèƒ½è¢«é‡ç”¨ï¼Œè€Œä¸”å¯èƒ½æ›´æœ‰ç”¨ã€‚è¿™æ ·åšä¸éœ€è¦åˆ›å»ºå’Œç»´æŠ¤å¤šä¸ªç±»ä¼¼è§†å›¾ã€‚ 1234567891011# è¿™æ˜¯ä¸€ä¸ªä¾‹å­:create view ProductCustomers asselect cust_name, cust_contact, prod_idfrom Customers, Orders, OrderItemswhere Customers.cust_id = Orders.cust_idand OrderItems.order_num = Orders.order_num;select cust_name, cust_contactfrom ProductCustomerswhere prod_id = 'RGAN01'; æ ¼å¼åŒ–æ£€ç´¢å‡ºçš„æ•°æ® SELECT çº¦æŸå…¨éƒ¨ä½¿ç”¨ã€‚ MySQL ä¸æ”¯æŒ+ã€||æ“ä½œç¬¦æ¥æ‹¼æ¥å€¼ï¼Œæ£€ç´¢å‡ºæ¥çš„ç»“æœå…¨ä¸º0ï¼Œä½†æ˜¯è¡Œæ•°ä¸æ‰€æ±‚çš„è¡Œæ•°æ˜¯ç›¸åŒçš„ã€‚è¦ä½¿ç”¨å‡½æ•°Concat()ä¾‹å¦‚ï¼š(å‡ºå¤„ã€ŠSQLå¿…çŸ¥å¿…ä¼šã€‹) 123select Concat(vend_name, '(', vend_country, ')') from Vendors order by vend_name; ç”¨è§†å›¾è¿‡æ»¤ä¸æƒ³è¦çš„æ•°æ® 123456789# è¿™æ˜¯ä¸€ä¸ªä¾‹å­ï¼šcreate view CustomerEmailList as select cust_id, cust_name, cust_emailfrom Customerswhere cust_email is not null;select * from CustomersEmailList; è§†å›¾ä¸è®¡ç®—å­—æ®µ ä½¿ç”¨æ–¹æ³•åŒè¡¨ã€‚ å‚è€ƒæ–‡çŒ®ï¼šã€Š SQL å¿…çŸ¥å¿…ä¼šã€‹","tags":[{"name":"è§†å›¾","slug":"è§†å›¾","permalink":"http://tech.noexception.cn/tags/%E8%A7%86%E5%9B%BE/"}]},{"title":"Mysql é”™è¯¯è®°å½•","date":"2017-04-09T06:42:55.000Z","path":"2017/04/09/MysqlError/","text":"1. Mysqlè¿œç¨‹è¿æ¥é—®é¢˜ é—®é¢˜æè¿°ï¼š ä»ä¸€å°linuxå®¢æˆ·æ¬¾è¿œç¨‹è¿æ¥Mysqlï¼Œå‡ºç°é”™è¯¯ä»£ç ERROR 2003 (HY000): Can't connect to MySQL server on '***.***.***.***' (111) é—®é¢˜åˆ†æï¼š ç½‘ç»œè¿æ¥é—®é¢˜ã€‚ æ’é™¤ï¼Œå±€åŸŸç½‘å†…ï¼Œå‡èƒ½ç›¸äº’pingé€š é…ç½®æ–‡ä»¶ä¸­bind_addressé¡¹ DNSè§£æçš„é—®é¢˜ ç›´æ¥ç”¨çš„æ˜¯ä¸»æœºIPè€Œéä¸»æœºåï¼Œä¸å­˜åœ¨è§£æé”™è¯¯çš„é—®é¢˜ è§£å†³æ–¹æ³•ï¼š ç¼–è¾‘ MySQL é…ç½®æ–‡ä»¶ my.cnf sudo vim /etc/mysql/my.cnf æ‰¾åˆ°bind-address = 127.0.0.1ï¼Œç”¨#å·å°†å…¶æ³¨é‡Šæ‰ã€‚ é‡å¯ MySQL æœåŠ¡ã€‚ å€˜è‹¥åœ¨ç¬¬ä¸€æ­¥çš„æ—¶å€™ï¼Œæ²¡æœ‰åœ¨my.cnfä¸­æ‰¾åˆ°bind-address=127.0.0.1ï¼Œåˆ™å»/etc/mysql/mysql.conf.d/mysqld.cnfæ–‡ä»¶ä¸­å¯»æ‰¾ã€‚ é—®é¢˜è§£å†³ã€‚ æ¥æºäºStackOverflow","tags":[{"name":"Mysql","slug":"Mysql","permalink":"http://tech.noexception.cn/tags/Mysql/"},{"name":"Error","slug":"Error","permalink":"http://tech.noexception.cn/tags/Error/"}]},{"title":"æ¶ˆæ¯é˜Ÿåˆ—å’ŒCelery","date":"2017-03-28T14:39:18.000Z","path":"2017/03/28/messagehandle/","text":"Beanstalkd Beanstalkd çš„ç‰¹ç‚¹ï¼š å¯æŒä¹…åŒ–ã€‚ Beanstalkd è¿è¡Œä½¿ç”¨å†…å­˜ï¼Œä½†ä¹Ÿæä¾›äº†æŒä¹…æ€§æ”¯æŒã€‚åœ¨å¯åŠ¨çš„æ—¶å€™ä½¿ç”¨ -b å‚æ•°æŒ‡å®šæŒä¹…åŒ–ç›®å½•ï¼Œå®ƒä¼šå°†æ‰€æœ‰çš„ä»»åŠ¡å†™å…¥ binlog æ–‡ä»¶ã€‚åœ¨å‘ç”Ÿæ–­ç”µç­‰æƒ…å†µåï¼Œç”¨åŒæ ·çš„å‚æ•°æŒ‡å®šé‡å¯å®ƒï¼Œå°†æ¢å¤ binlog ä¸­çš„å†…å®¹ã€‚ ä»»åŠ¡è¶…æ—¶é‡å‘ã€‚ æ¶ˆè´¹è€…å¿…é¡»åœ¨é¢„è®¾çš„ TTR ï¼ˆTime To Runï¼‰ æ—¶é—´å†…å‘é€ delete/release/bury æ”¹å˜ä»»åŠ¡çŠ¶æ€ï¼Œå¦åˆ™å®ƒä¼šè®¤ä¸ºæ¶ˆæ¯å¤„ç†å¤±è´¥ï¼ŒæŠŠä»»åŠ¡äº¤ç»™åˆ«çš„æ¶ˆè´¹è€…èŠ‚ç‚¹æ‰§è¡Œã€‚ **æ”¯æŒä»»åŠ¡é¢„ç•™ã€‚**å¦‚æœä»»åŠ¡å› ä¸ºæŸäº›åŸå› æ— æ³•æ‰§è¡Œï¼Œæ¶ˆè´¹è€…å¯ä»¥æŠŠä»»åŠ¡ç½®ä¸º buried çŠ¶æ€ä¿ç•™è¿™äº›ä»»åŠ¡ã€‚ **æ”¯æŒåˆ†å¸ƒå¼ã€‚**å®¢æˆ·ç«¯å¯ä»¥å®ç°å’Œ Memcached ä¸€æ ·çš„åˆ†å¸ƒå¼ã€‚ çµæ´»è®¾ç½®ä»»åŠ¡è¿‡æœŸå’ŒTTRæ—¶é—´ã€‚ job job å°±æ˜¯å¾…å¼‚æ­¥æ‰§è¡Œçš„ä»»åŠ¡ï¼Œä¹Ÿå°±æ˜¯æ¶ˆæ¯ï¼Œæ˜¯ Beanstalkd ä¸­çš„åŸºæœ¬å•å…ƒã€‚ä¸€ä¸ª job é€šè¿‡ç”Ÿäº§è€…ä½¿ç”¨ put å‘½ä»¤æ—¶åˆ›å»ºï¼Œç„¶åè¢«æ”¾åœ¨ä¸€ä¸ªç®¡é“ï¼ˆtubeï¼‰ä¸­ã€‚åœ¨æ•´ä¸ªç”Ÿå‘½å‘¨æœŸä¸­ job å¯èƒ½æœ‰4ä¸ªå·¥ä½œçŠ¶æ€ã€‚ ready: ç­‰å¾…è¢«å–å‡ºå¹¶å¤„ç†ã€‚ reserved: å¦‚æœ job è¢«æ¶ˆè´¹è€…ï¼ˆworkerï¼‰å–å‡ºï¼Œå°†è¢«æ­¤æ¶ˆè´¹è€…é¢„è®¢ï¼Œæ¶ˆè´¹è€…å°†æ‰§è¡Œ job . delayed: ç­‰å¾…ç‰¹å®šæ—¶é—´ä¹‹åï¼ŒçŠ¶æ€å†æ”¹ä¸º ready çŠ¶æ€ã€‚ buried: ç­‰å¾…å”¤é†’ï¼Œé€šå¸¸åœ¨ job å¤„ç†å¤±è´¥æ—¶ï¼Œä¼šå˜æˆè¿™ä¸ªçŠ¶æ€ã€‚ Beanstalkc Beanstalkd å€Ÿé‰´äº† Memcached è®¾è®¡ï¼Œå®ƒä»¬çš„åè®®å’Œä½¿ç”¨æ–¹å¼çš„é£æ ¼å¾ˆåƒã€‚æœ¬èŠ‚ä½¿ç”¨ Beanstalkd çš„ Python å®¢æˆ·ç«¯ Beanstalkc æ¼”ç¤º Beanstalkd çš„ç”¨æ³• pip install PyYAML beanstalkc #å®‰è£…","tags":[{"name":"Python","slug":"Python","permalink":"http://tech.noexception.cn/tags/Python/"},{"name":"Webå¼€å‘","slug":"Webå¼€å‘","permalink":"http://tech.noexception.cn/tags/Web%E5%BC%80%E5%8F%91/"}]},{"title":"Pythonç³»ç»Ÿç®¡ç†â€”â€”Supervisor","date":"2017-03-21T12:53:23.000Z","path":"2017/03/21/python-supervisor/","text":"Supervisor ç»„ä»¶ Supervisord : æœåŠ¡ç«¯ç¨‹åºï¼Œå®ƒçš„ä¸»è¦åŠŸèƒ½æ˜¯å¯åŠ¨ Supervisord æœåŠ¡åŠå…¶ç®¡ç†çš„å­è¿›ç¨‹ï¼Œè®°å½•æ—¥å¿—ï¼Œé‡å¯å´©æºƒçš„è¿›ç¨‹ç­‰ã€‚ Supervisorctl : å‘½ä»¤è¡Œå®¢æˆ·ç«¯ç¨‹åºï¼Œå®ƒæä¾›ä¸€ä¸ªç±»ä¼¼ Shell çš„æ¥å£ï¼Œé€šè¿‡ UNIX åŸŸå¥—æ¥å­—æˆ–è€… TCP/IP å¥—æ¥å­—ä½¿ç”¨ XML_RPC åè®®ä¸ Supervisord è¿›ç¨‹è¿›è¡Œæ•°æ®é€šä¿¡ã€‚å®ƒçš„ä¸»è¦åŠŸèƒ½å°±æ˜¯ç®¡ç†ï¼ˆå¯åŠ¨ã€å…³é—­ã€é‡å¯ã€æŸ¥çœ‹çŠ¶æ€ç­‰ï¼‰å­è¿›ç¨‹ã€‚ Web Server : å®ç°äº†åœ¨ç•Œé¢ä¸Šç®¡ç†è¿›ç¨‹ï¼Œè¿˜èƒ½æŸ¥çœ‹è¿›ç¨‹æ—¥å¿—å’Œæ¸…é™¤æ—¥å¿—ã€‚Web Server å…¶å®æ˜¯é€šè¿‡ XML_RPC æ¥å®ç°çš„ï¼Œå¯ä»¥å‘ Supervisord è¯·æ±‚æ•°æ®ã€‚å®ƒé…ç½®çˆ± [inet_http_server] å—é‡Œé¢ã€‚ XML_RPC æ¥å£ : å¯ä»¥é€šè¿‡XML-RPC åè®®å¯¹ Web Server è¿›è¡Œè¿œç¨‹è°ƒç”¨ï¼Œè¾¾åˆ°å’Œ Supervisorctl ä»¥åŠ Web Server ä¸€æ ·çš„ç®¡ç†åŠŸèƒ½ã€‚ é…ç½® Supervisor Supervisor çš„é…ç½®æ–‡ä»¶ä¸€èˆ¬éƒ½å« supervisord.confã€‚å¯åŠ¨ Supervisord çš„æ—¶å€™ä¼šæŒ‰ç…§å¦‚ä¸‹è·¯å¾„å¯»æ‰¾é…ç½®æ–‡ä»¶ï¼š å½“å‰ç›®å½•ä¸‹çš„ supervisord.conf ($CWD/supervisord.conf)ã€‚ å½“å‰ç›®å½•çš„ etc ç›®å½•ä¸‹çš„ supervisord.conf ï¼ˆ$CWD/etc/supervisord.confï¼‰ ç›¸å¯¹äºå¯æ‰§è¡Œæ–‡ä»¶ supervisord çš„ä¸Šä¸€çº§çš„ etc ç›®å½•ä¸‹çš„ supervisord.conf (â€¦/etc/supervisord.conf)ã€‚ ç›¸å¯¹äºå¯æ‰§è¡Œæ–‡ä»¶ supervisord çš„ä¸Šä¸€çº§çš„ supervisord.conf ï¼ˆâ€¦/supervisord.confï¼‰ å¯ä»¥ä½¿ç”¨ -c é€‰é¡¹æŒ‡å®šä¸ç¬¦åˆå¦‚ä¸Šè¦æ±‚çš„é…ç½®æ–‡ä»¶è·¯å¾„ ä½¿ç”¨ Supervisor åˆ†ä¸ºä¸‰ç§ï¼šsupervisorctl å‘½ä»¤è¡Œæ–¹å¼ç®¡ç†è¿›ç¨‹ã€é€šè¿‡ web æ–¹å¼ç®¡ç†è¿›ç¨‹å’Œé€šè¿‡ XML_RPC æ¥å£æ¥ç®¡ç†è¿›ç¨‹ã€‚","tags":[{"name":"Python","slug":"Python","permalink":"http://tech.noexception.cn/tags/Python/"},{"name":"ç³»ç»Ÿç®¡ç†","slug":"ç³»ç»Ÿç®¡ç†","permalink":"http://tech.noexception.cn/tags/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/"}]},{"title":"å…³äº Flask ä¿¡å·çš„ä¸€ç‚¹å°ç¬”è®°","date":"2017-03-16T18:54:36.000Z","path":"2017/03/17/day0317/","text":"Flaskä¸­çš„ä¿¡å·åŠå…¶å«ä¹‰ ä¿¡å· ä¿¡å·é€šè¿‡å‘é€å‘ç”Ÿåœ¨æ ¸å¿ƒæ¡†æ¶çš„å…¶ä»–åœ°æ–¹æˆ– Flask æ‰©å±•çš„åŠ¨ä½œæ—¶çš„é€šçŸ¥æ¥å¸®åŠ©ä½ è§£è€¦åº”ç”¨ã€‚ç®€è€Œè¨€ä¹‹ï¼Œä¿¡å·å…è®¸ç‰¹å®šçš„å‘é€ç«¯é€šçŸ¥è®¢é˜…è€…å‘ç”Ÿäº†ä»€ä¹ˆ è®¢é˜…ä¿¡å· ä½¿ç”¨ connect() æ–¹æ³•æ¥è®¢é˜…ä¿¡å·ã€‚è¯¥å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¿¡å·å‘å‡ºæ—¶è¦è°ƒç”¨çš„å‡½æ•°ï¼Œç¬¬äºŒä¸ªå‚æ•°å¯é€‰ï¼Œç”¨äºç¡®å®šä¿¡å·çš„å‘é€ç«¯ã€‚ ä½¿ç”¨ disconnect() æ–¹æ³•æ¥é€€è®¢ã€‚ å¯¹äºæ‰€æœ‰çš„æ ¸å¿ƒ Flask ä¿¡å·ï¼Œå‘é€ç«¯éƒ½æ˜¯å‘é€ä¿¡å·çš„åº”ç”¨ã€‚å½“ä½ è®¢é˜…ä¸€ä¸ªä¿¡å·ï¼Œè¯·ç¡®ä¿ä¹Ÿæä¾›ä¸€ä¸ªå‘é€ç«¯ï¼Œé™¤éä½ ç¡®å®æƒ³ç›‘å¬å…¨éƒ¨åº”ç”¨çš„ä¿¡å·ã€‚è¿™åœ¨ä½ å¼€å‘ä¸€ä¸ªæ‰©å±•çš„æ—¶å€™å°¤å…¶æ­£ç¡®ã€‚ åˆ›å»ºä¿¡å· åœ¨å®šä¹‰çš„ Namespace ä¸­å‘½åä¿¡å·ã€‚è¿™ä¹Ÿæ˜¯å¤§å¤šæ—¶å€™æ¨èçš„åšæ³•ï¼š 12from blinker import Namespacemy_signals = Namespace() -åˆ›å»ºä¿¡å·ï¼š 1model_saved = mysignals.signal('model-saved') è¿™é‡Œä½¿ç”¨å”¯ä¸€çš„ä¿¡å·åï¼Œç®€åŒ–è°ƒè¯•ã€‚å¯ä»¥ç”¨ name å±æ€§æ¥è®¿é—®ä¿¡å·åã€‚ å‘é€ä¿¡å· è°ƒç”¨ send() æ–¹æ³•ï¼Œå‘å‡ºä¿¡å·ã€‚ å®ƒæ¥å—å‘é€ç«¯ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ï¼Œå’Œä¸€äº›æ¨é€åˆ°ä¿¡å·è®¢é˜…è€…çš„å¯é€‰å…³é”®å­—å‚æ•°ï¼š 1234class Model(object): ... def save(self): model_saved.send(self) æ°¸è¿œå°è¯•é€‰æ‹©ä¸€ä¸ªåˆé€‚çš„å‘é€ç«¯ã€‚å¦‚æœä½ æœ‰ä¸€ä¸ªå‘å‡ºä¿¡å·çš„ç±»ï¼ŒæŠŠ self ä½œä¸ºå‘é€ç«¯ã€‚å¦‚æœä½ ä»ä¸€ä¸ªéšè®°çš„å‡½æ•°å‘å‡ºä¿¡å·ï¼ŒæŠŠ current_app._get_current_object() ä½œä¸ºå‘é€ç«¯ã€‚ ä¼ é€’ä»£ç†ä½œä¸ºå‘é€ç«¯ï¼š æ°¸è¿œä¸è¦å‘ä¿¡å·ä¼ é€’ current_app ä½œä¸ºå‘é€ç«¯ï¼Œä½¿ç”¨ current_app._get_current_object() ä½œä¸ºæ›¿ä»£ã€‚è¿™æ ·çš„åŸå› æ˜¯ï¼Œ current_app æ˜¯ä¸€ä¸ªä»£ç†ï¼Œè€Œä¸æ˜¯çœŸæ­£çš„å¯¹è±¡ã€‚ ä¿¡å·ä¸ Flask çš„è¯·æ±‚ä¸Šä¸‹æ–‡ ä¿¡å·åœ¨æ¥æ”¶æ—¶ï¼Œå®Œå…¨æ”¯æŒè¯·æ±‚ä¸Šä¸‹æ–‡ã€‚ä¸Šä¸‹æ–‡æœ¬åœ°çš„å˜é‡åœ¨ request_started å’Œ request_finished ä¸€è´¯å¯ç”¨ï¼Œæ‰€ä»¥ä½ å¯ä»¥ä¿¡ä»» flask.g å’Œå…¶ä»–éœ€è¦çš„ä¸œè¥¿ã€‚ åŸºäºè£…é¥°å™¨çš„ä¿¡å·è®¢é˜… å¯ä»¥åœ¨ Blinker 1.1 ä¸­å®¹æ˜“åœ°ç”¨æ–°çš„ connect_via() è£…é¥°å™¨è®¢é˜…ä¿¡å·ï¼š 12345from flask import template_rendered@template_rendered.connect_via(app)def when_template_rendered(sender, template, context, **extra): print 'Template %s is rendered with %s' % (template.name, context) æ ¸å¿ƒä¿¡å· flask.template_renderedï¼šæ¨¡æ¿æ¸²æŸ“æˆåŠŸçš„æ—¶å€™å‘é€ï¼Œè¿™ä¸ªä¿¡å·ä¸æ¨¡æ¿å®ä¾‹templateã€ä¸Šä¸‹æ–‡çš„å­—å…¸ä¸€èµ·ç”¨ã€‚ 1234567def log_template_renders(sender, template, context, **extra): sender.logger.debug('Rendering template \"%s\" with context %s', template.name or 'string template', context)from flask import template_renderedtemplate_rendered.connect(log_template_renders, app) flask.request_startedï¼šå»ºç«‹è¯·æ±‚ä¸Šä¸‹æ–‡åï¼Œåœ¨è¯·æ±‚å¤„ç†å¼€å§‹å‰å‘é€ï¼Œè®¢é˜…è€…å¯ä»¥ç”¨ request ä¹‹ç±»çš„æ ‡å‡†å…¨å±€ä»£ç†è®¿é—®è¯·æ±‚ã€‚ 12345def log_request(sender, **extra): sender.logger.debug('Request context is set up')from flask import request_startedrequest_started.connect(log_request, app) flask.request_finishedï¼šåœ¨å“åº”å‘é€ç»™å®¢æˆ·ç«¯ä¹‹å‰å‘é€ï¼Œå¯ä»¥ä¼ é€’ response ã€‚ 123456def log_response(sender, response, **extra): sender.logger.debug('Request context is about to close down.' 'Response: %s', response)from flask import request_finishedrequest_finished.connect(log_response, app) flask.got_request_exceptionï¼šåœ¨è¯·æ±‚å¤„ç†ä¸­æŠ›å‡ºå¼‚å¸¸æ—¶å‘é€ï¼Œå¼‚å¸¸æœ¬èº«ä¼šé€šè¿‡ exception ä¼ é€’åˆ°è®¢é˜…çš„å‡½æ•°ã€‚ 12345def log_exception(sender, exception, **extra): sender.logger.debug('Got exception during processing: %s', exception)from flask import got_request_exceptiongot_request_exception.connect(log_exception, app) flask.request_tearing_downï¼šåœ¨è¯·æ±‚é”€æ¯æ—¶å‘é€ï¼Œå®ƒæ€»æ˜¯è¢«è°ƒç”¨ï¼Œå³ä½¿å‘ç”Ÿå¼‚å¸¸ã€‚ 12345def close_db_connection(sender, **extra): session.close()from flask import request_tearing_downrequest_tearing_down.connect(close_db_connection, app) flask.appcontext_tearing_downï¼šåœ¨åº”ç”¨ä¸Šä¸‹æ–‡é”€æ¯æ—¶å‘é€ï¼Œå®ƒæ€»æ˜¯è¢«è°ƒç”¨ï¼Œå³ä½¿å‘ç”Ÿå¼‚å¸¸ã€‚ 12345def close_db_connection(sender, **extra): session.close()from flask import request_tearing_downappcontext_tearing_down.connect(close_db_connection, app) flask.appcontext_pushed: è¿™ä¸ªä¿¡å·åœ¨åº”ç”¨ä¸Šä¸‹æ–‡å‹å…¥æ ˆæ—¶å‘é€ã€‚å‘é€è€…æ˜¯åº”ç”¨å¯¹è±¡ã€‚è¿™é€šå¸¸åœ¨å•å…ƒæµ‹è¯•ä¸­ä¸ºäº†æš‚æ—¶åœ°é’©ä½ä¿¡æ¯æ¯”è¾ƒæœ‰ç”¨ã€‚ä¾‹å¦‚è¿™å¯ä»¥ç”¨æ¥æå‰åœ¨ g å¯¹è±¡ä¸Šè®¾ç½®ä¸€äº›èµ„æºã€‚ 123456789101112131415from contextlib import contextmanagerfrom flask import appcontext_pushed@contextmanagerdef user_set(app, user): def handler(sender, **kwargs): g.user = user with appcontext_pushed.connected_to(handler, app): yield# æµ‹è¯•ä»£ç def test_user_me(self): with user_set(app, 'john'): c = app.test_client() resp = c.get('/user/me') assert resp.data == 'username=john' flask.appcontext_popped: è¿™ä¸ªä¿¡å·åœ¨åº”ç”¨ä¸Šä¸‹æ–‡å¼¹å‡ºæ ˆæ—¶å‘é€ã€‚å‘é€è€…æ˜¯åº”ç”¨å¯¹è±¡ã€‚è¿™é€šå¸¸åœ¨ appcontext_tearing_down ä¿¡å·å‘é€åå‘é€ flask.message_flashed: è¿™ä¸ªä¿¡å·åœ¨åº”ç”¨å¯¹è±¡é—ªç°ä¸€ä¸ªæ¶ˆæ¯æ—¶å‘é€ã€‚æ¶ˆæ¯ä½œä¸º message å‘½åå‚æ•°å‘é€ï¼Œåˆ†ç±»åˆ™æ˜¯ category å‚æ•°ã€‚ 12345recorded = []def record(sender, message, category, **extra): recorded.append((message, category))from flask import message_flashedmessage_flashed.connect(record, app)","tags":[{"name":"Flask","slug":"Flask","permalink":"http://tech.noexception.cn/tags/Flask/"},{"name":"ä¿¡å·","slug":"ä¿¡å·","permalink":"http://tech.noexception.cn/tags/%E4%BF%A1%E5%8F%B7/"}]},{"title":"Lxmléšè®°","date":"2017-02-18T15:50:39.000Z","path":"2017/02/18/Lxmlç¬”/","text":"ç®€ä»‹ï¼š Lxmlæ˜¯åŸºäºlibxml2è§£æåº“çš„Pythonå°è£…ã€‚è§£æé€Ÿåº¦æ¯”Beautiful Soup å¿«ï¼Œç¼ºç‚¹å°±æ˜¯å®‰è£…éº»çƒ¦ã€‚ CSSé€‰æ‹©å™¨ï¼š CSSé€‰æ‹©å™¨è¡¨ç¤ºé€‰æ‹©å…ƒç´ æ‰€ä½¿ç”¨çš„æ¨¡å¼ ç¤ºä¾‹ï¼š é€‰æ‹©æ‰€æœ‰æ ‡ç­¾ï¼š* é€‰æ‹©æ ‡ç­¾ï¼ša é€‰æ‹©æ‰€æœ‰class=&quot;link&quot;çš„å…ƒç´ ï¼š.link é€‰æ‹©class=&quot;link&quot;çš„æ ‡ç­¾ï¼ša.link é€‰æ‹©id=&quot;home&quot;çš„æ ‡ç­¾ï¼ša#home é€‰æ‹©çˆ¶å…ƒç´ ä¸ºæ ‡ç­¾çš„æ‰€æœ‰å­æ ‡ç­¾ï¼ša &gt; span é€‰æ‹©æ ‡ç­¾å†…éƒ¨çš„æ‰€æœ‰æ ‡ç­¾ï¼ša span é€‰æ‹©titleå±æ€§ä¸º&quot;Home&quot;çš„æ‰€æœ‰æ ‡ç­¾ï¼ša[title=Home]","tags":[{"name":"Python","slug":"Python","permalink":"http://tech.noexception.cn/tags/Python/"},{"name":"çˆ¬è™«","slug":"çˆ¬è™«","permalink":"http://tech.noexception.cn/tags/%E7%88%AC%E8%99%AB/"}]},{"title":"2016å¹´ç»ˆæ€»ç»“","date":"2017-01-03T12:58:47.000Z","path":"2017/01/03/2016å¹´ç»ˆæ€»ç»“/","text":"å‹¤åŠ³æ¸©æŸ”ï¼Œè¿˜å–„è‰¯ Incorrect Password! No content to display! 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","tags":[{"name":"æ€»ç»“","slug":"æ€»ç»“","permalink":"http://tech.noexception.cn/tags/%E6%80%BB%E7%BB%93/"}]},{"title":"ã€ŠC++ Primerã€‹ç¬¬å…«ç« å°ç»“","date":"2016-12-29T12:46:24.000Z","path":"2016/12/29/sumeryofchapter8/","text":"IOåº“å°ç»“ C++ ä½¿ç”¨æ ‡å‡†åº“ç±»æ¥å¤„ç†é¢å‘æµçš„è¾“å…¥å’Œè¾“å‡ºï¼› iostreamå¤„ç†æ§åˆ¶å°IO fstreamå¤„ç†å‘½åæ–‡ä»¶IO stringstreamå®Œæˆå†…å­˜stringçš„IO &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç±»`fstream`å’Œ`stringstream`éƒ½æ˜¯ç»§æ‰¿è‡ªç±»`iostream`çš„ã€‚è¾“å…¥ç±»éƒ½ç»§æ‰¿è‡ª`istream`ï¼Œè¾“å‡ºç±»éƒ½ç»§æ‰¿è‡ª`ostream`ã€‚å› æ­¤ï¼Œå¯ä»¥åœ¨`istream`å¯¹è±¡ä¸Šæ‰§è¡Œçš„æ“ä½œï¼Œä¹Ÿå¯åœ¨`ifstream`æˆ–`istringstream`å¯¹è±¡ä¸Šæ‰§è¡Œã€‚ç»§æ‰¿è‡ª`ostream`çš„è¾“å‡ºç±»ä¹Ÿæœ‰ç±»ä¼¼æƒ…å†µã€‚ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ¯ä¸ªIOå¯¹è±¡éƒ½ç»´æŠ¤ä¸€ç»„æ¡ä»¶çŠ¶æ€ï¼Œç”¨æ¥æŒ‡å‡ºå¯¹è±¡ä¸Šæ˜¯å¦å¯ä»¥è¿›è¡ŒIOæ“ä½œã€‚å¦‚æœé‡åˆ°äº†é”™è¯¯â€”â€”ä¾‹å¦‚åœ¨è¾“å…¥æµä¸Šé‡åˆ°äº†æ–‡ä»¶æœ«å°¾ï¼Œåˆ™å¯¹è±¡çš„çŠ¶æ€å˜ä¸ºå¤±æ•ˆï¼Œæ‰€æœ‰åç»­è¾“å…¥æ“ä½œéƒ½ä¸èƒ½æ‰§è¡Œï¼Œç›´è‡³é”™è¯¯è¢«çº æ­£ã€‚æ ‡å‡†åº“æä¾›äº†ä¸€ç»„å‡½æ•°ï¼Œç”¨æ¥è®¾ç½®å’Œæ£€æµ‹è¿™äº›çŠ¶æ€ã€‚","tags":[{"name":"C++","slug":"C","permalink":"http://tech.noexception.cn/tags/C/"}]},{"title":"CentOS7å®‰è£…Mysql","date":"2016-11-15T12:32:21.000Z","path":"2016/11/15/CentOS7å®‰è£…Mysql/","text":"CENTOS7é»˜è®¤çš„yumæºæ²¡æœ‰mysql-serverè¿™ä¸ªåº“ï¼Œæ‰€ä»¥yum install -y mysql-serverè¿™ä¸ªå‘½ä»¤åœ¨CENTOS7ä¸­æ— æ³•ä½¿ç”¨ã€‚ 1. å®‰è£…ï¼š 12345wget http:&#x2F;&#x2F;repo.mysql.com&#x2F;mysql-community-release-el7-5.noarch.rpmsudo rpm -yvh mysql-community-release-el7-5.noarch.rpmyum updatesudo yum install mysql-serversudo systemctl start mysqld 2. ç®¡ç†rootå¯†ç  é»˜è®¤å®‰è£…çš„mysqlæ˜¯æ²¡æœ‰å¯†ç çš„ 12345678910#æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼Œç›´æ¥å›è½¦å³å¯è¿›å…¥mysqlç»ˆç«¯mysql -u root -p#æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ç»™rootç”¨æˆ·è®¾ç½®å¯†ç set password for root@localhost&#x3D;password(&#39;123&#39;);#ç„¶åé€€å‡ºquit#å†æ¬¡ç™»é™†ï¼Œéœ€è¦å¯†ç è¿›å…¥mysql -u root -p#æˆ–è€…å¿«æ·æ–¹å¼è¿›å…¥mysql -uroot -p123 3. è®¾ç½®Mysqlçš„è®¿é—®æƒé™ è®¾ç½®æ‰€æœ‰ipå¯ä»¥è®¿é—®è¿™å°mysqlçš„å‘½ä»¤ï¼Œé»˜è®¤æƒ…å†µä¸‹åªæœ‰æœ¬æœºèƒ½è®¿é—®ï¼Œå¯¹å¤–æ˜¯ä¸å…¬å¼€çš„ 12345678910111213grant all on *.* to &#39;root&#39;@&#39;%&#39; identified by &#39;123&#39; with grant option;flush privileges;#å‘½ä»¤è¯´æ˜ï¼šgrant all ï¼šæ‰€æœ‰çš„æƒé™ç”¨allon *.*ï¼šåŒ¹é…åº“å.è¡¨åï¼Œ*.*æŒ‡çš„æ˜¯å…è®¸æ‰€æœ‰çš„åº“å’Œè¡¨è¢«è®¿é—®ã€‚&#39;root&#39;@&#39;%&#39;ï¼šç”¨æˆ·å@IPï¼Œæ³¨æ„ç”¨æˆ·åå’Œipéƒ½è¦ç”¨å•å¼•å·å¼•èµ·æ¥ipè¿™ä¸ªåœ°æ–¹ï¼Œæ”¯æŒlikeé€šé…ï¼Œæ¯”å¦‚%devï¼Œå…è®¸æ‰€æœ‰ä»¥devç»“å°¾çš„åŸŸåè®¿é—®%ä»£è¡¨æ‰€æœ‰çš„ip&#39;123&#39;ä»£è¡¨rootå¯†ç  4. mysqlæœ‰å…³çš„ç³»ç»Ÿç®¡ç†å‘½ä»¤ CentOS7ç®¡ç†Mysqlçš„å¯åŠ¨å’Œåœæ­¢ 123systemctl start mysqldsystemctl stop mysqldsystemctl status mysqld è½¬è‡ªï¼šhttp://mp.weixin.qq.com/s?__biz=MzAxMzE4MDI0NQ==&amp;mid=2650335219&amp;idx=1&amp;sn=38abc805b96fb7d4f497a90f28f377c2&amp;chksm=83aacbc9b4dd42dfbf2be8b83155124aeafd490234a9bcfbb6a94fa255d455fe8d04b4467da6&amp;scene=4#wechat_redirect","tags":[{"name":"CentOS7","slug":"CentOS7","permalink":"http://tech.noexception.cn/tags/CentOS7/"},{"name":"Mysql","slug":"Mysql","permalink":"http://tech.noexception.cn/tags/Mysql/"}]},{"title":"æ•°æ®ç»“æ„ä¸ç®—æ³•å¤ä¹ ï¼ˆä¸€ï¼‰","date":"2016-11-07T07:08:13.000Z","path":"2016/11/07/æ•°æ®ç»“æ„ä¸ç®—æ³•å¤ä¹ ï¼ˆä¸€ï¼‰/","text":"æœ¬ç¯‡ä¸ºå¤ä¹ æ•°æ®ç»“æ„ä¸ç®—æ³•çš„ç¬¬ä¸€ç¯‡ èƒŒåŒ…ã€é˜Ÿåˆ—å’Œæ ˆ API æ³›å‹å¯è¿­ä»£çš„åŸºç¡€é›†åˆæ•°æ®ç±»å‹çš„API èƒŒåŒ… public class Bag&lt;Item&gt; implements Iterable&lt;Item&gt; Bag() åˆ›å»ºä¸€ä¸ªç©ºèƒŒåŒ… void add(Item item) æ·»åŠ ä¸€ä¸ªå…ƒç´  boolean isEmpty() èƒŒåŒ…æ˜¯å¦ä¸ºç©º int size() èƒŒåŒ…ä¸­çš„å…ƒç´ æ•°é‡ å…ˆè¿›å…ˆå‡º(FIFO)é˜Ÿåˆ— public class Queue&lt;Item&gt; implements Iterable&lt;Item&gt; Queue() åˆ›å»ºç©ºé˜Ÿåˆ— void enqueue(Item item) æ·»åŠ ä¸€ä¸ªå…ƒç´  Item dequeue() åˆ é™¤æœ€æ—©æ·»åŠ çš„å…ƒç´  boolean isEmpty() é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º int size() é˜Ÿåˆ—ä¸­çš„å…ƒç´ æ•°é‡ ä¸‹å‹(åè¿›å…ˆå‡ºï¼ŒLIFO)æ ˆ public class Stack&lt;Item&gt; implements Iterable&lt;Item&gt; Stack() åˆ›å»ºä¸€ä¸ªç©ºæ ˆ void push(Item item) æ·»åŠ ä¸€ä¸ªå…ƒç´  Item pop() åˆ é™¤æœ€è¿‘æ·»åŠ çš„å…ƒç´  boolean isEmpty() æ ˆæ˜¯å¦ä¸ºç©º int size() æ ˆä¸­çš„å…ƒç´ æ•°é‡ æ³›å‹ é›†åˆç±»çš„æŠ½è±¡æ•°æ®ç±»å‹çš„ä¸€ä¸ªå…³é”®ç‰¹æ€§æ˜¯æˆ‘ä»¬åº”è¯¥å¯ä»¥ç”¨å®ƒä»¬å­˜å‚¨ä»»æ„ç±»å‹çš„æ•°æ®ã€‚ä¸€ç§ç‰¹åˆ«çš„Javaæœºåˆ¶èƒ½å¤Ÿåšåˆ°è¿™ä¸€ç‚¹ï¼Œå®ƒè¢«æˆä¸ºæ³›å‹ï¼Œä¹Ÿå«åšå‚æ•°åŒ–ç±»å‹ã€‚ åœ¨æ¯ä»½APIä¸­ï¼Œç±»ååçš„è®°å·å°†Itemå®šä¹‰ä¸ºä¸€ä¸ªç±»å‹å‚æ•°ï¼Œå®ƒä¸€ä¸ªè±¡å¾æ€§çš„å ä½ç¬¦ï¼Œè¡¨ç¤ºçš„æ˜¯ç”¨ä¾‹å°†ä¼šä½¿ç”¨çš„æŸç§å…·ä½“æ•°æ®ç±»å‹ã€‚å¯ä»¥å°†Stackç†è§£ä¸ºæŸç§å…ƒç´ çš„æ ˆã€‚ åœ¨åˆ›å»ºæ ˆæ—¶ï¼Œç”¨ä¾‹ä¼šæä¾›ä¸€ç§å…·ä½“çš„æ•°æ®ç±»å‹ï¼šæˆ‘ä»¬å¯ä»¥å°†Itemæ›¿æ¢ä¸ºä»»æ„å¼•ç”¨æ•°æ®ç±»å‹ï¼ˆItemå‡ºç°çš„æ¯ä¸ªåœ°æ–¹éƒ½æ˜¯å¦‚æ­¤ï¼‰ã€‚ è‡ªåŠ¨è£…ç®± ç±»å‹å‚æ•°å¿…é¡»è¢«å®ä¾‹åŒ–ä¸ºå¼•ç”¨ç±»å‹ï¼Œå› æ­¤Javaæœ‰ä¸€ç§ç‰¹æ®Šæœºåˆ¶æ¥ä½¿æ³›å‹ä»£ç èƒ½å¤Ÿå¤„ç†åŸå§‹æ•°æ®ç±»å‹ã€‚123Stack&lt;Integer&gt; stack = new Stack&lt;Integer&gt;();stack.push(17); //è‡ªåŠ¨è£…ç®±(int -&gt; Integer)int i = stack.pop(); //è‡ªåŠ¨æ‹†ç®±(Integer -&gt; int) è‡ªåŠ¨å°†ä¸€ä¸ªåŸå§‹æ•°æ®ç±»å‹è½¬æ¢ä¸ºä¸€ä¸ªå°è£…ç±»å‹è¢«æˆä¸ºè‡ªåŠ¨è£…ç®±ï¼Œè‡ªåŠ¨å°†ä¸€ä¸ªå°è£…ç±»å‹è½¬æ¢ä¸ºä¸€ä¸ªåŸå§‹æ•°æ®ç±»å‹è¢«æˆä¸ºè‡ªåŠ¨æ‹†ç®±ã€‚ å¯è¿­ä»£çš„é›†åˆç±»å‹ å¯¹äºè®¸å¤šåº”ç”¨åœºæ™¯ï¼Œç”¨ä¾‹çš„è¦æ±‚åªæ˜¯ç”¨æŸç§æ–¹å¼å¤„ç†é›†åˆä¸­çš„æ¯ä¸ªå…ƒç´ ï¼Œæˆ–è€…å«åšè¿­ä»£è®¿é—®é›†åˆä¸­çš„æ‰€æœ‰å…ƒç´ ã€‚ ä¾‹å¦‚ï¼Œå‡è®¾ç”¨ä¾‹åœ¨Queueä¸­ç»´æŠ¤ä¸€ä¸ªäº¤æ˜“é›†åˆï¼š 123456Queue&lt;Transaction&gt; collection = new Queue&lt;Transaction&gt;();//å¦‚æœé›†åˆæ˜¯å¯è¿­ä»£çš„ï¼Œç”¨ä¾‹ç”¨ä¸€è¡Œè¯­å¥å³å¯æ‰“å°å‡ºäº¤æ˜“çš„åˆ—è¡¨ï¼šfor(Transaction t : collection)&#123; StdOUt.println(t);&#125;//è¿™ç§è¯­æ³•å«åšforeachè¯­å¥ï¼šå¯ä»¥å°†forè¯­å¥çœ‹åšå¯¹äºé›†åˆä¸­çš„æ¯ä¸ªäº¤æ˜“t(foreach)ï¼Œæ‰§è¡Œä¸€ä¸‹ä»£ç æ–­ã€‚ èƒŒåŒ… èƒŒåŒ…å¸‚ä¸€ç§ä¸æ”¯æŒä»ä¸­åˆ é™¤å…ƒç´ çš„é›†åˆæ•°æ®ç±»å‹â€”â€”å®ƒçš„ç›®çš„å°±æ˜¯å¸®åŠ©ç”¨ä¾‹æ‰‹æœºå…ƒç´ å¹¶è¿­ä»£ä¾¿åˆ©æ‰€æœ‰æ”¶é›†åˆ°çš„å…ƒç´ ï¼ˆç”¨ä¾‹ä¹Ÿå¯ä»¥æ£€æŸ¥èƒŒåŒ…æ˜¯å¦ä¸ºç©ºæˆ–è€…è·å–èƒŒåŒ…ä¸­çš„å…ƒç´ æ•°é‡ï¼‰ã€‚ 12345678910111213141516171819202122public class Stats&#123; public static void main(String[] args)&#123; Bag&lt;Double&gt; numbers = new Bag&lt;Double&gt;(); while(!StdIn.isEmpty()) numbers.add(StdIn.readDouble()); int N = numbers.size(); double sum = 0.0; for(double x: numbers)&#123; sum+=x; &#125; double mean = sum/N; sum = 0.0; for(double x : numbers)&#123; sum += (x-mean)*(x-mean); &#125; double std = Math.sqrt(sum/(N-1)); StdOUt.printf(\"Mean: %.2f\\n\", mean); StdOUt.printf(\"Std dev: %.2f\\n\", std); &#125;&#125; ä¸Šè¿°çš„Statsç±»æ˜¯Bagçš„ä¸€ä¸ªå…¸å‹ç”¨ä¾‹ã€‚å®ƒçš„ä»»åŠ¡æ˜¯ç®€å•çš„è®¡ç®—æ ‡å‡†è¾“å…¥ä¸­çš„æ‰€æœ‰doubleå€¼çš„å¹³å‡å€¼å’Œæ ·æœ¬æ ‡å‡†å·®ã€‚å¦‚æœæ ‡å‡†è¾“å…¥ä¸­æœ‰Nä¸ªæ•°å­—ï¼Œé‚£ä¹ˆå¹³å‡å€¼ä¸ºå®ƒä»¬çš„å’Œé™¤ä»¥Nï¼Œæ ·æœ¬æ ‡å‡†å·®ä¸ºæ¯ä¸ªå€¼å’Œå¹³å‡å€¼åªå·®çš„å¹³æ–¹ä¹‹å’Œé™¤ä»¥N-1ä¹‹åçš„å¹³æ–¹æ ¹ã€‚ åœ¨è¿™äº›è®¡ç®—ä¸­ï¼Œæ•°çš„è®¡ç®—é¡ºåºå’Œç»“æœæ— å…³ï¼Œå› æ­¤æˆ‘ä»¬å°†å®ƒä»¬ä¿å­˜åœ¨ä¸€ä¸ªBagå¯¹è±¡ä¸­å¹¶ä½¿ç”¨foreachè¯­æ³•æ¥è®¡ç®—æ¯ä¸ªå’Œã€‚ **æ³¨æ„:**ä¸éœ€è¦ä¿å­˜æ‰€æœ‰çš„æ•°ä¹Ÿå¯ä»¥è®¡ç®—æ ‡å‡†å·®ï¼ˆå°±åƒæˆ‘ä»¬åœ¨Accumulatorä¸­è®¡ç®—å¹³å‡å€¼é‚£æ ·ï¼‰ã€‚ å…ˆè¿›å…ˆå‡ºé˜Ÿåˆ— å…ˆè¿›å…ˆå‡ºé˜Ÿåˆ—ï¼ˆæˆ–ç®€ç§°é˜Ÿåˆ—ï¼‰æ˜¯ä¸€ç§åŸºäºå…ˆè¿›å…ˆå‡ºï¼ˆFIFOï¼‰ç­–ç•¥çš„é›†åˆç±»å‹ã€‚ åœ¨æåˆ°å…¬å¹³æ—¶å¤§å¤šæ•°çƒ­çš„ç¬¬ä¸€ä¸ªæƒ³æ³•å°±æ˜¯åº”è¯¥ä¼˜å…ˆæœåŠ¡ç­‰å¾…æ—¶é—´æœ€ä¹…çš„äººï¼Œè¿™æ­£æ˜¯å…ˆè¿›å…ˆå‡ºç­–ç•¥çš„å‡†åˆ™ã€‚é˜Ÿåˆ—æ˜¯è®¸å¤šæ—¥å¸¸ç°è±¡çš„è‡ªç„¶æ¨¡å‹ï¼Œå®ƒæ˜¯æ— æ•°åº”ç”¨ç¨‹åºçš„æ ¸å¿ƒã€‚ å½“ç”¨ä¾‹ä½¿ç”¨foreachè¯­å¥è¿­ä»£è®¿é—®é˜Ÿåˆ—ä¸­çš„å…ƒç´ æ—¶ï¼Œå…ƒç´ çš„å¤„ç†é¡ºåºå°±æ˜¯å®ƒä»¬è¢«æ·»åŠ åˆ°é˜Ÿåˆ—ä¸­çš„é¡ºåºã€‚ ä¸‹å‹æ ˆ ä¸‹å‹æ ˆï¼ˆæˆ–ç®€ç§°æ ˆï¼‰æ˜¯ä¸€ç§åŸºäºåè¿›å…ˆå‡ºï¼ˆLIFOï¼‰ç­–ç•¥çš„é›†åˆç±»å‹ã€‚ å½“ä½ çš„é‚®ä»¶åœ¨æ¡Œä¸Šæ”¾æˆä¸€å æ—¶ï¼Œä½¿ç”¨çš„å°±æ˜¯æ ˆã€‚ è¿™ç§ç­–ç•¥çš„å¥½å¤„æ˜¯æˆ‘ä»¬èƒ½å¤ŸåŠæ—¶çœ‹åˆ°æ„Ÿå…´è¶£çš„é‚®ä»¶ï¼Œåå¤„æ˜¯å¦‚æœä½ ä¸æŠŠæ ˆæ¸…ç©ºï¼ŒæŸäº›è¾ƒæ—©çš„é‚®ä»¶å¯èƒ½æ°¸è¿œä¸ä¼šè¢«é˜…è¯»ã€‚ å½“ç”¨ä¾‹ä½¿ç”¨foreachè¯­å¥è¿­ä»£éå†æ ˆä¸­çš„å…ƒç´ æ—¶ï¼Œå…ƒç´ å¤„ç†é¡ºåºå’Œå®ƒä»¬è¢«å‹å…¥æ ˆçš„é¡ºåºæ­£å¥½ç›¸åã€‚ åœ¨åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨æ ˆè¿­ä»£å™¨çš„ä¸€ä¸ªå…¸å‹åŸå› æ˜¯åœ¨ç”¨é›†åˆä¿å­˜å…ƒç´ çš„åŒæ—¶é¢ å€’ä»–ä»¬çš„ç›¸å¯¹é¡ºåºã€‚ 12345678910public class Reserse&#123; public static void main(String[] args)&#123; Stack&lt;Integer&gt; stack; stack = new Stack&lt;Integer&gt;(); while(!StdIn.isEmpty()) stack.push(StdIn.readInt()); for(int i : stack) StdOUt.println(i); &#125;&#125; ç®—æœ¯è¡¨è¾¾å¼æ±‚å€¼ E.W.Dijkstraåœ¨20ä¸–çºª60å¹´ä»£å‘æ˜äº†ä¸€ä¸ªéå¸¸ç®€å•çš„ç®—æ³•ï¼Œç”¨ä¸¤ä¸ªæ ˆï¼ˆä¸€ä¸ªç”¨äºä¿å­˜è¿ç®—ç¬¦ï¼Œä¸€ä¸ªç”¨äºä¿å­˜æ“ä½œæ•°ï¼‰å®Œæˆäº†è¿™ä¸ªä»»åŠ¡ï¼Œå…¶å®ç°è¿‡ç¨‹å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930//Dijkstraçš„åŒæ ˆç®—æœ¯è¡¨è¾¾å¼æ±‚å€¼ç®—æ³•public class Evaluate&#123; public static void main(String[] args)&#123; Stack&lt;String&gt; ops = new Stack&lt;String&gt;(); Stack&lt;Double&gt; vals = new Stack&lt;Double&gt;(); while(!StdIn.isEmpty())&#123; //è¯»å–å­—ç¬¦ï¼Œå¦‚æœæ˜¯è¿ç®—ç¬¦åˆ™å‹å…¥æ ˆ String s = StdIn.readString(); if(s.equals(\"(\")); else if(s.equals(\"+\")) ops.push(s); else if(s.equals(\"-\")) ops.push(s); else if(s.equals(\"*\")) ops.push(s); else if(s.equals(\"/\")) ops.push(s); else if(s.equals(\"sqrt\")) ops.push(s); else if(s.equals(\")\"))&#123; //å¦‚æœå­—ç¬¦ä¸ºâ€œ)â€ï¼Œå¼¹å‡ºè¿ç®—ç¬¦å’Œæ“ä½œæ•°ï¼Œè®¡ç®—ç»“æœå¹¶å‹å…¥æ ˆ String op = ops.pop(); double v = vals.pop(); if (op.equals(\"+\")) v = vals.pop() + v; else if (op.equals(\"-\")) v = vals.pop() - v; else if (op.equals(\"*\")) v = vals.pop() * v; else if (op.equals(\"/\")) v = vals.pop() / v; else if (op.equals(\"sqrt\")) v = Math.sqrt(v); vals.push(v); &#125; //å¦‚æœå­—ç¬¦æ—¢éè¿ç®—ç¬¦ä¹Ÿä¸æ˜¯æ‹¬å·ï¼Œå°†å®ƒä½œä¸ºdoubleå€¼å‹å…¥æ ˆ else vals.push(Double.parseDouble(s)); &#125; StdOut.println(vals.pop()); &#125;&#125; è¿™æ®µStackçš„ç”¨ä¾‹ä½¿ç”¨äº†ä¸¤ä¸ªæ ˆæ¥è®¡ç®—è¡¨è¾¾å¼çš„å€¼ã€‚å®ƒå±•ç¤ºäº†ä¸€ç§é‡è¦çš„è®¡ç®—æ¨¡å‹ï¼šå°†ä¸€ä¸ªå­—ç¬¦ä¸²è§£é‡Šä¸ºä¸€æ®µç¨‹åºå¹¶æ‰§è¡Œè¯¥ç¨‹åºå¾—åˆ°ç»“æœã€‚æœ‰äº†æ³›å‹ï¼Œæˆ‘ä»¬åªéœ€å®ç°Stackä¸€æ¬¡å³å¯ä½¿ç”¨Stringå€¼çš„æ ˆå’ŒDoubleå€¼çš„æ ˆã€‚ è¡¨è¾¾å¼ç”±æ‹¬å·ã€è¿ç®—ç¬¦å’Œæ“ä½œæ•°ï¼ˆæ•°ç»„ï¼‰ç»„æˆã€‚æˆ‘ä»¬æ ¹æ®ä¸€ä¸‹4ç§æƒ…å†µä»å·¦åˆ°å³é€ä¸ªå°†è¿™äº›å®ä½“é€å…¥æ ˆå¤„ç†ï¼š å°†æ“ä½œæ•°å‹å…¥æ“ä½œæ•°æ ˆï¼› å°†è¿ç®—ç¬¦å‹å…¥è¿ç®—ç¬¦æ ˆï¼› å¿½ç•¥å·¦æ‹¬å·ï¼› åœ¨é‡åˆ°å³æ‹¬å·æ—¶ï¼Œå¼¹å‡ºä¸€ä¸ªè¿ç®—ç¬¦ï¼Œå¼¹å‡ºæ‰€éœ€æ•°é‡çš„æ“ä½œæ•°ï¼Œå¹¶å°†è¿ç®—ç¬¦å’Œæ“ä½œæ•°çš„è¿ç®—ç»“æœå‹å…¥æ“ä½œæ•°æ ˆä¸­ã€‚ æœªå®Œå¾…ç»­â€¦â€¦","tags":[{"name":"èƒŒåŒ…","slug":"èƒŒåŒ…","permalink":"http://tech.noexception.cn/tags/%E8%83%8C%E5%8C%85/"},{"name":"é˜Ÿåˆ—","slug":"é˜Ÿåˆ—","permalink":"http://tech.noexception.cn/tags/%E9%98%9F%E5%88%97/"},{"name":"æ ˆ","slug":"æ ˆ","permalink":"http://tech.noexception.cn/tags/%E6%A0%88/"}]},{"title":"MathJaxç›¸å…³","date":"2016-11-05T07:14:41.000Z","path":"2016/11/05/MathJaxç›¸å…³-md/","text":"æœ¬ç¯‡è®°å½•äº†ä¸€äº›å’ŒMathJaxç›¸å…³çš„ä¸œè¥¿ï¼Œä»¥åŠæ•°å­¦å…¬å¼ä¹¦å†™çš„è§„åˆ™è¿˜æœ‰ä¸€äº›å¸¸ç”¨çš„å¸Œè…Šå­—æ¯ å¸Œè…Šå­—æ¯ å­—æ¯åç§° å¤§å†™ MarkdownåŸæ–‡ å°å†™ MarkdownåŸæ–‡ alpha AAA A Î±\\alphaÎ± \\alpha beta BBB B Î²\\betaÎ² \\beta gamma Î“\\GammaÎ“ \\Gamma Î³\\gammaÎ³ \\gamma delta Î”\\DeltaÎ” \\Delta Î´\\deltaÎ´ \\delta epsilon EEE E Ïµ\\epsilonÏµ \\epsilon Îµ\\varepsilonÎµ \\varepsilon zeta ZZZ Z Î¶\\zetaÎ¶ \\zeta eta HHH H Î·\\etaÎ· \\eta theta Î˜\\ThetaÎ˜ \\Theta Î¸\\thetaÎ¸ \\theta iota III I Î¹\\iotaÎ¹ \\iota kappa KKK K Îº\\kappaÎº \\kappa lambda Î›\\LambdaÎ› \\Lambda Î»\\lambdaÎ» \\lambda mu MMM M Î¼\\muÎ¼ \\mu nu NNN N Î½\\nuÎ½ \\nu xi Î\\XiÎ \\Xi Î¾\\xiÎ¾ \\xi omicron OOO O Î¿\\omicronÎ¿ \\omicron pi Î \\PiÎ  \\Pi Ï€\\piÏ€ \\pi rho PPP P Ï\\rhoÏ \\rho sigma Î£\\SigmaÎ£ \\Sigma Ïƒ\\sigmaÏƒ \\sigma tau TTT T Ï„\\tauÏ„ \\tau upsilon Î¥\\UpsilonÎ¥ \\Upsilon Ï…\\upsilonÏ… \\upsilon phi Î¦\\PhiÎ¦ \\Phi Ï•\\phiÏ• \\phi Ï†\\varphiÏ† \\varphi chi XXX X Ï‡\\chiÏ‡ \\chi psi Î¨\\PsiÎ¨ \\Psi Ïˆ\\psiÏˆ \\psi omega Î©\\OmegaÎ© \\Omega Ï‰\\omegaÏ‰ \\omega æ‹¬å· å°æ‹¬å·ä¸ä¸­æ‹¬å·å¯ä»¥ç›´æ¥ä½¿ç”¨ ç¬¦å· MarkdownåŸæ–‡ {\\lbrace{ \\lbrace }\\rbrace} \\rbrace âŸ¨\\langleâŸ¨ \\langle âŸ©\\rangleâŸ© \\rangle âŒˆ\\lceilâŒˆ \\lceil âŒ‰\\rceilâŒ‰ \\rceil âŒŠ\\lfloorâŒŠ \\lfloor âŒ‹\\rfloorâŒ‹ \\rfloor MathJaxå…¬å¼ç¼–è¾‘ è¡Œå†…å…¬å¼ï¼šè¡Œå†…å…¬å¼å¯ä»¥ä¸å…¶ä»–å†…å®¹æ˜¾ç¤ºåœ¨åŒä¸€è¡Œ - ç”¨æ³•ï¼šç”¨ä¸¤ä¸ªç¾å…ƒç¬¦$åŒ…è£¹ä½å…¬å¼å³å¯ã€‚ - $f(x)=ax+b$ è¡Œé—´å…¬å¼ï¼šè¡Œé—´å…¬å¼ä¼šå æ®å•ç‹¬çš„è¡Œã€‚ - ç”¨æ³•ï¼šå…¬å¼å‰åå„æ·»åŠ ä¸¤ä¸ªç¾å…ƒç¬¦ $$ f(x)=ax+b $$ å‡ ä¸ªç‰¹æ®Šç¬¦å· - **^è¡¨ç¤ºä¸Šæ ‡** - `$a^2$` - $a^2$ - **\\_è¡¨ç¤ºä¸‹æ ‡** - ç”±äºmarkdownä¸MathJaxçš„æ¸²æŸ“æœ‰å†²çªï¼Œä¸‹åˆ’çº¿å¿…é¡»ä½¿ç”¨åæ–œæ è½¬ä¹‰ - `$a\\_2$` - $a\\_2$ - **{}ç”¨äºåˆ†ç»„** - ä¸¾ä¸ªä¾‹å­ï¼Œaçš„bä¹˜cæ¬¡æ–¹ï¼Œéœ€è¦å¯¹bcè¿›è¡Œåˆ†ç»„ï¼Œå¦åˆ™å°±å˜æˆäº†açš„bæ¬¡æ–¹ä¹˜cã€‚ - `$a^{bc}$` - $a^{bc}$ - **å…¬å¼æ¨å€’è¿‡ç¨‹** - æœ‰æ—¶ä¸€è¡Œæ”¾ä¸ä¸‹æ‰€æœ‰çš„æ¨å¯¼è¿‡ç¨‹ï¼Œæ”¾åˆ°å¤šè¡Œå¹¶ä½¿å¾—æ¯è¡Œçš„ç­‰å·å¯¹é½å¯ä»¥å¤§å¤§å¢åŠ å¯è¯»æ€§ã€‚ - ä¸‹é¢è¿™ä¸ªä¾‹å­åŸå§‹å½¢å¼æ˜¯Aï¼Œç„¶åç»è¿‡ä¸‰æ­¥æ¨å¯¼æœ€ç»ˆå¾—åˆ°äº†Dã€‚ - ä»¥ç¬¦å· &amp; çš„ä¸‹ä¸€ä¸ªå­—ç¬¦è¿›è¡Œå¯¹é½ï¼Œæœ«å°¾çš„ä¸‰ä¸ªåæ–œæ \\ç”¨æ¥åˆ†å‰²è¡Œã€‚ $$ \\begin {aligned} A&amp;=B \\\\\\ &amp;=C\\\\\\ &amp;=D \\end {aligned} $$ 1234567$$\\begin &#123;aligned&#125;A&amp;&#x3D;B \\\\\\&amp;&#x3D;C\\\\\\&amp;&#x3D;D\\end &#123;aligned&#125;$$ åˆ†æ®µå‡½æ•° - ä»¥ç¬¦å· &amp; çš„ä¸‹ä¸€ä¸ªå­—ç¬¦è¿›è¡Œå¯¹é½ï¼Œæœ«å°¾çš„ä¸‰ä¸ªåæ–œæ \\ç”¨æ¥åˆ†å‰²è¡Œã€‚ $$ sign(x)=\\begin {cases} +1, &amp; x\\geq0 \\\\\\ -1, &amp; x&lt;0 \\end {cases} $$ 123456$$sign(x)&#x3D;\\begin &#123;cases&#125;+1, &amp; x\\geq0 \\\\\\-1, &amp; x\\&lt;0\\end &#123;cases&#125;$$ åˆ†æ•°è¡¨ç¤º - ç”¨æ³•ï¼š\\fracåé¢çš„ä¸¤ä¸ªåˆ†ç»„åˆ†åˆ«ä½œä¸ºåˆ†å­å’Œåˆ†æ¯ã€‚ - $\\frac{1}{6}$ - `$\\frac{1}{6}$` MathJaxç”¨æ³•åŠä¾‹å­ è¾“å…¥å¼€æ–¹ - \\sqrt{2} å’Œ \\sqrt{3} - $\\sqrt{2}$ å’Œ $\\sqrt{3}$ è¾“å…¥çœç•¥å· - æ•°å­¦å…¬å¼ä¸­å¸¸è§çš„çœç•¥å·æœ‰ä¸¤ç§ï¼Œ\\ldotsè¡¨ç¤ºä¸æ–‡æœ¬åº•çº¿å¯¹é½çš„çœç•¥å·ï¼Œ\\cdotsè¡¨ç¤ºä¸æ–‡æœ¬ä¸­çº¿å¯¹é½çš„çœç•¥å·ã€‚ - f(x1,x2,\\ldots,xn) = x1^2 + x2^2 + \\cdots + xn^2 - $f(x1,x2,\\ldots,xn) = x1^2 + x2^2 + \\cdots + xn^2$ è¾“å…¥çŸ¢é‡ - \\vec{a} \\cdot \\vec{b}=0 - $\\vec{a} \\cdot \\vec{b}=0$ è¾“å…¥ç§¯åˆ† - \\int_0^1 x^2 {\\rm d}x - $\\int_0^1 x^2 {\\rm d}x$ æé™è¿ç®— - \\lim_{n \\rightarrow +\\infty} \\frac{1}{n(n+1)} - $\\lim_{n \\rightarrow +\\infty} \\frac{1}{n(n+1)}$ ç´¯åŠ ã€ç´¯ä¹˜è¿ç®— - \\sum{i=0}^n \\frac{1}{i^2} å’Œ \\prod{i=0}^n \\frac{1}{i^2} - $\\sum{i=0}^n \\frac{1}{i^2} å’Œ \\prod{i=0}^n \\frac{1}{i^2}$ å…¶ä»–ç‰¹æ®Šå­—ç¬¦ å…³ç³»è¿ç®—ç¬¦ï¼š ç¬¦å· è¡¨è¾¾å¼ Â±\\pmÂ± \\pm Ã—\\timesÃ— \\times Ã·\\divÃ· \\div âˆ£\\midâˆ£ \\mid âˆ¤\\nmidâˆ¤ \\nmid â‹…\\cdotâ‹… \\cdot âˆ˜\\circâˆ˜ \\circ âˆ—\\astâˆ— \\ast â¨€\\bigodotâ¨€ \\bigodot â¨‚\\bigotimesâ¨‚ \\bigotimes â¨\\bigoplusâ¨ \\bigoplus â‰¤\\leqâ‰¤ \\leq â‰¥\\geqâ‰¥ \\geq â‰ \\neqî€ â€‹= \\neq â‰ˆ\\approxâ‰ˆ \\approx â‰¡\\equivâ‰¡ \\equiv âˆ‘\\sumâˆ‘ \\sum âˆ\\prodâˆ \\prod coprodcoprodcoprod \\coprod é›†åˆè¿ç®—ç¬¦ï¼š ç¬¦å· è¡¨è¾¾å¼ âˆˆ\\inâˆˆ \\in âˆ‰\\notinâˆˆ/â€‹ \\notin âŠ‚\\subsetâŠ‚ \\subset âŠ†\\subseteqâŠ† \\subseteq âŠ‡\\supseteqâŠ‡ \\supseteq â‹‚\\bigcapâ‹‚ \\bigcap â‹ƒ\\bigcupâ‹ƒ \\bigcup â‹\\bigveeâ‹ \\bigvee â‹€\\bigwedgeâ‹€ \\bigwedge â¨„\\biguplusâ¨„ \\biguplus â¨†\\bigsqcupâ¨† \\bigsqcup å¯¹æ•°è¿ç®—ç¬¦ï¼š ç¬¦å· è¡¨è¾¾å¼ logâ¡\\loglog \\log lgâ¡\\lglg \\lg lnâ¡\\lnln \\ln ä¸‰è§’å‡½æ•°è¿ç®—ç¬¦ï¼š ç¬¦å· è¡¨è¾¾å¼ âŠ¥\\botâŠ¥ \\bot âˆ \\angleâˆ  \\angle 30âˆ˜30^\\circ30âˆ˜ 30^\\circ sinâ¡\\sinsin \\sin cosâ¡\\coscos \\cos tanâ¡\\tantan \\tan cotâ¡\\cotcot \\cot secâ¡\\secsec \\sec cscâ¡\\csccsc \\csc å¾®ç§¯åˆ†è¿ç®—ç¬¦ï¼š ç¬¦å· è¡¨è¾¾å¼ â€²\\primeâ€² \\prime âˆ«\\intâˆ« \\int âˆ¬\\iintâˆ¬ \\iint âˆ­\\iiintâˆ­ \\iiint \\iiiint \\iiiint âˆ®\\ointâˆ® \\oint limâ¡\\limlim \\lim limâ¡\\limlim \\lim âˆ\\inftyâˆ \\infty âˆ‡\\nablaâˆ‡ \\nabla é€»è¾‘è¿ç®—ç¬¦ ç¬¦å· è¡¨è¾¾å¼ âˆµ\\becauseâˆµ \\because âˆ´\\thereforeâˆ´ \\therefore âˆ€\\forallâˆ€ \\forall âˆƒ\\existsâˆƒ \\exists =Ì¸\\not=î€ â€‹= \\not= âŠ‚Ì¸\\not\\subsetî€ â€‹âŠ‚ \\not\\subset æˆ´å¸½ç¬¦å· ç¬¦å· è¡¨è¾¾å¼ y^\\hat{y}y^â€‹ \\hat{y} yË‡\\check{y}yË‡â€‹ \\check{y} yË˜\\breve{y}yË˜â€‹ \\breve{y} è¿çº¿ç¬¦å· ç¬¦å· è¡¨è¾¾å¼ a+b+c+dâ€¾\\overline{a+b+c+d}a+b+c+dâ€‹ \\overline{a+b+c+d} a+b+c+dâ€¾\\underline{a+b+c+d}a+b+c+dâ€‹ \\underline{a+b+c+d} a+b+câŸ1.0+dâ2.0\\overbrace{a+\\underbrace{b+c}{1.0}+d}^{2.0}a+b+câ€‹1.0+dâ€‹2.0â€‹ \\overbrace{a+\\underbrace{b+c}{1.0}+d}^{2.0} ç®­å¤´ç¬¦å·ï¼š ç¬¦å· è¡¨è¾¾å¼ â†‘\\uparrowâ†‘ \\uparrow â†“\\downarrowâ†“ \\downarrow â‡‘\\Uparrowâ‡‘ \\Uparrow â‡“\\Downarrowâ‡“ \\Downarrow â†’\\rightarrowâ†’ \\rightarrow â†\\leftarrowâ† \\leftarrow â‡’\\Rightarrowâ‡’ \\Rightarrow â‡\\Leftarrowâ‡ \\Leftarrow âŸ¶\\longrightarrowâŸ¶ \\longrightarrow âŸµ\\longleftarrowâŸµ \\longleftarrow âŸ¹\\LongrightarrowâŸ¹ \\Longrightarrow âŸ¸\\LongleftarrowâŸ¸ \\Longleftarrow è¦è¾“å‡ºå­—ç¬¦ ç©ºæ ¼ # $ % &amp; _ { } ï¼Œç”¨å‘½ä»¤ï¼š \\ç©ºæ ¼ # $ % &amp; _ { } è¦å¯¹å…¬å¼çš„æŸä¸€éƒ¨åˆ†å­—ç¬¦è¿›è¡Œå­—ä½“è½¬æ¢ï¼Œå¯ä»¥ç”¨{\\rm éœ€è½¬æ¢çš„éƒ¨åˆ†å­—ç¬¦}å‘½ä»¤ï¼Œå…¶ä¸­\\rmå¯ä»¥å‚ç…§ä¸‹è¡¨é€‰æ‹©åˆé€‚çš„å­—ä½“ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå…¬å¼é»˜è®¤ä¸ºæ„å¤§åˆ©ä½“ã€‚ ç¬¦å· æ„ä¹‰ \\rm ç½—é©¬ä½“ \\it æ„å¤§åˆ©ä½“ \\bf é»‘ä½“ \\cal èŠ±ä½“ \\sl å€¾æ–œä½“ \\sf ç­‰çº¿ä½“ \\mit æ•°å­¦æ–œä½“ \\tt æ‰“å­—æœºå­—ä½“ \\sc å°ä½“å¤§å†™å­—æ¯","tags":[{"name":"MathJax","slug":"MathJax","permalink":"http://tech.noexception.cn/tags/MathJax/"}]},{"title":"C++è¯»ä¹¦ç¬”è®°â€”â€”å‡½æ•°","date":"2016-10-08T07:03:22.000Z","path":"2016/10/08/C-è¯»ä¹¦ç¬”è®°â€”â€”å‡½æ•°/","text":"æ•´ç†è¯»ä¹¦ç¬”è®°ç³»åˆ—ã€‚ C++ä¸­çš„å‡½æ•°ä¼ é€’å¤§è‡´çš„åˆ†ä¸ºä¸¤ç±»ï¼š å½“å‡½æ•°å‚æ•°ä¸ºå¼•ç”¨ç±»å‹æ—¶ï¼Œå®ƒå¯¹åº”çš„å®å‚è¢«å¼•ç”¨ä¼ é€’ï¼Œæˆ–è€…å‡½æ•°è¢«ä¼ å¼•ç”¨è°ƒç”¨ã€‚å’Œå…¶ä»–å¼•ç”¨ä¸€æ ·ï¼Œå¼•ç”¨å½¢å‚ä¹Ÿæ˜¯å®ƒç»‘å®šçš„å¯¹è±¡åˆ«åï¼›ä¹Ÿå°±æ˜¯è¯´ï¼Œå¼•ç”¨å½¢å‚æ˜¯å®ƒå¯¹åº”çš„å®å‚çš„åˆ«åã€‚ å½“å®å‚çš„å€¼è¢«æ‹·è´ç»™å½¢å‚æ—¶ï¼Œå½¢å‚å’Œå®å‚æ˜¯ä¸¤ä¸ªç›¸äº’ç‹¬ç«‹çš„å¯¹è±¡ã€‚æˆ‘ä»¬è¯´è¿™æ ·çš„å®å‚è¢«å€¼ä¼ é€’ï¼Œæˆ–è€…å‡½æ•°è¢«ä¼ å€¼è°ƒç”¨ã€‚ 1. ä¼ å€¼å‚æ•° å½“åˆå§‹åŒ–ä¸€ä¸ªéå¼•ç”¨çš„å˜é‡æ—¶ï¼Œåˆå§‹å€¼è¢«æ‹·è´ç»™å˜é‡ã€‚æ­¤æ—¶ï¼Œå¯¹å˜é‡çš„æ”¹åŠ¨ä¸ä¼šå½±å“åˆå§‹å€¼ï¼› æŒ‡é’ˆå½¢å‚ æŒ‡é’ˆçš„è¡Œä¸ºå’Œå…¶ä»–éå¼•ç”¨ç±»å‹ä¸€æ ·ã€‚å½“æ‰§è¡ŒæŒ‡é’ˆæ‹·è´æ“ä½œæ—¶ï¼Œæ‹·è´çš„æ˜¯æŒ‡é’ˆçš„å€¼ã€‚æ‹·è´ä¹‹åï¼Œä¸¤ä¸ªæŒ‡é’ˆæ˜¯ä¸åŒçš„æŒ‡é’ˆã€‚å› ä¸ºæŒ‡é’ˆæ˜¯æˆ‘ä»¬å¯ä»¥è®¿é—®å®ƒæ‰€æŒ‡å‘çš„å¯¹è±¡ï¼Œæ‰€ä»¥é€šè¿‡æŒ‡é’ˆå¯ä»¥ä¿®æ”¹å®ƒæ‰€å€¼å¯¹è±¡çš„å€¼ã€‚ s","tags":[]},{"title":"jsçš„å­¦ä¹ ç¬”è®°â€”â€”ç»ˆç¯‡","date":"2016-09-25T08:26:41.000Z","path":"2016/09/25/jsçš„å­¦ä¹ ç¬”è®°â€”â€”é¢„å¤‡ç¯‡/","text":"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é‰´äºç›®å‰Javascriptå¦‚æ­¤ç«çˆ†ï¼Œå†åŠ ä¸Šè¿‘æ—¥å¾®ä¿¡å®£å¸ƒçš„â€œå°ç¨‹åºâ€åŠŸèƒ½ï¼Œå¯æƒ³ä»¥åçš„å‰ç«¯å·¥ç¨‹å¸ˆæ˜¯æœ‰å¤šä¹ˆçš„çƒ­é—¨äº† ä¸€ã€JSåŸºç¡€è¯­æ³•ï¼š å˜é‡çš„å£°æ˜ï¼š - è¯­æ³•ï¼š``var myname;`` å˜é‡èµ‹å€¼ï¼š - æˆ‘è§‰å¾—è¿™é‡Œæ²¡å•¥å¥½è¯´çš„äº†ã€‚å‡ ä¹æ‰€æœ‰ç¼–ç¨‹è¯­è¨€çš„èµ‹å€¼éƒ½å·®ä¸å¤šâ€¦ è¡¨è¾¾å¼ï¼š ç®—æœ¯è¡¨è¾¾å¼ï¼› å­—ç¬¦ä¸²è¡¨è¾¾å¼ï¼› å…³ç³»è¡¨è¾¾å¼ï¼ˆæ¯”è¾ƒï¼‰ï¼› é€»è¾‘è¡¨è¾¾å¼ã€‚ è¿ç®—ç¬¦ï¼š èµ‹å€¼è¿ç®—ç¬¦ï¼š - ``=`` - æ”¯æŒå¤åˆèµ‹å€¼è¿ç®—ç¬¦ï¼ŒåŒ…å«ä½†ä¸é™äº``+=, -=, /=`` 2. ç®—æœ¯è¿ç®—ç¬¦ï¼š - `+, -, *, /, %, ++(è‡ªåŠ ), --(è‡ªå‡)` 3. å­—ç¬¦ä¸²è¿ç®—ç¬¦ï¼š - `+, +=` 4. æ¯”è¾ƒè¿ç®—ç¬¦ï¼š - `==, !=, ===(æ¯”è¾ƒå€¼åŠç±»å‹), !==(æ¯”è¾ƒå€¼åŠç±»å‹), &lt;, &lt;=, &gt;, &gt;=` 5. é€»è¾‘è¿ç®—ç¬¦ï¼š - `&amp;&amp;(ä¸è¿ç®—), ||(æˆ–è¿ç®—), !(å–å)` 6. é€ä½è¿ç®—ç¬¦ï¼š 7. ç‰¹æ®Šè¿ç®—ç¬¦ï¼š 1. new è¿ç®—ç¬¦ï¼Œåˆ›å»ºå¯¹è±¡ï¼ˆå®ä¾‹ï¼‰ - è¯­æ³•ï¼š``å¯¹è±¡åç§° = new å¯¹è±¡ç±»å‹(å‚æ•°)`` 2. this è¿ç®—ç¬¦ï¼Œè¡¨ç¤ºå½“å‰å¯¹è±¡ - è¯­æ³•ï¼š``this.å±æ€§`` 3. æ¡ä»¶è¿ç®—ç¬¦ï¼š - è¯­æ³•ï¼š``&lt;æ¡ä»¶è¡¨è¾¾å¼&gt; ? ç¬¬ä¸€ä¸ªå€¼:ç¬¬äºŒä¸ªå€¼`` - è¯´æ˜ï¼šå½“æ¡ä»¶è¡¨è¾¾å¼ä¸ºçœŸæ—¶ï¼Œæ‰§è¡Œç¬¬ä¸€ä¸ªå€¼ï¼Œå¦åˆ™æ‰§è¡Œç¬¬äºŒä¸ªå€¼ï¼Œå¦‚æœæœ‰å­¦è¿‡å…¶ä»–é™æ€è¯­è¨€çš„åŒå­¦ï¼Œå°±å›å¾ˆç†Ÿæ‚‰äº†^_^ 8. è¿ç®—ç¬¦æ‰§è¡Œçš„ä¼˜é€‰é¡ºåºï¼š - ç®—æ•°&gt;æ¯”è¾ƒï¼é€»è¾‘ï¼èµ‹å€¼ äºŒã€æ•°ç»„ åˆ›å»ºæ•°ç»„ï¼š - ``var myarray = new Array()`` æ•°ç»„èµ‹å€¼ï¼š - `var myarray = new Array(66, 88, 99);` - `var myarray = [66, 88, 99];` å‘æ•°ç»„å¢åŠ ä¸€ä¸ªæ–°å…ƒç´  - ```javascript myarray[5] = 22; //åŸæ•°ç»„é•¿ä¸º4 12345678910 4. äºŒç»´æ•°ç»„ï¼š - å®šä¹‰æ–¹æ³•ä¸€ï¼š&#96;&#96;&#96;javascript var myarr &#x3D; new Array(); for(var i &#x3D; 0; i&lt;2; i++)&#123; myarr[i] &#x3D; new Array(); for(var j &#x3D; 0; j&lt;i; j++)&#123; myarr[i][j] &#x3D; i+j; &#125; &#125; - å®šä¹‰æ–¹æ³•äºŒï¼š 1var Myarr = [[0, 1, 2], [1, 2, 3]]; ä¸‰ã€äº‹ä»¶å“åº” ä¸»è¦äº‹ä»¶ï¼š äº‹ä»¶ è¯´æ˜ onclick é¼ æ ‡å•æœºäº‹ä»¶ onmouseover é¼ æ ‡ç»è¿‡äº‹ä»¶ onmouseout é¼ æ ‡ç§»å¼€äº‹ä»¶ onchange æ–‡æœ¬æ¡†å†…å®¹æ”¹å˜äº‹ä»¶ onselect æ–‡æœ¬æ¡†å†…å®¹è¢«é€‰ä¸­äº‹ä»¶ onfocus å…‰æ ‡èšç„¦ onblur å…‰æ ‡ç¦»å¼€ onload ç½‘é¡µå¯¼å…¥/åŠ è½½äº‹ä»¶ onunload å…³é—­ç½‘é¡µ/å¸è½½äº‹ä»¶ è·å–å…ƒç´ çš„å€¼å’Œè·å–æ–¹æ³•ï¼š - èµ‹å€¼ï¼š`document.getElementById(&quot;is&quot;).value=1;` - å–å€¼ï¼š`var=document.getElementById(&quot;id&quot;).value;` - ä½¿ç”¨ parseInt() å‡½æ•°å¯ä»¥è§£æä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ•´æ•°ã€‚ å››ã€JavaScriptå†…ç½®å¯¹è±¡ å¯¹è±¡ï¼š - JSä¸­æ‰€æœ‰äº‹ç‰©éƒ½æ˜¯å¯¹è±¡ï¼› - æ¯ä¸ªå¯¹è±¡éƒ½å¸¦æœ‰å±æ€§æ–¹æ³• Date æ—¥æœŸå¯¹è±¡ - è¯­æ³•ï¼š`var Udate = new Date();` - æ³¨æ„ï¼šé»˜è®¤åˆå§‹å€¼ä¸ºå½“å‰æ—¶é—´ï¼ˆå½“å‰ç”µè„‘ç³»ç»Ÿçš„æ—¶é—´ï¼‰ã€‚ - è®¿é—®æ–¹æ³•è¯­æ³•ï¼š&lt;æ—¥æœŸå¯¹è±¡&gt;.&lt;æ–¹æ³•&gt; - Dateå¯¹è±¡ä¸­å¤„ç†æ—¶é—´å’Œæ—¥æœŸçš„æ–¹æ³•ï¼š æ–¹æ³•åç§°åŠŸèƒ½æè¿°get/setDate()è¿”å›/è®¾ç½®æ—¥æœŸget/setFullYear()è¿”å›/è®¾ç½®å¹´ä»½ï¼Œç”¨å››ä½æ•°è¡¨ç¤ºget/setMonth()è¿”å›/è®¾ç½®æœˆä»½ï¼Œ0è¡¨ç¤ºä¸€æœˆï¼›ä»¥æ­¤ç±»æ¨get/setHours()è¿”å›/è®¾ç½®å°æ—¶ï¼Œ24å°æ—¶åˆ¶get/setMinutes()è¿”å›/è®¾ç½®åˆ†é’Ÿæ•°get/setSeconds()è¿”å›/è®¾ç½®ç§’é’Ÿæ•°get/setTime()è¿”å›/è®¾ç½®æ—¶é—´å†…ï¼ˆæ¯«ç§’ä¸ºå•ä½ï¼‰ è¿”å›/è®¾ç½®å¹´ä»½æ–¹æ³•ï¼š - eg: 1234//è·å–ï¼šmydate.getFullYear();//è®¾ç½®ï¼šmydate.setFullYear(); è¿”å›/è®¾ç½®æ˜ŸæœŸæ–¹æ³•ï¼š - eg: 123//æ–¹æ³•ï¼šgetDay();//è¿”å›çš„æ˜¯0-6çš„æ•°å­—ï¼Œ0è¡¨ç¤ºæ˜ŸæœŸå¤©ï¼Œè‹¥è¦è¿”å›å¯¹åº”çš„â€œæ˜ŸæœŸâ€ï¼Œå¯é€šè¿‡æ•°ç»„å®Œæˆã€‚ è¿”å›/è®¾ç½®æ—¶é—´æ–¹æ³•ï¼š - **æ–¹æ³•ï¼š**get/setTime(); - **æ³¨æ„ï¼š** 1. ä¸€å°æ—¶60åˆ†ï¼Œä¸€åˆ†60ç§’ï¼Œä¸€ç§’100æ¯«ç§’ï¼› 2. æ—¶é—´æ¨è¿Ÿ1å°æ—¶ï¼Œå°±æ˜¯``x.setTime(x.getTime()+60*60*100);`` Stringå­—ç¬¦ä¸²å¯¹è±¡ï¼ˆç±»JAVAï¼‰ - 123x.length; //è¿”å›å­—ç¬¦ä¸²çš„é•¿åº¦x.toUpperCase(); //è½¬å¤§å†™å­—æ¯x.toLowerCase(); //è½¬å°å†™å­—æ¯ è¿”å›æŒ‡å®šä½ç½®çš„å­—ç¬¦ï¼š - **è¯­æ³•ï¼š**``stringObject.charAt(index)`` - **å‚æ•°è¯´æ˜ï¼š** - `index`ï¼šå¿…éœ€ï¼Œè¡¨ç¤ºå­—ç¬¦ä¸²æŸä¸ªä½ç½®çš„æ•°å­—ï¼Œå³å­—ç¬¦åœ¨å­—ç¬¦ä¸²ä¸­çš„ä¸‹æ ‡ã€‚ è¿”å›æŒ‡å®šå­—ç¬¦ä¸²é¦–æ¬¡å‡ºç°çš„ä½ç½® - **è¯­æ³•ï¼š**``stringObject.indexOf(substring,starpos)`` - **å‚æ•°è¯´æ˜ï¼š** 1. ``substring``ï¼šå¿…éœ€ï¼Œè§„å®šéœ€æ£€ç´¢çš„å­—ç¬¦ä¸²å€¼ï¼› 2. ``starpos``ï¼šå¯é€‰çš„æ•´æ•°å‚æ•°ï¼Œè§„å®šåœ¨å­—ç¬¦ä¸²å¼€å§‹æ£€ç´¢çš„ä½ç½®ã€‚å®ƒçš„åˆæ³•å–å€¼æ˜¯0åˆ°stringObject.length-1ã€‚å¦‚çœç•¥è¯¥zé«˜æ•°ï¼Œåˆ™å°†å­—ç¬¦ä¸²çš„é¦–å­—ç¬¦å¼€å§‹æ£€ç´¢ã€‚ å­—ç¬¦ä¸²åˆ†å‰²split() - **è¯­æ³•:**``stringObject.split(separator,limit)`` - **å‚æ•°è¯´æ˜ï¼š** 1. `Separator`ï¼šå¿…éœ€ã€‚ä»è¯¥å‚æ•°æŒ‡å®šçš„åœ°æ–¹åˆ†å‰²stringObject; 2. `limit`ï¼šå¯é€‰å‚æ•°ï¼›åˆ†å‰²çš„æ¬¡æ•°ï¼Œå¦‚è®¾ç½®è¯¥å‚æ•°ï¼Œè¿”å›çš„å­ä¸²ä¸ä¼šå¤šäºè¿™ä¸ªå‚æ•°æŒ‡å®šçš„æ•°ç»„ï¼Œå¦‚æœæ— æ­¤å‚æ•°ä¸ºä¸é™åˆ¶æ¬¡æ•° æå–å­—ç¬¦ä¸²substring() - **åŠŸèƒ½ï¼š**ç”¨äºæå–å­—ç¬¦ä¸²ä¸­ä»‹äºä¸¤ä¸ªæŒ‡å®šä¸‹æ ‡ä¹‹é—´çš„å­—ç¬¦ã€‚ - **è¯­æ³•ï¼š**``stringObject.substring(starPos,stopPos)`` - **å‚æ•°è¯´æ˜ï¼š** 1. `starPos`ï¼š å¿…éœ€ï¼Œä¸€ä¸ªéè´Ÿçš„æ•´æ•°ï¼Œå¼€å§‹çš„ä½ç½®ï¼› 2. `stopPos`ï¼š å¯é€‰ï¼Œä¸€ä¸ªéè´Ÿçš„æ•´æ•°ã€‚ç»“æŸçš„ä½ç½®ï¼Œå¦‚æœçœç•¥æ­¤å‚æ•°ï¼Œé‚£ä¹ˆè¿”å›çš„å­ä¸²ä¼šä¸€ç›´åˆ°å­—ç¬¦ä¸²å¯¹è±¡çš„ç»“å°¾ã€‚ - **æ³¨æ„ï¼š** 1. è¿”å›çš„å†…å®¹æ˜¯ä»starå¼€å§‹ï¼ˆåŒ…å«starä½ç½®çš„å­—ç¬¦ï¼‰åˆ°stop-1å¤„çš„æ‰€æœ‰å­—ç¬¦ï¼Œå…¶é•¿åº¦ä¸ºstopå‡star 2. å¦‚æœå‚æ•°staråˆ°stopç›¸ç­‰ï¼Œé‚£ä¹ˆè¯¥æ–¹æ³•è¿”å›çš„å°±æ˜¯ä¸€ä¸ªç©ºä¸²ï¼ˆå³é•¿åº¦ä¸º0çš„å­—ç¬¦ä¸²ï¼‰ 3. å¦‚æœstaræ¯”stopå¤§ï¼Œé‚£è¯¥æ–¹æ³•åœ¨æå–å­—ç¬¦ä¸²ä¹‹å‰ä¼šå…ˆäº¤æ¢è¿™ä¸¤ä¸ªå‚æ•° æå–æŒ‡å®šæ•°ç›®çš„å­—ç¬¦substr() - **åŠŸèƒ½ï¼š**ä»å­—ç¬¦ä¸²ä¸­æå–ä»starPosä½ç½®å¼€å§‹çš„æŒ‡å®šæ•°ç›®çš„å­—ç¬¦ä¸² - **è¯­æ³•ï¼š**``stringObject.substr(starPos,length)`` - **å‚æ•°è¯´æ˜ï¼š** 1. ``starPos``ï¼šå¿…éœ€ï¼Œè¦æå–çš„å­ä¸²èµ·å§‹ä½ç½®ã€‚å¿…éœ€æ˜¯æ•°å€¼ã€‚ 2. `length`ï¼šå¯é€‰ï¼Œæå–å­—ç¬¦ä¸²å­ä¸²çš„é•¿åº¦ï¼Œå¦‚æœçœç•¥ï¼Œè¿”å›ä»`stringObject`çš„å¼€å§‹ä½ç½®starPosåˆ°stringObjectçš„ç»“å°¾çš„å­—ç¬¦ - **æ³¨æ„ï¼š** - å¦‚æœå‚æ•°starPosæ˜¯è´Ÿæ•°ï¼Œä»å­—ç¬¦ä¸²çš„å°¾éƒ¨å¼€å§‹ç®—èµ·çš„ä½ç½®ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œ-1æŒ‡å­—ç¬¦ä¸²æœ€åä¸€ä¸ªå­—ç¬¦ï¼Œ-2æŒ‡å€’æ•°ç¬¬äºŒä¸ªå­—ç¬¦ï¼Œä»¥æ­¤ç±»æ¨ï¼Œå¦‚æœstarPosä¸ºè´Ÿæ•°ä¸”ç»å¯¹å€¼å¤§äºå­—ç¬¦ä¸²é•¿åº¦ï¼ŒstarPosä¸º0. Mathå¯¹è±¡ Mathå¯¹è±¡ï¼Œæä¾›æ•°æ®çš„æ•°å­¦è®¡ç®— ä½¿ç”¨Mathçš„å±æ€§å’Œæ–¹æ³•ï¼š eg: 123456 &lt;script type=\"text/javascript\"&gt; var mypi=Math.PI; var myabs=Math.abs(-15); document.write(mypi); document.write(myabs);&lt;/script&gt;","tags":[]},{"title":"jsçš„å­¦ä¹ ç¬”è®°â€”â€”é¢„å¤‡ç¯‡","date":"2016-09-22T10:44:41.000Z","path":"2016/09/22/jsçš„å­¦ä¹ ç¬”è®°/","text":"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æœ¬ç¯‡æ–‡ç« ä¼šä»‹ç»ä¹‹å‰å­¦ä¹ Javascriptæ—¶çš„ä¸€äº›ç¬”è®°ï¼Œè‹¦äºä¸çŸ¥é“å¯ä»¥å†™äº›å•¥æœ‰è¥å…»çš„ä¸œè¥¿ã€‚æ˜¨æ™šå°±å¿½ç„¶æƒ³åˆ°æœ€è¿‘çš„Javascriptè¿™ä¹ˆç«çˆ†ï¼Œäºæ˜¯ä¹å°±æŠŠä»¥å‰å­¦ä¹ çš„Javascriptçš„ç¬”è®°å†æ•´ç†ä¸€éåˆ°è‡ªå·±è¿™ä¸ªâ€œå¤„å¥³â€åšå®¢å§~å“ˆå“ˆå“ˆ~ ä¸€ã€é¢„å¤‡çŸ¥è¯†ï¼š 1. åœ¨HTMLæ–‡æœ¬ä¸­åµŒå…¥Javascriptçš„æ–¹å¼ä¸€å…±æœ‰ä¸‰ç§ï¼š å†…éƒ¨å¼•ç”¨ å†…è”å¼•ç”¨ å¤–éƒ¨å¼•ç”¨ ä½†æ˜¯ï¼Œæˆ‘ä»¬ç”¨çš„æœ€å¤šçš„æ˜¯å¤–éƒ¨å¼•ç”¨è¿™ç§æ–¹å¼ï¼Œå¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š 1&lt;script type=\"text/javascript\" src=\"path/to/your_code.js\"&gt;&lt;/script&gt; ä¸Šè¿°ä»£ç å¯ä»¥æ”¾åœ¨htmlé¡µé¢å†…çš„ä»»ä½•ä½ç½®ï¼Œå…·ä½“è¦æ”¾åœ¨å“ªé‡Œï¼Œè§†å…·ä½“æƒ…å†µè€Œå®šäº†â€¦â€¦ 2. æ³¨é‡Šï¼š å…³äºJSçš„æ³¨é‡Šæ–¹æ³•ï¼Œæˆ‘ä¸€ç›´æ˜¯ä½¿ç”¨C++é£æ ¼çš„æ³¨é‡Šæ–¹æ³•ï¼Œå³ï¼š//è¿™æ˜¯ä¸€è¡Œæ³¨é‡Šï¼Œå¯èƒ½æ˜¯ç”¨ä¹…äº†å°±æˆä¸ºä¹ æƒ¯äº†å§ï¼Œå“ˆå“ˆå“ˆï¼Œä¸è¿‡å¦å¤–å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœæ˜¯ä½¿ç”¨â€œWebStormâ€çš„è¯ï¼Œå°½é‡ä½¿ç”¨å¿«æ·é”®ï¼Œæˆ‘è®°å¾—å•è¡Œæ³¨é‡Šçš„å¿«æ·é”®æ˜¯ï¼šCtrl + /ï¼Œè¦æ˜¯ç”¨åˆ°å¤šè¡Œæ³¨é‡Šçš„æ—¶å€™å°±å¯ä»¥è¾“å…¥/**ç„¶åé”®å…¥å›è½¦å³å¯ã€‚ 3. å˜é‡ï¼š å®šä¹‰å˜é‡è¦ä½¿ç”¨å…³é”®å­—ï¼švarï¼Œè¯­æ³•ï¼švar å˜é‡å å‘½åè§„åˆ™ï¼š å˜é‡åå¿…é¡»ä½¿ç”¨å­—æ¯ã€ä¸‹åˆ’çº¿æˆ–è€…ç¾å…ƒç¬¦å·å¼€å§‹ï¼› å¯ä»¥ä½¿ç”¨ä»»æ„å¤šä¸ªè‹±æ–‡å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿æˆ–ç¾å…ƒç¬¦å·ï¼› ä¸èƒ½ä½¿ç”¨JSå…³é”®å­—å’ŒJSä¿ç•™å­—ã€‚ æ³¨æ„ï¼š - å˜é‡è¦å…ˆå£°æ˜ï¼Œå†èµ‹å€¼ - å˜é‡å¯ä»¥é‡å¤èµ‹å€¼ï¼› - åœ¨JSä¸­åŒºåˆ†å¤§å°å†™ï¼› - å˜é‡å¯ä»¥ä¸å£°æ˜ï¼Œç›´æ¥ä½¿ç”¨ï¼Œä½†æ˜¯ä¸æ¨èï¼Œä¸è§„èŒƒï¼› 4. è¯­å¥ è¿™é‡Œå¸¸ç”¨åˆ°çš„è¯­å¥æ— éå°±æ˜¯è¿™å‡ ç§ï¼š èµ‹å€¼è¯­å¥ï¼› åˆ¤æ–­è¯­å¥ï¼› å¾ªç¯è¯­å¥ï¼› é€‰æ‹©è¯­å¥ã€‚ 5. å‡½æ•° å®šä¹‰çš„æ–¹æ³•ï¼š 1234567//*** å‡½æ•°çš„å‚æ•°å¯ä»¥æœ‰ä»»æ„å¤šä¸ª* å‡½æ•°å¯ä»¥æœ‰è¿”å›å€¼**/function fun1(arg1, arg2)&#123; //your code&#125; å‡½æ•°çš„è°ƒç”¨ï¼š æ”¾åœ¨&lt;head&gt;æ ‡ç­¾ä¹‹é—´ï¼Œä¼šè‡ªåŠ¨è¿è¡Œ ä½¿ç”¨æ ‡ç­¾&lt;input type=&quot;button&quot; value=&quot;ç‚¹å‡»&quot; onclick=&quot;å‡½æ•°å&quot;&gt; äºŒã€JSå¸¸ç”¨çš„äº’åŠ¨æ–¹æ³• 1. å†…å®¹è¾“å‡ºï¼ˆdocument.writeï¼‰ document.writeå¯ç”¨äºç›´æ¥æƒ³HTMLè¾“å‡ºæµå†™å†…å®¹ã€‚ è¾“å‡ºå†…å®¹ç›´æ¥ç”¨â€œåŒå¼•å·â€æ‹¬èµ·æ¥ï¼Œç›´æ¥è¾“å‡ºå¼•å·å†…çš„å†…å®¹ã€‚ é€šè¿‡å˜é‡è¾“å‡ºå†…å®¹ï¼š eg: document.write(mystr); è¾“å‡ºå¤šé¡¹å†…å®¹ï¼Œå†…å®¹ä¹‹é—´ç”¨&quot;+&quot;å·è¿æ¥ eg: document.write(mystr+&quot;Hello&quot;); è¾“å‡ºHTMLæ ‡ç­¾ eg: document.write(mystr+&quot;&lt;br&gt;&quot;); 2. alertæ¶ˆæ¯æç¤ºçª— alert(str) 3. ç¡®è®¤ï¼ˆconfirmæ¶ˆæ¯å¯¹è¯æ¡†ï¼‰ ä½œç”¨ï¼šç”¨äºå…è®¸ç”¨æˆ·åšé€‰æ‹©çš„åŠ¨ä½œï¼› è¯­æ³•ï¼šconfirm(str);ï¼› å‚æ•°è¯´æ˜ï¼š **str**åœ¨æ¶ˆæ¯å¯¹è¯æ¡†ä¸­è¦æ˜¾ç¤ºçš„æ–‡æœ¬è¿”å›å€¼Booleanå€¼ 4. æé—®ï¼ˆpromptæ¶ˆæ¯å¯¹è¯æ¡†ï¼‰ **ä½œç”¨ï¼š**é€šå¸¸ç”¨äºè¯¢é—®ä¸€äº›éœ€è¦ç”¨æˆ·äº¤äº’çš„ä¿¡æ¯ã€‚å¼¹å‡ºæ¶ˆæ¯å¯¹è¯æ¡†ï¼ˆåŒ…å«ä¸€ä¸ªç¡®å®šæŒ‰é’®ï¼Œå–æ¶ˆæŒ‰é’®ä¸ä¸€ä¸ªæ–‡æœ¬è¾“å…¥æ¡†ï¼‰ è¯­æ³•ï¼šprompt(str1,str2); å‚æ•°è¯´æ˜ï¼š **str1**è¦æ˜¾ç¤ºåœ¨æ¶ˆæ¯å¯¹è¯æ¡†çš„æ–‡æœ¬ï¼Œä¸å¯ä¿®æ”¹ï¼›**str2**æ–‡æœ¬æ¡†ä¸­çš„å†…å®¹ï¼Œå¯ä¿®æ”¹ - **è¿”å›å€¼ï¼š** 1. ç‚¹å‡»ç¡®å®šæŒ‰é’®ï¼Œæ–‡æœ¬æ¬¾çš„å†…å®¹å°†ä½œä¸ºå‡½æ•°è¿”å›å€¼ï¼› 2. ç‚¹å‡»å–æ¶ˆæŒ‰é’®ï¼Œè¿”å›`null`; 5. æ‰“å¼€æ–°çª—å£ï¼ˆwindow.openï¼‰ ä½œç”¨ï¼šopen()æ–¹æ³•å¯ä»¥æŸ¥æ‰¾ä¸€ä¸ªå·²ç»å­˜åœ¨æˆ–è€…æ–°å»ºçš„æµè§ˆå™¨çª—å£ï¼› è¯­æ³•ï¼šwindow.open([URL],[çª—å£åç§°],[å‚æ•°å­—ç¬¦ä¸²])ï¼›ï¼› å‚æ•°è¯´æ˜ï¼š URL:å¯é€‰å‚æ•°ï¼Œåœ¨çª—å£ä¸­è¦æ˜¾ç¤ºç½‘é¡µçš„ç½‘å€æˆ–è·¯å¾„ã€‚å¦‚æœçœç•¥è¿™ä¸ªå‚æ•°ï¼Œæˆ–è€…å®ƒçš„å€¼æ˜¯ç©ºå­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆçª—å£å°±ä¸æ˜¾ç¤ºä»»ä½•æ–‡æ¡£ï¼› çª—å£åç§°ï¼šå¯é€‰å‚æ•°,è¢«æ‰“å¼€çª—å£çš„åç§°ã€‚ è¯¥åç§°ç”±å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿å­—ç¬¦ç»„æˆï¼› _top,_blank,_selfå…·æœ‰ç‰¹æ®Šæ„ä¹‰çš„åç§°ï¼› _topï¼šæ¡†æ¶ç½‘é¡µä¸­åœ¨ä¸Šä¸çª—å£ä¸­æ˜¾ç¤ºç›®æ ‡ç½‘é¡µï¼› _blankï¼šåœ¨æ–°çª—å£ä¸­æ˜¾ç¤ºç›®æ ‡ç½‘é¡µï¼› _selfï¼šåœ¨å½“å‰çª—å£æ˜¾ç¤ºç›®æ ‡ç½‘é¡µã€‚ ç›¸åŒnameçš„çª—å£åªèƒ½åˆ›å»ºä¸€ä¸ªï¼Œè¦æƒ³åˆ›å»ºå¤šä¸ªçª—å£ï¼Œåˆ™nameä¸èƒ½ç›¸åŒã€‚ nameä¸èƒ½åŒ…å«ç©ºæ ¼ å‚æ•°å­—ç¬¦ä¸²ï¼šå¯é€‰å‚æ•°ï¼Œè®¾ç½®çª—å£å‚æ•°ï¼Œå„å‚æ•°ç”¨é€—å·éš”å¼€ã€‚ å‚æ•°è¡¨ï¼š å‚æ•°å€¼è¯´æ˜topnumberçª—å£é¡¶éƒ¨ç¦»å¼€å±å¹•é¡¶éƒ¨çš„åƒç´ æ•°leftnumberçª—å£å·¦ç«¯ç¦»å¼€å±å¹•å·¦ç«¯çš„åƒç´ æ•°widthnumberçª—å£çš„å®½åº¦heightnumberçª—å£çš„é«˜åº¦menubaryes,noçª—å£æœ‰æ²¡æœ‰èœå•toolbaryes,noçª—å£æœ‰æ²¡æœ‰å·¥å…·æ¡scrollyes,noçª—å£æœ‰æ²¡æœ‰æ»šåŠ¨æ¡statusyes,noçª—å£æœ‰æ²¡æœ‰çŠ¶æ€æ  6. å…³é—­çª—å£ï¼ˆwindow.closeï¼‰ **ä½œç”¨ï¼š**å…³é—­çª—å£ï¼› è¯­æ³•ï¼š 12window.close();//å…³é—­å½“å‰çª—å£&lt;çª—å£å¯¹è±¡&gt;.close();//å…³é—­æŒ‡å®šçª—å£ eg:å…³é—­æ–°å»ºçš„çª—å£ï¼š 12var mywin = window.open('http://imooc.com');mywin.close(); ä¸‰ã€DOMæ“ä½œ ä»‹ç»ï¼š æ–‡æ¡£å¯¹è±¡æ¨¡å‹ï¼ˆDOMï¼‰å®šä¹‰è®¿é—®å’Œå¤„ç†HTMLæ–‡æ¡£çš„æ ‡å‡†æ–¹æ³•ã€‚ HTMLæ–‡æ¡£å¯ä»¥è¯´æœ‰èŠ‚ç‚¹æ„æˆçš„é›†åˆã€‚ 1. ä¸‰ç§å¸¸è§çš„DOMèŠ‚ç‚¹ï¼š å…ƒç´ èŠ‚ç‚¹ï¼š&lt;html&gt;,&lt;body&gt;,&lt;p&gt;ç­‰ï¼Œå³æ ‡ç­¾ï¼› **æ–‡æœ¬èŠ‚ç‚¹ï¼š**å‘ç”¨æˆ·å±•ç¤ºçš„å†…å®¹ï¼Œå¦‚&lt;li&gt;...&lt;/li&gt;ä¸­çš„JavaScript **å±æ€§èŠ‚ç‚¹ï¼š**å…ƒç´ å±æ€§ï¼Œå¦‚&lt;a&gt;æ ‡ç­¾çš„é“¾æ¥å±æ€§ã€‚ 2. é€šè¿‡IDè·å–å…ƒç´  è¯­æ³•ï¼šdocument.getElementById(&quot;id&quot;); è·å–çš„å…ƒç´ æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå¦‚æƒ³å¯¹å…ƒç´ è¿›è¡Œæ“ä½œï¼Œæˆ‘ä»¬è¦é€šè¿‡å®ƒçš„å±æ€§æˆ–æ–¹æ³•ã€‚ 3. innerHTMLå±æ€§ è¯­æ³•ï¼šobject.innerHTML; **ä½œç”¨ï¼š**innerHTMLå±æ€§ç”¨äºè·å–æˆ–æ›¿æ¢HTMLå…ƒç´ çš„å†…å®¹ Objectæ˜¯è·å–çš„å…ƒç´ å¯¹è±¡ï¼Œå¦‚é€šè¿‡document.getElementById(&quot;ID&quot;);è·å–çš„å…ƒç´ ï¼› innerHTMLåŒºåˆ†å¤§å°å†™ egï¼š 1234var mycon = document.getElementById(\"con\");document.write(\"......\"+mycon.innerHTML+\"&lt;br&gt;\");mycon.innerHTML=\"New text!\";document.write(\"...\"+mycon.innerHTML+\"&lt;br&gt;\"); 4. æ”¹å˜HTMLæ ·å¼ï¼š HTML DOMå…è®¸Javascriptæ”¹å˜HTMLå…ƒç´ çš„æ ·å¼ è¯­æ³•ï¼šobject.style.properly=new style; **æ³¨æ„ï¼š**Objectæ˜¯è·å–çš„å…ƒç´ å¯¹è±¡ï¼Œå¦‚é€šè¿‡getElementById(&quot;ID&quot;);è·å–çš„å…ƒç´ ã€‚ åŸºæœ¬å±æ€§è¡¨(property)ï¼š å±æ€§æè¿°backgroundColorè®¾ç½®å…ƒç´ èƒŒæ™¯é¢œè‰²heightè®¾ç½®å…ƒç´ çš„é«˜åº¦widthè®¾ç½®å…ƒç´ çš„å®½åº¦colorè®¾ç½®æ–‡æœ¬çš„é¢œè‰²fontåœ¨ä¸€è¡Œè®¾ç½®æ‰€æœ‰å­—ä½“çš„å±æ€§fontFamilyè®¾ç½®å…ƒç´ çš„å­—ä½“ç³»åˆ—fontSizeè®¾ç½®å…ƒç´ çš„å­—ä½“å¤§å° 5. æ˜¾ç¤ºå’Œéšè—(displayå±æ€§) ç½‘é¡µä¸­ç»å¸¸ä¼šçœ‹åˆ°æ˜¾ç¤ºå’Œéšè—çš„æ•ˆæœï¼Œå¯ä»¥é€šè¿‡displayå±æ€§æ¥è®¾ç½® è¯­æ³•ï¼šObject.style.display=value; æ³¨æ„ï¼š Objectæ˜¯è·å–çš„å…ƒç´ å¯¹è±¡ï¼Œå¦‚é€šè¿‡document.getElementById(&quot;id&quot;)è·å–çš„å…ƒç´ ã€‚ valueçš„å–å€¼ï¼š å€¼æè¿°noneæ­¤å…ƒç´ ä¸ä¼šè¢«æ˜¾ç¤ºï¼ˆå³éšè—ï¼‰blockæ­¤å…ƒç´ æ˜¾ç¤ºä¸ºå—çº§å…ƒç´ ï¼ˆå³æ˜¾ç¤ºï¼‰ 6. æ§åˆ¶ç±»åï¼ˆclassNameå±æ€§ï¼‰ classNameå±æ€§è®¾ç½®æˆ–è¿”å›å…ƒç´ çš„classå±æ€§ è¯­æ³•ï¼šObject.className=classname; ä½œç”¨ï¼š è·å–å…ƒç´ çš„classå±æ€§ï¼› ä¸ºç½‘é¡µçš„æŸä¸ªå…ƒç´ æŒ‡å®šä¸€ä¸ªCSSæ ·å¼æ¥æ›´æ”¹å…ƒç´ çš„å¤–è§‚ã€‚","tags":[]},{"title":"okhttpè¾¹å­¦è¾¹è®°","date":"2016-09-18T16:28:38.000Z","path":"2016/09/19/okhttpè¾¹å­¦è¾¹è®°/","text":"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å­¦ä¹ å®‰å“ä¸€å®šç¦»ä¸å¼€ç½‘ç»œè®¿é—®ï¼Œä½†æ˜¯å®˜æ–¹å·²ç»ä¸æ¨èä½¿ç”¨HttpClientäº†ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªå¥½ç”¨çš„ç½‘ç»œåº“ï¼Œè¿™æ—¶ï¼Œå°±æƒ³åˆ°äº†okhttpã€‚ ä¸€ã€å¯¼åŒ… å¯¹äºAndroid Studioçš„ç”¨æˆ·ï¼šcompile 'com.squareup.okhttp3:okhttp:(insert latest version)'(ç›®å‰çš„æœ€æ–°ç‰ˆæœ¬æ˜¯3.4.1) å¯¹äºEclipseçš„ç”¨æˆ·ï¼šå¯ä»¥ç›´æ¥ä¸‹è½½[the lastest JAR],å¯¼å…¥é¡¹ç›®ä¸­å³å¯ã€‚ æ³¨æ„ï¼šå®˜æ–¹æ–‡æ¡£é‡Œè¯´åˆ°ï¼Œâ€œå½“ä½¿ç”¨åˆ°å¿«é€ŸI/Oå’Œresizable buffersçš„æ—¶å€™éœ€è¦okioâ€æ‰€ä»¥ï¼Œè¿˜æœ‰ä¸€æ­¥ï¼š å¯¹äºAndroid Studioçš„ç”¨æˆ·ï¼šcompile 'com.squareup.okio:okio:(insert latest version)'(ç›®å‰çš„æœ€æ–°ç‰ˆæœ¬æ˜¯1.10.0) å¯¹äºEclipseçš„ç”¨æˆ·ï¼šä¸‹è½½æœ€è¿‘çš„ [ the lastest JAR ] å³å¯ äºŒã€ä½¿ç”¨æ­¥éª¤ï¼š HttpGet - é¦–å…ˆä»æœ€å¸¸ç”¨åˆ°çš„http getè¯·æ±‚å¼€å§‹ï¼Œä¾‹å­ï¼š - ```java //åˆ›å»ºokHttpå¯¹è±¡ OkHttpClient client = new OkHttpClient(); //åˆ›å»ºä¸€ä¸ªRequest final Request request = new Request.Builder().url(&quot;http://luciferlv.tech&quot;).build(); //new call Call call = client.newCall(request); //è¯·æ±‚åŠ å…¥è°ƒåº¦ call.enqueue(new CallBack(){ @Override public void onFailure(Request request, IOException e){ } @Override public void onResponse(final Response response) throws IOException{ //String htmlStr = response.body().string(); } }) 123456789101112131415161718- ä»£ç åˆ†æï¼š 1. å‘é€ä¸€ä¸ªgetè¯·æ±‚çš„æ­¥éª¤ï¼šé¦–å…ˆæ„é€ ä¸€ä¸ªRequestå¯¹è±¡ï¼Œå‚æ•°èµ·ç æœ‰ä¸€ä¸ªurlï¼Œä¹Ÿå¯ä»¥é€šè¿‡Request.Builderæ¥è®¾ç½®æ›´å¤šçš„å‚æ•°å¦‚ï¼š&#96;headerå’Œmethod&#96;ç­‰ã€‚ 2. ç„¶åé€šè¿‡requestçš„å¯¹è±¡å»æ„é€ å¾—åˆ°ä¸€ä¸ªCallå¯¹è±¡ï¼Œç±»ä¼¼äºå°†ä½ çš„è¯·æ±‚å°è£…æˆäº†ä»»åŠ¡ï¼Œæ—¢ç„¶æ˜¯ä»»åŠ¡ï¼Œå°±ä¼šæœ‰&#96;execute()&#96;å’Œ&#96;cancel()&#96;ç­‰æ–¹æ³•ã€‚ 3. æœ€åï¼Œæˆ‘ä»¬å¸Œæœ›ä»¥**å¼‚æ­¥**çš„æ–¹å¼å»æ‰§è¡Œè¯·æ±‚ï¼Œæ‰€ä»¥æˆ‘ä»¬è°ƒç”¨çš„æ˜¯&#96;call.enqueue&#96;ï¼Œå°†callåŠ å…¥è°ƒåº¦é˜Ÿåˆ—ï¼Œç„¶åç­‰å¾…ä»»åŠ¡æ‰§è¡Œå®Œæˆï¼Œæˆ‘ä»¬åœ¨CallBackä¸­å³å¯å¾—åˆ°ç»“æœã€‚ - **æ³¨æ„ï¼š** - &#96;onResponse&#96;å›è°ƒçš„å‚æ•°æ˜¯responseï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæ¯”å¦‚æˆ‘ä»¬å¸Œæœ›è·å¾—è¿”å›çš„å­—ç¬¦ä¸²ï¼Œå¯ä»¥é€šè¿‡&#96;response.body().string()&#96;è·å–ï¼›å¦‚æœå¸Œæœ›è·å¾—è¿”å›çš„äºŒè¿›åˆ¶å­—èŠ‚æ•°ç»„ï¼Œåˆ™è°ƒç”¨&#96;response.body().bytes();&#96;å¦‚æœæƒ³æ‹¿åˆ°è¿”å›çš„inputStreamï¼Œåˆ™è°ƒç”¨&#96;response.body().byteStream();&#96;ï¼Œæˆ‘ä»¬èƒ½æ‹¿åˆ°&#96;inputStream&#96;å°±å¯ä»¥é€šè¿‡IOçš„æ–¹å¼ä¸‹è½½å¤§æ–‡ä»¶ï¼ˆå†™æ–‡ä»¶ï¼‰ã€‚ - è¿˜æœ‰ä¸€ä¸ªé—®é¢˜&#96;onResponse&#96;æ‰§è¡Œçš„çº¿ç¨‹å¹¶ä¸æ˜¯UIçº¿ç¨‹ã€‚å¦‚æœå¸Œæœ›æ“ä½œæ§ä»¶ï¼Œè¿˜æ˜¯éœ€è¦ç”¨åˆ°handlerç­‰ã€‚å¦‚ï¼š - &#96;&#96;&#96;java @Override public void onResponse(final Response response) throws IOException&#123; final String res &#x3D; response.body().string(); runOnUiThread(new Runnable()&#123; @Override public void run()&#123; mTextView.setText(res); &#125; &#125;); &#125; - æˆ‘ä»¬è¿™é‡Œæ˜¯å¼‚æ­¥çš„æ–¹å¼å»æ‰§è¡Œï¼Œå½“ç„¶ä¹Ÿæ”¯æŒé˜»å¡çš„æ–¹å¼ï¼Œä¸Šé¢ä¹Ÿè¯´äº†Callæœ‰ä¸€ä¸ª`execute()`æ–¹æ³•ï¼Œä½ ä¹Ÿå¯ä»¥ç›´æ¥è°ƒç”¨`call.execute()`é€šè¿‡è¿”å›ä¸€ä¸ª`Response`ã€‚ HttpPostæºå¸¦å‚æ•° - å½“è¯·æ±‚éœ€è¦æäº¤å‚æ•°çš„æ—¶å€™ï¼Œæˆ‘ä»¬å°±ä¼šç”¨åˆ°postè¯·æ±‚ï¼Œå’ŒGetä¸åŒçš„å°±æ˜¯Requestæ„é€ çš„ä¸åŒ 12345678910111213141516Request request = buildMultipartFormRequest(url, new File[]&#123;file&#125;, new String[]&#123;fileKey&#125;, null);FormEncodingBuilder builder = new FormEncodingBuilder();builder.add(\"username\", \"Lucifer\");Request request = new Request.Builder.url(url).post(builder.build()).build();client.newCall(request).enqueue(new CallBack()&#123; @Override public void onFailure(Request request, IOException e)&#123; &#125; @Override public void onResponse(final Response response) throws IOException&#123; // &#125;&#125;); - å¤§å®¶éƒ½æ¸…é™¤ï¼Œpostçš„çŸ¢è€¦ï¼Œå‚æ•°æ˜¯åŒ…å«åœ¨è¯·æ±‚ä½“ä¸­çš„ï¼›æ‰€ä»¥æˆ‘ä»¬é€šè¿‡FormEncodingBuilderã€‚æ·»åŠ å¤šä¸ªStringé”®å€¼å¯¹ï¼Œç„¶åå»æ„é€ RequestBodyï¼Œæœ€åå®Œæˆæˆ‘ä»¬Requestçš„æ„é€ ã€‚åé¢çš„å°±å’Œä¸Šé¢çš„æ˜¯ä¸€æ ·çš„äº†ã€‚ åŸºäºhttpçš„æ–‡ä»¶ä¸Šä¼  - æ¥ä¸‹æ¥æˆ‘ä»¬å†ä»‹ç»ä¸€ä¸ªå¯ä»¥æ„é€ RequestBodyçš„Builderï¼Œå«åš`MultipartBuilder`ã€‚å½“æˆ‘ä»¬éœ€è¦åšç±»ä¼¼ä¸è¡¨å•ä¸Šä¼ çš„æ—¶å€™ï¼Œå°±å¯ä»¥ç”¨å®ƒæ¥æ„é€ æˆ‘ä»¬çš„requestBodyã€‚ 123456789101112131415161718192021222324252627File file = new File(Environment.getExternalStorageDirectory(), \"balabala.mp4\");RequestBody fileBody = RequestBody.create(MediaType.parse(\"application/octet-stream\"), file);RequestBody requestBody = new MultipartBuilder() .type(MultipartBuilder.FORM) .addPart(Headers.of(\"Content-Dispostion\", \"form-data; name=\\\"username\\\"\"), RequestBody.create(null, \"Lucifer\")) .addPart(Heafers.of(\"Content-Dispostion\", \"form-data; name=\\\"mFile\\\"; fileName=\\\"wjd.mp4\\\"\"), fileBody) .build();Request request = new Request.Builder() .url(\"http://192.168.1.103:8080/okHttpServer/fileUpload\") .post(requestBody) .build();Call call = client.newCall(request);call.enqueue(new CallBack()&#123; @Override public void onFailure(Request request, IOException e)&#123; &#125; @Override public void onResponse(final Response response) throws IOException&#123; // &#125;&#125;); - ä¸Šè¿°ä»£ç å‘æœåŠ¡å™¨ä¼ é€’äº†ä¸€ä¸ªé”®å€¼å¯¹`username: Lucifer`å’Œä¸€ä¸ªæ–‡ä»¶ã€‚æˆ‘ä»¬é€šè¿‡MultipartBuilderçš„addPart()æ–¹æ³•å¯ä»¥æ·»åŠ é”®å€¼å¯¹æˆ–è€…æ–‡ä»¶ã€‚ - å…¶å®ç±»ä¼¼äºæˆ‘ä»¬æ‹¼æ¥æµè§ˆå™¨è¡Œä¸ºçš„æ–¹å¼ - **å›¾ç‰‡ä¸‹è½½ï¼š**é€šè¿‡å›è°ƒçš„Responseæ‹¿åˆ°byte[]ç„¶ådecodeæˆå›¾ç‰‡ï¼› - **æ–‡ä»¶ä¸‹è½½ï¼š**é€šè¿‡æ‹¿åˆ°inputStreamåšå†™æ–‡ä»¶æ“ä½œã€‚ ä¸‰ã€å°è£… ç”±äºæŒ‰ç…§ä¸Šè¿°çš„ä»£ç ï¼Œè¯·æ±‚å¤šäº†é‡å¤çš„ä»£ç å°±å¤šäº†ï¼Œæˆ‘ä»¬å°±å¸Œæœ›å°è£…è¿™äº›ä»£ç  ä½¿ç”¨ï¼š ä¸€èˆ¬çš„getè¯·æ±‚ 1234567891011OkHttpClientManager.getAsyn(\"https://www.baidu.com\", new OkHttpClientManager.ResultCallBack&lt;String&gt;()&#123; @Override public void onError(Request request, Exception e)&#123; e.printStackTrace(); &#125; @Override public void onResponse(String u)&#123; mTextView.setText(u);//è¿™é‡Œæ˜¯UIçº¿ç¨‹ &#125;&#125;); - å¯¹äºä¸€æŠŠçš„è¯·æ±‚ï¼Œæˆ‘ä»¬å¸Œæœ›ç»™ä¸ªurlï¼Œç„¶åCallBacké‡Œé¢ç›´æ¥æ“ä½œæ§ä»¶ã€‚ 2. æ–‡ä»¶ä¸Šä¼ ä¸”æºå¸¦å‚æ•° - æˆ‘ä»¬å¸Œæœ›æä¾›ä¸€ä¸ªæ–¹æ³•ï¼Œä¼ å…¥url, params, file, callbackå³å¯ã€‚ 123456789101112131415161718OkHttpClientManager.postAsyn(\"http://192.168.1.103:8080/okHttpServer/fileUpload\", //å‚æ•°1 new OkHttpClientManager.ResultCallBack&lt;String&gt;()&#123; @Override public void onError(Request request, IOException e)&#123; e.printStackTrace(); &#125; @Override public void onResponse(String result)&#123; &#125; &#125;,//å‚æ•°2 file, //å‚æ•°3 \"mFile\",//å‚æ•°4 new OkHttpClientManager.Param[]&#123; new OkHttpClientManager.param(\"username\", \"lt\"), new OkHttpClientManager.param(\"password\", \"123\") &#125;); - å‚æ•°3ä¸ºfileï¼Œå‚æ•°4ä¸ºfileå¯¹åº”çš„nameï¼Œè¿™ä¸ªnameä¸æ˜¯æ–‡ä»¶çš„åå­—ï¼› - å¯¹åº”äºhttpä¸­çš„`&lt;input type=&quot;file&quot; name=&quot;mFile&quot; &gt;` - å¯¹åº”çš„æ˜¯nameåé¢çš„å€¼ï¼Œå³mFileã€‚ 3. æ–‡ä»¶ä¸‹è½½ - å¯¹äºæ–‡ä»¶ä¸‹è½½ï¼Œæä¾›urlï¼Œç›®æ ‡dirï¼Œcallbackå³å¯ã€‚ 12345678910111213OkHttpClientManager.downloadAsyn(\"http://192.168.1.103:8080/okHttpServer/files/message_01.png\",// Environment.getExternalStorageDirectory().getAbsolutePath(),// new OkHttpClientManager.ResultCallBack&lt;String&gt;()&#123; @Override public void onError(Request request, IOException e)&#123; &#125; @Override public void onResponse(String response)&#123; //æ–‡ä»¶ä¸‹è½½æˆåŠŸï¼Œè¿™é‡Œå›è°ƒçš„responseä¸ºæ–‡ä»¶çš„absolutePath &#125; &#125;); 4. å±•ç¤ºå›¾ç‰‡ - å±•ç¤ºå›¾ç‰‡ï¼Œæˆ‘ä»¬å¸Œæœ›æä¾›ä¸€ä¸ªurlå’Œä¸€ä¸ªimageViewï¼Œå¦‚æœä¸‹è½½æˆåŠŸï¼Œç›´æ¥å¸®æˆ‘ä»¬è®¾ç½®ä¸Šå³å¯ã€‚ 1OkHttpClientManager.displayImage(mImageView, \"http://192.168.1.103:8080/20150817/1.jpg\"); - å†…éƒ¨ä¼šè‡ªåŠ¨æ ¹æ®imageViewçš„å¤§å°è‡ªåŠ¨å¯¹å›¾ç‰‡è¿›è¡Œåˆé€‚çš„å‹ç¼©ã€‚è™½ç„¶ï¼Œè¿™é‡Œå¯èƒ½ä¸é€‚åˆä¸€æ¬¡æ€§åŠ è½½å¤§é‡å›¾ç‰‡çš„åœºæ™¯ï¼Œä½†æ˜¯å¯¹äºappä¸­å¶å°”æœ‰å‡ ä¸ªå›¾ç‰‡çš„åŠ è½½ï¼Œè¿˜æ˜¯å¯ç”¨çš„ã€‚ å››ã€æ•´åˆGson é¡¹ç›®ä¸­ä½¿ç”¨æ—¶ï¼ŒæœåŠ¡ç«¯è¿”å›çš„æ˜¯Jsonå­—ç¬¦ä¸²ï¼Œå¸Œæœ›å®¢æˆ·ç«¯å›è°ƒå¯ä»¥ç›´æ¥æ‹¿åˆ°å¯¹è±¡ï¼Œäºæ˜¯æ•´åˆè¿›å…¥Gsonã€‚ ç›´æ¥å›è°ƒå¯¹è±¡ - ä¾‹å¦‚ç°åœ¨æœ‰ä¸ªUserå®ä½“ç±»ï¼š 123456789101112131415161718192021public class User&#123; public String username; public String password; public User()&#123; &#125; public User(String username, String password)&#123; this.username = username; this.password = password; &#125; @Override public String toString()&#123; return \"User&#123;\"+ \"username='\" + username + '\\'' + \",password='\" + password + '\\'' + \"&#125;\"; &#125;&#125; - æœåŠ¡ç«¯è¿”å›ï¼š``{&quot;username&quot;:&quot;lt&quot;, &quot;password&quot;:&quot;123&quot;}`` - å®¢æˆ·ç«¯å¯ä»¥å¦‚ä¸‹æ–¹å¼çš„è°ƒç”¨ï¼š 123456789101112OkHttpClientManager.getAsyn(\"http://192.168.56.1:8080/okHttpServer/user!getUser\", new OkHttpClientManager.ResultCallBack&lt;User&gt;()&#123; @Override public void onError(Request request, Exception e)&#123; e.printStackTrace(); &#125; @Override public void onResponse(User user)&#123; mTextView.setText(user.toString());//UIçº¿ç¨‹ &#125; &#125;); - æˆ‘ä»¬ä¼ å…¥æ³›å‹Userï¼Œåœ¨onResponseé‡Œé¢ç›´æ¥å›è°ƒUserå¯¹è±¡ã€‚ - **æ³¨æ„ï¼š**å¦‚æœåœ¨`jsonå­—ç¬¦ä¸²-&gt;å®ä½“å¯¹è±¡`è¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯ï¼Œç¨‹åºä¸ä¼šå´©æºƒï¼Œ`onError`æ–¹æ³•ä¼šè¢«å›è°ƒã€‚ å›è°ƒå¯¹è±¡é›†åˆ - ä¾ç„¶æ˜¯ä¸Šè¿°çš„Userç±»ï¼ŒæœåŠ¡ç«¯è¿”å› - ``[{&quot;username&quot;:&quot;lt&quot;,&quot;password&quot;:&quot;123&quot;},{&quot;username&quot;:&quot;chl&quot;,&quot;password&quot;:&quot;12345&quot;}]`` - åˆ™å®¢æˆ·ç«¯å¯ä»¥å¦‚ä¸‹è°ƒç”¨ï¼š - ```java OkHttpClientManager.getAsyn(&quot;http://192.168.56.1:8080/okHttpServer/user!getUsers&quot;,// new OkHttpClientManager.ResultCallBack&lt;List&lt;User&gt;&gt;(){ @Override public void onError(Request request, Exception e){ e.printStackTrace(); } @Override public void onResponse(List&lt;User&gt; us){ Log.e(&quot;TAG&quot;, us.size() + &quot; &quot;); mTextView.setText(us.get(1).toString()); } }); 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374375376377378379380381382383384385386387388389390391392393394395396397398399400401402403404405406407408409410411412413414415416417418419420421422423424425426427428429430431432433434435436437438439440441442443444445446447448449450451452453454455456457458459460461462463464465466467468469470471472473474475476477478479480481482483484485486487488489490491492493494495496497498499500501502503504505506507508509510511512513514515516517518519520521522523524525526527528529530531532533534535536537538539540541542543544545546547548549550551552553554555556557558559560561562563564565566567568569570571572573574575576577578579580581582583584585586587588589590591592593594595596597598599600601602603604605606607608609610611612613614615616617618619620621622623624625626627628629630631632633634635636637638639640641642643644645646647648649650651652653654655 - å”¯ä¸€çš„åŒºåˆ«ï¼Œå°±æ˜¯æ³›å‹å˜æˆäº†&#96;List&lt;User&gt;&#96;ã€‚### OkHttpClientManagerçš„æºç &#96;&#96;&#96;javapublic class OkHttpClientManager&#123; private static OkHttpClientManager mInstance; private OkHttpClient mOkHttpClient; private Handler mDelivery; private Gson mGson; private static final String TAG &#x3D; &quot;OkHttpClientManager&quot;; private OkHttpClientManager() &#123; mOkHttpClient &#x3D; new OkHttpClient(); &#x2F;&#x2F;cookie enabled mOkHttpClient.setCookieHandler(new CookieManager(null, CookiePolicy.ACCEPT_ORIGINAL_SERVER)); mDelivery &#x3D; new Handler(Looper.getMainLooper()); mGson &#x3D; new Gson(); &#125; public static OkHttpClientManager getInstance() &#123; if (mInstance &#x3D;&#x3D; null) &#123; synchronized (OkHttpClientManager.class) &#123; if (mInstance &#x3D;&#x3D; null) &#123; mInstance &#x3D; new OkHttpClientManager(); &#125; &#125; &#125; return mInstance; &#125; &#x2F;** * åŒæ­¥çš„Getè¯·æ±‚ * * @param url * @return Response *&#x2F; private Response _getAsyn(String url) throws IOException &#123; final Request request &#x3D; new Request.Builder() .url(url) .build(); Call call &#x3D; mOkHttpClient.newCall(request); Response execute &#x3D; call.execute(); return execute; &#125; &#x2F;** * åŒæ­¥çš„Getè¯·æ±‚ * * @param url * @return å­—ç¬¦ä¸² *&#x2F; private String _getAsString(String url) throws IOException &#123; Response execute &#x3D; _getAsyn(url); return execute.body().string(); &#125; &#x2F;** * å¼‚æ­¥çš„getè¯·æ±‚ * * @param url * @param callback *&#x2F; private void _getAsyn(String url, final ResultCallback callback) &#123; final Request request &#x3D; new Request.Builder() .url(url) .build(); deliveryResult(callback, request); &#125; &#x2F;** * åŒæ­¥çš„Postè¯·æ±‚ * * @param url * @param params postçš„å‚æ•° * @return *&#x2F; private Response _post(String url, Param... params) throws IOException &#123; Request request &#x3D; buildPostRequest(url, params); Response response &#x3D; mOkHttpClient.newCall(request).execute(); return response; &#125; &#x2F;** * åŒæ­¥çš„Postè¯·æ±‚ * * @param url * @param params postçš„å‚æ•° * @return å­—ç¬¦ä¸² *&#x2F; private String _postAsString(String url, Param... params) throws IOException &#123; Response response &#x3D; _post(url, params); return response.body().string(); &#125; &#x2F;** * å¼‚æ­¥çš„postè¯·æ±‚ * * @param url * @param callback * @param params *&#x2F; private void _postAsyn(String url, final ResultCallback callback, Param... params) &#123; Request request &#x3D; buildPostRequest(url, params); deliveryResult(callback, request); &#125; &#x2F;** * å¼‚æ­¥çš„postè¯·æ±‚ * * @param url * @param callback * @param params *&#x2F; private void _postAsyn(String url, final ResultCallback callback, Map&lt;String, String&gt; params) &#123; Param[] paramsArr &#x3D; map2Params(params); Request request &#x3D; buildPostRequest(url, paramsArr); deliveryResult(callback, request); &#125; &#x2F;** * åŒæ­¥åŸºäºpostçš„æ–‡ä»¶ä¸Šä¼  * * @param params * @return *&#x2F; private Response _post(String url, File[] files, String[] fileKeys, Param... params) throws IOException &#123; Request request &#x3D; buildMultipartFormRequest(url, files, fileKeys, params); return mOkHttpClient.newCall(request).execute(); &#125; private Response _post(String url, File file, String fileKey) throws IOException &#123; Request request &#x3D; buildMultipartFormRequest(url, new File[]&#123;file&#125;, new String[]&#123;fileKey&#125;, null); return mOkHttpClient.newCall(request).execute(); &#125; private Response _post(String url, File file, String fileKey, Param... params) throws IOException &#123; Request request &#x3D; buildMultipartFormRequest(url, new File[]&#123;file&#125;, new String[]&#123;fileKey&#125;, params); return mOkHttpClient.newCall(request).execute(); &#125; &#x2F;** * å¼‚æ­¥åŸºäºpostçš„æ–‡ä»¶ä¸Šä¼  * * @param url * @param callback * @param files * @param fileKeys * @throws IOException *&#x2F; private void _postAsyn(String url, ResultCallback callback, File[] files, String[] fileKeys, Param... params) throws IOException &#123; Request request &#x3D; buildMultipartFormRequest(url, files, fileKeys, params); deliveryResult(callback, request); &#125; &#x2F;** * å¼‚æ­¥åŸºäºpostçš„æ–‡ä»¶ä¸Šä¼ ï¼Œå•æ–‡ä»¶ä¸å¸¦å‚æ•°ä¸Šä¼  * * @param url * @param callback * @param file * @param fileKey * @throws IOException *&#x2F; private void _postAsyn(String url, ResultCallback callback, File file, String fileKey) throws IOException &#123; Request request &#x3D; buildMultipartFormRequest(url, new File[]&#123;file&#125;, new String[]&#123;fileKey&#125;, null); deliveryResult(callback, request); &#125; &#x2F;** * å¼‚æ­¥åŸºäºpostçš„æ–‡ä»¶ä¸Šä¼ ï¼Œå•æ–‡ä»¶ä¸”æºå¸¦å…¶ä»–formå‚æ•°ä¸Šä¼  * * @param url * @param callback * @param file * @param fileKey * @param params * @throws IOException *&#x2F; private void _postAsyn(String url, ResultCallback callback, File file, String fileKey, Param... params) throws IOException &#123; Request request &#x3D; buildMultipartFormRequest(url, new File[]&#123;file&#125;, new String[]&#123;fileKey&#125;, params); deliveryResult(callback, request); &#125; &#x2F;** * å¼‚æ­¥ä¸‹è½½æ–‡ä»¶ * * @param url * @param destFileDir æœ¬åœ°æ–‡ä»¶å­˜å‚¨çš„æ–‡ä»¶å¤¹ * @param callback *&#x2F; private void _downloadAsyn(final String url, final String destFileDir, final ResultCallback callback) &#123; final Request request &#x3D; new Request.Builder() .url(url) .build(); final Call call &#x3D; mOkHttpClient.newCall(request); call.enqueue(new Callback() &#123; @Override public void onFailure(final Request request, final IOException e) &#123; sendFailedStringCallback(request, e, callback); &#125; @Override public void onResponse(Response response) &#123; InputStream is &#x3D; null; byte[] buf &#x3D; new byte[2048]; int len &#x3D; 0; FileOutputStream fos &#x3D; null; try &#123; is &#x3D; response.body().byteStream(); File file &#x3D; new File(destFileDir, getFileName(url)); fos &#x3D; new FileOutputStream(file); while ((len &#x3D; is.read(buf)) !&#x3D; -1) &#123; fos.write(buf, 0, len); &#125; fos.flush(); &#x2F;&#x2F;å¦‚æœä¸‹è½½æ–‡ä»¶æˆåŠŸï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¸ºæ–‡ä»¶çš„ç»å¯¹è·¯å¾„ sendSuccessResultCallback(file.getAbsolutePath(), callback); &#125; catch (IOException e) &#123; sendFailedStringCallback(response.request(), e, callback); &#125; finally &#123; try &#123; if (is !&#x3D; null) is.close(); &#125; catch (IOException e) &#123; &#125; try &#123; if (fos !&#x3D; null) fos.close(); &#125; catch (IOException e) &#123; &#125; &#125; &#125; &#125;); &#125; private String getFileName(String path) &#123; int separatorIndex &#x3D; path.lastIndexOf(&quot;&#x2F;&quot;); return (separatorIndex &lt; 0) ? path : path.substring(separatorIndex + 1, path.length()); &#125; &#x2F;** * åŠ è½½å›¾ç‰‡ * * @param view * @param url * @throws IOException *&#x2F; private void _displayImage(final ImageView view, final String url, final int errorResId) &#123; final Request request &#x3D; new Request.Builder() .url(url) .build(); Call call &#x3D; mOkHttpClient.newCall(request); call.enqueue(new Callback() &#123; @Override public void onFailure(Request request, IOException e) &#123; setErrorResId(view, errorResId); &#125; @Override public void onResponse(Response response) &#123; InputStream is &#x3D; null; try &#123; is &#x3D; response.body().byteStream(); ImageUtils.ImageSize actualImageSize &#x3D; ImageUtils.getImageSize(is); ImageUtils.ImageSize imageViewSize &#x3D; ImageUtils.getImageViewSize(view); int inSampleSize &#x3D; ImageUtils.calculateInSampleSize(actualImageSize, imageViewSize); try &#123; is.reset(); &#125; catch (IOException e) &#123; response &#x3D; _getAsyn(url); is &#x3D; response.body().byteStream(); &#125; BitmapFactory.Options ops &#x3D; new BitmapFactory.Options(); ops.inJustDecodeBounds &#x3D; false; ops.inSampleSize &#x3D; inSampleSize; final Bitmap bm &#x3D; BitmapFactory.decodeStream(is, null, ops); mDelivery.post(new Runnable() &#123; @Override public void run() &#123; view.setImageBitmap(bm); &#125; &#125;); &#125; catch (Exception e) &#123; setErrorResId(view, errorResId); &#125; finally &#123; if (is !&#x3D; null) try &#123; is.close(); &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; &#125; &#125; &#125;); &#125; private void setErrorResId(final ImageView view, final int errorResId) &#123; mDelivery.post(new Runnable() &#123; @Override public void run() &#123; view.setImageResource(errorResId); &#125; &#125;); &#125; &#x2F;&#x2F;*************å¯¹å¤–å…¬å¸ƒçš„æ–¹æ³•************ public static Response getAsyn(String url) throws IOException &#123; return getInstance()._getAsyn(url); &#125; public static String getAsString(String url) throws IOException &#123; return getInstance()._getAsString(url); &#125; public static void getAsyn(String url, ResultCallback callback) &#123; getInstance()._getAsyn(url, callback); &#125; public static Response post(String url, Param... params) throws IOException &#123; return getInstance()._post(url, params); &#125; public static String postAsString(String url, Param... params) throws IOException &#123; return getInstance()._postAsString(url, params); &#125; public static void postAsyn(String url, final ResultCallback callback, Param... params) &#123; getInstance()._postAsyn(url, callback, params); &#125; public static void postAsyn(String url, final ResultCallback callback, Map&lt;String, String&gt; params) &#123; getInstance()._postAsyn(url, callback, params); &#125; public static Response post(String url, File[] files, String[] fileKeys, Param... params) throws IOException &#123; return getInstance()._post(url, files, fileKeys, params); &#125; public static Response post(String url, File file, String fileKey) throws IOException &#123; return getInstance()._post(url, file, fileKey); &#125; public static Response post(String url, File file, String fileKey, Param... params) throws IOException &#123; return getInstance()._post(url, file, fileKey, params); &#125; public static void postAsyn(String url, ResultCallback callback, File[] files, String[] fileKeys, Param... params) throws IOException &#123; getInstance()._postAsyn(url, callback, files, fileKeys, params); &#125; public static void postAsyn(String url, ResultCallback callback, File file, String fileKey) throws IOException &#123; getInstance()._postAsyn(url, callback, file, fileKey); &#125; public static void postAsyn(String url, ResultCallback callback, File file, String fileKey, Param... params) throws IOException &#123; getInstance()._postAsyn(url, callback, file, fileKey, params); &#125; public static void displayImage(final ImageView view, String url, int errorResId) throws IOException &#123; getInstance()._displayImage(view, url, errorResId); &#125; public static void displayImage(final ImageView view, String url) &#123; getInstance()._displayImage(view, url, -1); &#125; public static void downloadAsyn(String url, String destDir, ResultCallback callback) &#123; getInstance()._downloadAsyn(url, destDir, callback); &#125; &#x2F;&#x2F;**************************** private Request buildMultipartFormRequest(String url, File[] files, String[] fileKeys, Param[] params) &#123; params &#x3D; validateParam(params); MultipartBuilder builder &#x3D; new MultipartBuilder() .type(MultipartBuilder.FORM); for (Param param : params) &#123; builder.addPart(Headers.of(&quot;Content-Disposition&quot;, &quot;form-data; name&#x3D;\\&quot;&quot; + param.key + &quot;\\&quot;&quot;), RequestBody.create(null, param.value)); &#125; if (files !&#x3D; null) &#123; RequestBody fileBody &#x3D; null; for (int i &#x3D; 0; i &lt; files.length; i++) &#123; File file &#x3D; files[i]; String fileName &#x3D; file.getName(); fileBody &#x3D; RequestBody.create(MediaType.parse(guessMimeType(fileName)), file); &#x2F;&#x2F;TODO æ ¹æ®æ–‡ä»¶åè®¾ç½®contentType builder.addPart(Headers.of(&quot;Content-Disposition&quot;, &quot;form-data; name&#x3D;\\&quot;&quot; + fileKeys[i] + &quot;\\&quot;; filename&#x3D;\\&quot;&quot; + fileName + &quot;\\&quot;&quot;), fileBody); &#125; &#125; RequestBody requestBody &#x3D; builder.build(); return new Request.Builder() .url(url) .post(requestBody) .build(); &#125; private String guessMimeType(String path) &#123; FileNameMap fileNameMap &#x3D; URLConnection.getFileNameMap(); String contentTypeFor &#x3D; fileNameMap.getContentTypeFor(path); if (contentTypeFor &#x3D;&#x3D; null) &#123; contentTypeFor &#x3D; &quot;application&#x2F;octet-stream&quot;; &#125; return contentTypeFor; &#125; private Param[] validateParam(Param[] params) &#123; if (params &#x3D;&#x3D; null) return new Param[0]; else return params; &#125; private Param[] map2Params(Map&lt;String, String&gt; params) &#123; if (params &#x3D;&#x3D; null) return new Param[0]; int size &#x3D; params.size(); Param[] res &#x3D; new Param[size]; Set&lt;Map.Entry&lt;String, String&gt;&gt; entries &#x3D; params.entrySet(); int i &#x3D; 0; for (Map.Entry&lt;String, String&gt; entry : entries) &#123; res[i++] &#x3D; new Param(entry.getKey(), entry.getValue()); &#125; return res; &#125; private static final String SESSION_KEY &#x3D; &quot;Set-Cookie&quot;; private static final String mSessionKey &#x3D; &quot;JSESSIONID&quot;; private Map&lt;String, String&gt; mSessions &#x3D; new HashMap&lt;String, String&gt;(); private void deliveryResult(final ResultCallback callback, Request request) &#123; mOkHttpClient.newCall(request).enqueue(new Callback() &#123; @Override public void onFailure(final Request request, final IOException e) &#123; sendFailedStringCallback(request, e, callback); &#125; @Override public void onResponse(final Response response) &#123; try &#123; final String string &#x3D; response.body().string(); if (callback.mType &#x3D;&#x3D; String.class) &#123; sendSuccessResultCallback(string, callback); &#125; else &#123; Object o &#x3D; mGson.fromJson(string, callback.mType); sendSuccessResultCallback(o, callback); &#125; &#125; catch (IOException e) &#123; sendFailedStringCallback(response.request(), e, callback); &#125; catch (com.google.gson.JsonParseException e)&#x2F;&#x2F;Jsonè§£æçš„é”™è¯¯ &#123; sendFailedStringCallback(response.request(), e, callback); &#125; &#125; &#125;); &#125; private void sendFailedStringCallback(final Request request, final Exception e, final ResultCallback callback) &#123; mDelivery.post(new Runnable() &#123; @Override public void run() &#123; if (callback !&#x3D; null) callback.onError(request, e); &#125; &#125;); &#125; private void sendSuccessResultCallback(final Object object, final ResultCallback callback) &#123; mDelivery.post(new Runnable() &#123; @Override public void run() &#123; if (callback !&#x3D; null) &#123; callback.onResponse(object); &#125; &#125; &#125;); &#125; private Request buildPostRequest(String url, Param[] params) &#123; if (params &#x3D;&#x3D; null) &#123; params &#x3D; new Param[0]; &#125; FormEncodingBuilder builder &#x3D; new FormEncodingBuilder(); for (Param param : params) &#123; builder.add(param.key, param.value); &#125; RequestBody requestBody &#x3D; builder.build(); return new Request.Builder() .url(url) .post(requestBody) .build(); &#125; public static abstract class ResultCallback&lt;T&gt; &#123; Type mType; public ResultCallback() &#123; mType &#x3D; getSuperclassTypeParameter(getClass()); &#125; static Type getSuperclassTypeParameter(Class&lt;?&gt; subclass) &#123; Type superclass &#x3D; subclass.getGenericSuperclass(); if (superclass instanceof Class) &#123; throw new RuntimeException(&quot;Missing type parameter.&quot;); &#125; ParameterizedType parameterized &#x3D; (ParameterizedType) superclass; return $Gson$Types.canonicalize(parameterized.getActualTypeArguments()[0]); &#125; public abstract void onError(Request request, Exception e); public abstract void onResponse(T response); &#125; public static class Param &#123; public Param() &#123; &#125; public Param(String key, String value) &#123; this.key &#x3D; key; this.value &#x3D; value; &#125; String key; String value; &#125;&#125; å‚è€ƒæ–‡çŒ®ï¼š [okhttpå®˜æ–¹æ–‡æ¡£] [ å¼ é¸¿æ´‹çš„åšå®¢â€”â€”ä»åŸç†è§’åº¦è§£æAndroid ï¼ˆJavaï¼‰ http æ–‡ä»¶ä¸Šä¼  ] [Android OkHttpå®Œå…¨è§£æ] [OkHttpå®˜æ–¹APIæ–‡æ¡£] https://github.com/square/okhttp/ https://github.com/hongyangAndroid/okhttp-utils","tags":[]},{"title":"Javaä¸­çš„æ­£åˆ™è¡¨è¾¾å¼","date":"2016-09-17T03:31:23.000Z","path":"2016/09/17/Javaä¸­çš„æ­£åˆ™è¡¨è¾¾å¼/","text":"å¾ˆä¹…ä»¥å‰ï¼Œæ­£åˆ™è¡¨è¾¾å¼å°±å·²ç»æ•´åˆåˆ°æ ‡å‡†Unixå·¥å…·é›†ä¹‹ä¸­ï¼Œä¾‹å¦‚sedå’Œawkï¼Œä»¥åŠç¨‹åºè®¾è®¡è¯­è¨€ä¹‹ä¸­äº†ï¼Œä¾‹å¦‚Pythonå’ŒPerlã€‚è€Œåœ¨JAVAä¸­ï¼Œå­—ç¬¦ä¸²æ“ä½œè¿˜ä¸»è¦é›†ä¸­äºStringã€StringBufferå’ŒStringTokenizerç±»ã€‚ä¸æ­£åˆ™è¡¨è¾¾å¼ç›¸æ¯”è¾ƒï¼Œä»–ä»¬åªèƒ½æä¾›ç›¸å½“ç®€å•çš„åŠŸèƒ½ã€‚ åŸºç¡€ ä¸€èˆ¬æ¥è¯´ï¼Œæ­£åˆ™è¡¨è¾¾å¼å°±æ˜¯ä»¥æŸç§æ–¹å¼æè¿°å­—ç¬¦ä¸²ï¼Œå› æ­¤ä½ å¯ä»¥è¯´ï¼šâ€œå¦‚æœä¸€ä¸ªå­—ç¬¦ä¸²å«æœ‰è¿™äº›ä¸œè¥¿ï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯æˆ‘æ­£åœ¨æ‰¾çš„ä¸œè¥¿ã€‚â€ä¾‹å¦‚ï¼Œè¦æ‰¾ä¸€ä¸ªæ•°å­—ï¼Œå®ƒå¯èƒ½æœ‰ä¸€ä¸ªè´Ÿå·åœ¨æœ€å‰é¢ï¼Œé‚£ä½ å°±å†™ä¸€ä¸ªè´Ÿå·åŠ ä¸Šä¸€ä¸ªé—®å·ï¼Œå°±åƒè¿™æ ·ï¼š-? è¦æè¿°ä¸€ä¸ªæ•´æ•°ï¼Œä½ å¯ä»¥è¯´å®ƒæœ‰ä¸€ä½æˆ–å¤šä½é˜¿æ‹‰ä¼¯æ•°å­—ã€‚åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­ï¼Œç”¨\\dè¡¨ç¤ºä¸€ä½æ•°å­—ã€‚å¦‚æœåœ¨å…¶ä»–è¯­è¨€ä¸­ä½¿ç”¨è¿‡æ­£åˆ™è¡¨è¾¾å¼ï¼Œé‚£ä½ ç«‹åˆ»å°±èƒ½å‘ç°Javaå¯¹åæ–œæ \\çš„ä¸åŒå¤„ç†ã€‚åœ¨å…¶ä»–è¯­è¨€ä¸­ï¼Œ\\\\è¡¨ç¤ºâ€œæˆ‘æƒ³è¦åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­æ’å…¥ä¸€ä¸ªæ™®é€šçš„ï¼ˆå­—é¢ä¸Šçš„ï¼‰åæ–œçº¿ï¼Œè¯·ä¸è¦ç»™å®ƒä»»ä½•ç‰¹æ®Šæ„ä¹‰ã€‚â€è€Œåœ¨Javaä¸­ï¼Œ\\\\çš„æ„æ€æ˜¯â€œæˆ‘è¦æ’å…¥ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼çš„åæ–œçº¿ï¼Œæ‰€ä»¥å…¶åçš„å­—ç¬¦å…·æœ‰ç‰¹æ®Šçš„æ„ä¹‰ã€‚â€ä¾‹å¦‚ï¼Œå¦‚æœä½ æƒ³è¡¨ç¤ºä¸€ä¸ªæ•°å­—ï¼Œé‚£ä¹ˆæ­£åˆ™è¡¨è¾¾å¼åº”è¯¥æ˜¯\\\\dã€‚å¦‚æœä½ æƒ³æ’å…¥ä¸€ä¸ªæ™®é€šçš„åæ–œçº¿ï¼Œåˆ™åº”è¯¥è¿™æ ·\\\\\\\\ã€‚ä¸è¿‡æ¢è¡Œå’Œåˆ¶è¡¨ç¬¦ä¹‹ç±»çš„ä¸œè¥¿åªéœ€è¦ä½¿ç”¨å•åæ–œçº¿ï¼š\\n\\tã€‚ è¦è¡¨ç¤ºâ€œä¸€ä¸ªæˆ–å¤šä¸ªä¹‹å‰çš„è¡¨è¾¾å¼â€ï¼Œåº”è¯¥ä½¿ç”¨+ã€‚æ‰€ä»¥ï¼Œå¦‚æœè¦è¡¨ç¤ºâ€œå¯èƒ½æœ‰ä¸€ä¸ªè´Ÿå·åé¢è·Ÿç€ä¸€ä½æˆ–å¤šä½æ•°å­—â€ï¼Œå¯ä»¥è¿™æ ·ï¼š-?\\\\d+ Stringç±»è¿˜è‡ªå¸¦äº†ä¸€ä¸ªéå¸¸æœ‰ç”¨çš„æ­£åˆ™è¡¨è¾¾å¼å·¥å…·â€”â€”split()æ–¹æ³•ï¼Œå…¶åŠŸèƒ½æ˜¯â€œå°†å­—ç¬¦ä¸²ä»æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…çš„åœ°æ–¹åˆ‡å¼€ã€‚â€ åˆ›å»ºæ­£åˆ™è¡¨è¾¾å¼ æˆ‘ä»¬é¦–å…ˆä»æ­£åˆ™è¡¨è¾¾å¼å¯èƒ½å­˜åœ¨çš„æ„é€ é›†ä¸­é€‰å–ä¸€ä¸ªå¾ˆæœ‰ç”¨çš„å­é›†ï¼Œä»¥æ­¤å¼€å§‹å­¦ä¹ æ­£åˆ™è¡¨è¾¾å¼ã€‚æ­£åˆ™è¡¨è¾¾å¼çš„å®Œæ•´æ„é€ å­åˆ—è¡¨ï¼Œè¯·å‚è€ƒJDKæ–‡æ¡£java.util.regexåŒ…ä¸­çš„Patternç±»ã€‚ [Pattern] é‡è¯ é‡è¯æè¿°ä¸€ä¸ªæ¨¡å¼å¸æ”¶è¾“å…¥æ–‡æœ¬çš„æ–¹å¼ï¼š è´ªå©ªå‹ï¼šé‡è¯æ€»æ˜¯è´ªå©ªçš„ï¼Œé™¤éæœ‰å…¶ä»–çš„é€‰é¡¹è¢«è®¾ç½®ã€‚è´ªå©ªè¡¨è¾¾å¼ä¼šä¸ºæ‰€æœ‰å¯èƒ½çš„æ¨¡å¼å‘ç°å°½å¯èƒ½å¤šçš„åŒ¹é…ã€‚å¯¼è‡´æ­¤é—®é¢˜çš„ä¸€ä¸ªå…¸å‹ç†ç”±å°±æ˜¯å‡å®šæˆ‘ä»¬çš„æ¨¡å¼ä»…èƒ½åŒ¹é…ç¬¬ä¸€ä¸ªå¯èƒ½çš„å­—ç¬¦ç»„ï¼Œå¦‚æœå®ƒæ˜¯è´ªå©ªçš„ï¼Œé‚£ä¹ˆå®ƒå°±ä¼šç»§ç»­å¾€ä¸‹åŒ¹é…ã€‚ å‹‰å¼ºå‹ï¼šç”¨é—®å·æ¥æŒ‡å®šï¼Œè¿™ä¸ªé‡è¯åŒ¹é…æ»¡è¶³æ¨¡å¼æ‰€éœ€çš„æœ€å°‘å­—ç¬¦æ•°ã€‚å› æ­¤ä¹Ÿç§°ä½œæ‡’æƒ°çš„ã€æœ€å°‘å åŒ¹é…çš„ã€éè´ªå©ªçš„æˆ–ä¸è´ªå©ªçš„ã€‚ å æœ‰å‹ï¼šç›®å‰ï¼Œè¿™ç§ç±»å‹çš„é‡è¯åªæœ‰åœ¨Javaè¯­è¨€ä¸­æ‰å¯ç”¨ï¼ˆå…¶ä»–è¯­è¨€ä¸­ä¸å¯ç”¨ï¼‰ï¼Œå¹¶ä¸”ä¹Ÿæ›´é«˜çº§ï¼Œå› æ­¤æˆ‘ä»¬å¤§æ¦‚ä¸ä¼šç«‹åˆ»ç”¨åˆ°å®ƒã€‚å½“æ­£åˆ™è¡¨è¾¾å¼è¢«åº”ç”¨äºå­—ç¬¦ä¸²æ—¶ï¼Œå®ƒä¼šäº§ç”Ÿç›¸å½“å¤šçš„çŠ¶æ€ï¼Œä»¥ä¾¿åœ¨åŒ¹é…å¤±è´¥æ—¶å¯ä»¥å›æº¯ã€‚è€Œâ€œå æœ‰çš„â€é‡è¯å¹¶ä¸ä¿å­˜è¿™äº›ä¸­é—´çŠ¶æ€ï¼Œå› æ­¤å®ƒä»¬å¯ä»¥é˜²æ­¢å›æº¯ã€‚å®ƒä»¬å¸¸å¸¸ç”¨äºé˜²æ­¢æ­£åˆ™è¡¨è¾¾å¼æ—¶ç©ºï¼Œå› æ­¤å¯ä»¥ä½¿æ­£åˆ™è¡¨è¾¾å¼æ‰§è¡Œèµ·æ¥æ›´æœ‰æ•ˆã€‚ Patternå’ŒMatcher split() æ›¿æ¢æ“ä½œ reset() æ­£åˆ™è¡¨è¾¾å¼ä¸Java I/O å‚è€ƒæ–‡çŒ®: ã€ŠThink in Java(4 Edtion)ã€‹","tags":[{"name":"æ­£åˆ™è¡¨è¾¾å¼","slug":"æ­£åˆ™è¡¨è¾¾å¼","permalink":"http://tech.noexception.cn/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/"}]},{"title":"å…³äºè‹±è¯­å­¦ä¹ ","date":"2016-09-11T18:29:54.000Z","path":"2016/09/12/å…³äºè‹±è¯­å­¦ä¹ /","text":"[ æ¼å±‹_å¤©æ¶¯ç¤¾åŒº ]","tags":[]},{"title":"å…³äºæŒ‡é’ˆçš„é‚£ç‚¹äº‹","date":"2016-09-10T06:43:09.000Z","path":"2016/09/10/å…³äºæŒ‡é’ˆçš„é‚£ç‚¹äº‹/","text":"ä¸€ç¯‡æœ‰åŠ©äºç†è§£CæŒ‡é’ˆçš„æ–‡ç«  å·¦å€¼å’Œå³å€¼ C++çš„è¡¨è¾¾å¼è¦ä¸ç„¶æ˜¯å³å€¼(rvalueï¼Œè¯»ä½œ&quot;are-value&quot;)ï¼Œè¦ä¸ç„¶å°±æ˜¯å·¦å€¼(lvalueï¼Œè¯»ä½œ&quot;ell-valule&quot;)ã€‚è¿™ä¸¤ä¸ªåæ¬¡æ˜¯ä»Cè¯­è¨€ç»§æ‰¿è¿‡æ¥çš„ï¼ŒåŸæœ¬å°±æ˜¯ä¸ºäº†å¸®åŠ©è®°å¿†çš„ï¼šå·¦å€¼å¯ä»¥ä½äºèµ‹å€¼è¯­å¥çš„å·¦ä¾§ï¼Œå³å€¼ä¸èƒ½ã€‚ åœ¨C++è¯­è¨€ä¸­ï¼ŒäºŒè€…çš„åŒºåˆ«å°±æ²¡æœ‰é‚£ä¹ˆç®€å•äº†ã€‚ä¸€ä¸ªå·¦å€¼è¡¨è¾¾å¼çš„æ±‚å€¼ç»“æœæ˜¯ä¸€ä¸ªå¯¹è±¡æˆ–è€…ä¸€ä¸ªå‡½æ•°ï¼Œç„¶è€Œä»¥å¸¸é‡å¯¹è±¡ä¸ºä»£è¡¨çš„æŸäº›å·¦å€¼å®é™…ä¸Šä¸èƒ½ä½œä¸ºèµ‹å€¼è¯­å¥çš„å·¦ä¾§è¿ç®—å¯¹è±¡ã€‚æ­¤å¤–ï¼Œè™½ç„¶æŸäº›è¡¨è¾¾å¼çš„æ±‚å€¼ç»“æœæ˜¯å¯¹è±¡ï¼Œä½†å®ƒä»¬æ˜¯å³å€¼è€Œéå·¦å€¼ã€‚å¯ä»¥åšä¸€ä¸ªç®€å•çš„å½’çº³ï¼šå½“ä¸€ä¸ªå¯¹è±¡è¢«ç”¨ä½œå³å€¼çš„æ—¶å€™ï¼Œç”¨çš„æ˜¯å¯¹è±¡çš„å€¼ï¼ˆå†…å®¹ï¼‰ï¼›å½“å¯¹è±¡è¢«ç”¨ä½œå·¦å€¼çš„æ—¶å€™ï¼Œç”¨çš„æ˜¯å¯¹è±¡çš„èº«ä»½ï¼ˆåœ¨å†…å­˜ä¸­çš„ä½ç½®ï¼‰ã€‚ ä¸åŒçš„è¿ç®—ç¬¦å¯¹è¿ç®—å¯¹è±¡çš„è¦æ±‚å„æœ‰ä¸åŒï¼Œæœ‰çš„éœ€è¦å·¦å€¼è¿ç®—å¯¹è±¡ã€æœ‰çš„éœ€è¦å³å€¼è¿ç®—å¯¹è±¡ï¼›è¿”å›å€¼ä¹Ÿæœ‰å·®å¼‚ï¼Œæœ‰çš„å¾—åˆ°å·¦å€¼ç»“æœã€æœ‰çš„å¾—åˆ°å³å€¼çš„ç»“æœã€‚ä¸€ä¸ªé‡è¦çš„åŸåˆ™æ˜¯åœ¨éœ€è¦å³å€¼çš„åœ°æ–¹å¯ä»¥ç”¨å·¦å€¼æ¥ä»£æ›¿ï¼Œä½†æ˜¯ä¸èƒ½æŠŠå³å€¼å½“æˆå·¦å€¼ï¼ˆä¹Ÿå°±æ˜¯ä½ç½®ï¼‰ä½¿ç”¨ã€‚å½“ä¸€ä¸ªå·¦å€¼è¢«å½“æˆå³å€¼ä½¿ç”¨æ—¶ï¼Œå®é™…ä½¿ç”¨çš„æ˜¯å®ƒçš„å†…å®¹ï¼ˆå€¼ï¼‰ã€‚å¸¸è§åœ°ï¼Œè¿ç®—ç¬¦è¦ç”¨åˆ°å·¦å€¼çš„æœ‰ä¸€ä¸‹å‡ ä¸ªï¼š èµ‹å€¼è¿ç®—ç¬¦ï¼ˆ*ï¼‰éœ€è¦ä¸€ä¸ªï¼ˆéå¸¸é‡ï¼‰å·¦å€¼ä½œä¸ºå…¶å·¦ä¾§è¿ç®—ç¬¦å¯¹è±¡ï¼Œå¾—åˆ°çš„ç»“æœä¹Ÿä»ç„¶æ˜¯ä¸€ä¸ªå·¦å€¼ï¼› å–åœ°å€ç¬¦(&amp;)ä½œç”¨äºä¸€ä¸ªå·¦å€¼å…ƒç®—å¯¹è±¡ï¼Œè¿”å›ä¸€ä¸ªæŒ‡å‘è¯¥è¿ç®—å¯¹è±¡çš„æŒ‡é’ˆï¼Œè¿™ä¸ªæŒ‡é’ˆæ˜¯ä¸€ä¸ªå³å€¼ã€‚ å†…ç½®è§£æå¼•ç”¨è¿ç®—ç¬¦ã€ä¸‹æ ‡è¿ç®—ç¬¦ã€è¿­ä»£å™¨è§£æå¼•ç”¨è¿ç®—ç¬¦ã€stringå’Œvectorçš„ä¸‹æ ‡è¿ç®—ç¬¦çš„æ±‚å€¼ç»“æœéƒ½æ˜¯å·¦å€¼ã€‚ å†…ç½®ç±»å‹å’Œè¿­ä»£å™¨çš„é€’å¢é€’å‡è¿ç®—ç¬¦ä½œç”¨äºå·¦å€¼è¿ç®—å¯¹è±¡ï¼Œå…¶å‰ç½®ç‰ˆæœ¬æ‰€å¾—çš„ç»“æœä¹Ÿæ˜¯å·¦å€¼ã€‚","tags":[{"name":"æŒ‡é’ˆ","slug":"æŒ‡é’ˆ","permalink":"http://tech.noexception.cn/tags/%E6%8C%87%E9%92%88/"},{"name":"å·¦å€¼ã€å³å€¼","slug":"å·¦å€¼ã€å³å€¼","permalink":"http://tech.noexception.cn/tags/%E5%B7%A6%E5%80%BC%E3%80%81%E5%8F%B3%E5%80%BC/"}]},{"title":"å…³äºAndroidç¨‹åºå´©æºƒçš„ä¸€äº›è®°å½•","date":"2016-08-22T14:54:55.000Z","path":"2016/08/22/å…³äºAndroidç¨‹åºå´©æºƒçš„ä¸€äº›è®°å½•/","text":"Androidåº”ç”¨å´©æºƒçš„åŸå› å½’çº³ Androidå¹³å°ç¨‹åºå´©æºƒçš„ç±»å‹åŠåŸå› åˆ—ä¸¾ Androidå¹³å°ç¨‹åºå´©æºƒå¤§å®¶éƒ½åº”è¯¥é‡åˆ°è¿‡ï¼Œforce closeå’ŒANRåº”è¯¥æ˜¯å¤§å®¶é‡åˆ°è¾ƒå¤šçš„ã€‚ è¿™é‡ŒæŠŠAndroidå¹³å°ç¨‹åºå´©æºƒçš„å„ç§ç±»å‹åšä¸€ä¸ªç®€è¿°å’ŒåŸå› åˆ—ä¸¾ã€‚ ANRï¼ˆå¯è§ANRï¼‰ï¼š å‘ç”Ÿåœºæ™¯ï¼šåº”ç”¨å‘ç”ŸANRã€‚ å´©æºƒç—‡çŠ¶ï¼šç³»ç»Ÿå¼¹å‡ºçª—å£è¯¢é—®ç”¨æˆ·é€‰æ‹©â€œForce Closeâ€æˆ–è€…â€œWaitâ€ã€‚ â€œForce Closeâ€å°†æ€æ‰å‘ç”ŸANRçš„åº”ç”¨è¿›ç¨‹ã€‚ â€œWaitâ€å°†ä¼šç­‰å¾…ç³»ç»Ÿæ‹©æœºæ¢å¤æ­¤åº”ç”¨è¿›ç¨‹ã€‚ å‘ç”ŸåŸå› ï¼šï¼ˆ1ï¼‰åº”ç”¨ä¸»çº¿ç¨‹å¡ä½ï¼Œå¯¹å…¶ä»–è¯·æ±‚å“åº”è¶…æ—¶ã€‚ï¼ˆ2ï¼‰æ­»é”ã€‚ï¼ˆ3ï¼‰ç³»ç»Ÿååº”è¿Ÿé’ã€‚ï¼ˆ4ï¼‰CPUè´Ÿè½½è¿‡é‡ã€‚ Force Closeï¼š å‘ç”Ÿåœºæ™¯ï¼šåº”ç”¨è¿›ç¨‹å´©æºƒã€‚ å´©æºƒç—‡çŠ¶ï¼šç³»ç»Ÿå¼¹å‡ºçª—å£æç¤ºç”¨æˆ·æŸè¿›ç¨‹å´©æºƒã€‚ å‘ç”ŸåŸå› ï¼šç©ºæŒ‡å‘å¼‚å¸¸æˆ–è€…æœªæ•æ‰çš„å¼‚å¸¸ã€‚ Tombstonesï¼š å‘ç”Ÿåœºæ™¯ï¼šNativeå±‚å´©æºƒ å´©æºƒç—‡çŠ¶ï¼šå¦‚æœå‘ç”Ÿå´©æºƒçš„nativeå±‚å’ŒUIæœ‰å…³è”ï¼ˆæ¯”å¦‚Browserï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨UIä¸Šå‘ç°è¿™ä¸ªå´©æºƒã€‚ å¦‚æœå‘ç”Ÿå´©æºƒçš„nativeå±‚æ˜¯åœ¨åå°å¹¶ä¸”å’ŒUIæ²¡æœ‰ç›´æ¥è”ç³»ï¼Œé‚£ä¹ˆå¯¹äºç”¨æˆ·æ¥è¯´æ˜¯ä¸å¯è§çš„ï¼Œå¦‚æœæ˜¯debugç‰ˆæœ¬å¯èƒ½ä¼šæœ‰Logæ‰“å°å‡ºå½“æ—¶çš„åº•å±‚ç°åœºã€‚ å‘ç”ŸåŸå› ï¼šå„ç§å„æ ·ï¼Œéœ€è¦å…·ä½“æƒ…å†µå…·ä½“åˆ†æã€‚ ç³»ç»ŸæœåŠ¡å´©æºƒï¼ˆSystem Server Crashï¼‰ï¼š å‘ç”Ÿåœºæ™¯ï¼šç³»ç»ŸæœåŠ¡æ˜¯Androidæ ¸å¿ƒè¿›ç¨‹ï¼Œæ­¤æœåŠ¡è¿›ç¨‹å‘ç”Ÿå´©æºƒã€‚ å´©æºƒç—‡çŠ¶ï¼šæ‰‹æœºé‡å¯åˆ°Androidå¯åŠ¨ç•Œé¢ å‘ç”ŸåŸå› ï¼šï¼ˆ1ï¼‰ç³»ç»ŸæœåŠ¡çœ‹é—¨ç‹—å‘ç°å¼‚å¸¸ã€‚ï¼ˆ2ï¼‰ç³»ç»ŸæœåŠ¡å‘ç”Ÿæœªæ•è·å¼‚å¸¸ã€‚ï¼ˆ3ï¼‰OOMã€‚ï¼ˆ4ï¼‰ç³»ç»ŸæœåŠ¡Nativeå‘ç”ŸTombstoneã€‚ Kernel Panicsï¼š å‘ç”Ÿåœºæ™¯ï¼šLinuxå†…æ ¸å‘ç”Ÿä¸¥é‡é”™è¯¯ å´©æºƒç—‡çŠ¶ï¼šæ‰‹æœºä»bootloaderå¼€å§‹å®Œå…¨é‡å¯ å‘ç”ŸåŸå› ï¼šï¼ˆ1ï¼‰Linuxå†…æ ¸å†…å­˜ç©ºé—´å‘ç”Ÿå†…å­˜å´©æºƒã€‚ï¼ˆ2ï¼‰å†…æ ¸çœ‹é—¨ç‹—å‘ç°å¼‚å¸¸ã€‚ï¼ˆ3ï¼‰ç©ºæŒ‡é’ˆæ“ä½œå†…æ ¸ã€‚ è½¬è‡ªï¼šhttp://www.cnblogs.com/mobile-veterans","tags":[{"name":"reports","slug":"reports","permalink":"http://tech.noexception.cn/tags/reports/"},{"name":"activity","slug":"activity","permalink":"http://tech.noexception.cn/tags/activity/"}]},{"title":"SuperRecyclerViewç”¨æ³•","date":"2016-08-22T14:53:30.000Z","path":"2016/08/22/SuperRecyclerViewç”¨æ³•/","text":"å…³äºSuperRecyclerViewçš„ç”¨æ³• 1. ç®€ä»‹ï¼š SuperRecyclerViewæ˜¯æ”¯æŒaddHeaderViewã€addFooterViewã€ä¸‹æ‹‰åˆ·æ–°ã€åˆ†é¡µåŠ è½½æ•°æ®çš„RecyclerViewã€‚ å®ƒå¯¹RecyclerViewæ§ä»¶è¿›è¡Œäº†æ‹“å±•ï¼Œç»™RecyclerViewå¢åŠ HeaderViewã€FooterViewï¼Œå¹¶ä¸”ä¸éœ€è¦å¯¹ä½ çš„Adapteråšä»»ä½•ä¿®æ”¹ã€‚ 2. ä¸»è¦åŠŸèƒ½ ä¸‹æ‹‰åˆ·æ–°ã€æ»‘åŠ¨åˆ°åº•éƒ¨è‡ªåŠ¨åŠ è½½ä¸‹é¡µæ•°æ®ï¼› å¯ä»¥æ–¹ä¾¿æ·»åŠ Headerå’ŒFooterï¼› å¤´éƒ¨ä¸‹æ‹‰æ ·å¼å¯ä»¥è‡ªå®šä¹‰ï¼› å…·å¤‡itemç‚¹å‡»å’Œé•¿æŒ‰äº‹ä»¶ã€‚ ç½‘ç»œé”™è¯¯åŠ è½½åŠ è½½å¤±è´¥ç‚¹å‡»Footeré‡æ–°è¯·æ±‚æ•°æ®ï¼› å¯ä»¥åŠ¨æ€ä¸ºFooterViewèµ‹äºˆä¸åŒçŠ¶æ€ï¼ˆåŠ è½½ä¸­ã€åŠ è½½å¤±è´¥ã€æ»‘åˆ°æœ€åº•ç­‰ï¼‰ã€‚ 3. ä½¿ç”¨ æ·»åŠ HeaderViewã€FooterView 123456789101112mDataAdapter = new DataAdapter(this);mDataAdapter.setData(dataList);mHeaderAndFooterRecyclerViewAdapter = new HeaderAndFooterRecyclerViewAdapter(this, mDataAdapter);mRecyclerView.setAdapter(mHeaderAndFooterRecyclerViewAdapter);mRecyclerView.setLayoutManager(new LinearLayoutManager(this));//add a HeaderViewRecyclerViewUtils.setHeaderView(mRecyclerView, new SampleHeader(this));//add a FooterViewRecyclerViewUtils.setFooterView(mRecyclerView, new SampleFooter(this)); æ·»åŠ æ»šåŠ¨ç›‘å¬äº‹ä»¶ 1234567891011121314151617181920212223mRecyclerView.addOnScrolListener(mOnScrollListener);RecyclerOnScrollListener mOnScrollListener = new RecyclerOnScrollListener()&#123; @Override public void onBottom()&#123; LoadingFooter.State state = RecyclerViewUtils.getFooterViewState(mRecyclerView); if(state == LoadingFooter.State.Loading)&#123; Log.d(TAG, \"the state is Loading, just wait...\"); return; &#125; if(mCurrentCounter &lt; TOTAL_COUNTER)&#123; //loading more RecyclerViewStateUtils.setFooterViewState(EndlessLinearLayoutActivity.this, mRecyclerView, REQUEST_COUNT, LoadingFooter.State.Loading, null); requestData(); &#125;else&#123; //the end RecyclerViewStateUtils.setFooterViewState(EndlessLinearLayoutActivity.this, mRecyclerView, REQUEST_COUNT, LoadingFooter.State.TheEnd, null); &#125; &#125;&#125;; **RecyclerOnScrollListener**å®ç°äº†**onScrollUp()ã€onScrollDown()ã€onBottom()ã€onScrolled()**å››ä¸ªäº‹ä»¶ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š 12345678//scroll down to uppublic abstrsct void onScrollUp();//scroll from up to downpublic abstrsct void onScrollDown();//load next pagepublid abstrsct void onBottom();//moving state,you can get the move distancepublic abstrsct void onScrolled(int distanceX, int distenceY); - **onScrollUp()**â€”â€”RecyclerViewå‘ä¸Šæ»‘åŠ¨çš„ç›‘å¬äº‹ä»¶ï¼› - **onScrollDown()**â€”â€”RecyclerViewå‘ä¸‹æ»‘åŠ¨çš„ç›‘å¬äº‹ä»¶ï¼› - **onBottom()**â€”â€”RecyclerViewæ»‘åŠ¨åˆ°åº•éƒ¨çš„ç›‘å¬äº‹ä»¶ï¼› - **onBottom()**â€”â€”RecyclerViewæ­£åœ¨æ»šåŠ¨çš„ç›‘å¬äº‹ä»¶ï¼› åŠ è½½æ›´å¤šï¼ˆåŠ è½½ä¸‹é¡µæ•°æ®ï¼‰ - ä»ä¸Šé¢çš„RecyclerOnScrollListenerç±»çš„ä»‹ç»ä¸­å°±å¯ä»¥çœ‹å‡ºï¼Œå®ç°åŠ è½½æ›´å¤šåªè¦åœ¨**onBottom()**æ¥å£ä¸­å¤„ç†å³å¯ã€‚ æœªå®Œå¾…ç»­â€¦â€¦","tags":[{"name":"view","slug":"view","permalink":"http://tech.noexception.cn/tags/view/"}]},{"title":"CSSçŸ¥è¯†ç‚¹æ•´ç†","date":"2016-08-22T14:48:39.000Z","path":"2016/08/22/CSSçŸ¥è¯†ç‚¹æ•´ç†/","text":"CSSå½’çº³ 1. å¯¹WEBæ ‡å‡†ä»¥åŠW3Cçš„ç†è§£ä¸è®¤çŸ¥ æ ‡ç­¾é—­åˆã€æ ‡ç­¾å°å†™ã€ä¸ä¹±åµŒå¥—ã€æé«˜æœç´¢æœºå™¨äººæœç´¢å‡ ç‡ï¼› ä½¿ç”¨å¤–é“¾CSSå’ŒJSè„šæœ¬ã€ç»“æ„è¡Œä¸ºè¡¨ç°çš„åˆ†ç¦»ã€æ–‡ä»¶ä¸‹è½½ä¸é¡µé¢é€Ÿåº¦æ›´å¿«ï¼› å†…å®¹èƒ½è¢«æ›´å¤šçš„ç”¨æˆ·æ‰€è®¿é—®ã€å†…å®¹èƒ½è¢«æ›´å¹¿æ³›çš„è®¾å¤‡æ‰€è®¿é—®ã€æ›´å°‘çš„ä»£ç å’Œç»„ä»¶ï¼› å®¹æ˜“ç»´æŠ¤ã€æ”¹ç‰ˆæ–¹ä¾¿ï¼Œä¸éœ€è¦å˜åŠ¨é¡µé¢å†…å®¹ï¼› æä¾›æ‰“å°ç‰ˆæœ¬è€Œä¸éœ€è¦å¤åˆ¶å†…å®¹ã€æé«˜ç½‘ç«™æ˜“ç”¨æ€§ï¼› 2. xhtmlå’Œhtmlæœ‰ä»€ä¹ˆåŒºåˆ« HTMLæ˜¯ä¸€ç§åŸºæœ¬çš„WEBç½‘é¡µè®¾è®¡è¯­è¨€ï¼ŒXHTMLæ˜¯ä¸€ä¸ªåŸºäºXMLçš„æ ‡å¿—è¯­è¨€ï¼› æœ€ä¸»è¦çš„ä¸åŒï¼š XHTMLå…ƒç´ å¿…é¡»è¢«æ­£ç¡®çš„åµŒå¥—ã€‚ XHTMLå…ƒç´ å¿…é¡»è¢«å…³é—­ã€‚ XHTMLæ ‡ç­¾åå¿…é¡»ç”¨å°å†™å­—æ¯ã€‚ XHTMLæ–‡æ¡£å¿…é¡»æ‹¥æœ‰æ ¹å…ƒç´ ã€‚ 3. Doctype?ä¸¥æ ¼æ¨¡å¼ä¸æ··æ‚æ¨¡å¼-å¦‚ä½•è§¦å‘è¿™ä¸¤ç§æ¨¡å¼ï¼ŒåŒºåˆ†å®ƒä»¬æœ‰ä½•æ„ä¹‰ï¼Ÿ ç”¨äºå£°æ˜æ–‡æ¡£ä½¿ç”¨é‚£ç§è§„èŒƒ(html\\Xhtml)ä¸€èˆ¬ä¸ºï¼šä¸¥æ ¼ã€è¿‡åº¦ã€åŸºäºæ¡†æ¶çš„htmlæ–‡æ¡£ï¼› åŠ å…¥XMLå£°æ˜å¯è§¦å‘ï¼Œè§£ææ–¹å¼æ›´æ”¹ä¸ºIE5.5æ‹¥æœ‰IE5.5çš„bugï¼› 4. è¡Œå†…å…ƒç´ æœ‰å“ªäº›ï¼Ÿå—çº§å…ƒç´ æœ‰å“ªäº›ï¼ŸCSSçš„ç›’æ¨¡å‹ï¼Ÿ å—çº§å…ƒç´ ï¼šdiv p h1 h2 h3 h4 form ul è¡Œå†…å…ƒç´ : a b br i span input select CSSç›’æ¨¡å‹ï¼šå†…å®¹, border, margin, padding 5. CSSå¼•å…¥çš„æ–¹å¼æœ‰å“ªäº›ï¼Ÿlinkå’Œ@importçš„åŒºåˆ«æ˜¯ï¼Ÿ **å¼•å…¥æ–¹å¼ï¼š**å†…è”ã€å†…åµŒã€å¤–é“¾ã€å¯¼å…¥ linkå’Œ@importåŒºåˆ«ï¼š åŒæ—¶åŠ è½½ï¼› å‰è€…æ— å…¼å®¹ï¼Œåè€…CSS2.1ä»¥ä¸‹æµè§ˆå™¨ä¸æ”¯æŒï¼› Linkæ”¯æŒä½¿ç”¨javascriptæ”¹å˜æ ·å¼ï¼Œåè€…ä¸å¯ï¼› 6. CSSé€‰æ‹©ç¬¦æœ‰å“ªäº›ï¼Ÿå“ªäº›å±æ€§å¯ä»¥ç»§æ‰¿ï¼Ÿä¼˜å…ˆçº§ç®—æ³•å¦‚ä½•è®¡ç®—ï¼Ÿå†…è”å’Œimportantå“ªä¸ªä¼˜å…ˆçº§é«˜ï¼Ÿ é€‰æ‹©ç¬¦ï¼šæ ‡ç­¾é€‰æ‹©ç¬¦ã€ç±»é€‰æ‹©ç¬¦ã€idé€‰æ‹©ç¬¦ï¼› ç»§æ‰¿ä¸å¦‚æŒ‡å®šid&gt;class&gt;æ ‡ç­¾é€‰æ‹© å†…è”å’Œimportantä¼˜å…ˆçº§å“ªä¸ªé«˜ï¼šimportantä¼˜å…ˆçº§é«˜ 7. å‰ç«¯é¡µé¢æœ‰å“ªä¸‰å±‚æ„æˆï¼Œåˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ **ç»“æ„å±‚ï¼š**Html **è¡¨ç¤ºå±‚ï¼š**CSS **è¡Œä¸ºå±‚ï¼š**js 8. CSSçš„åŸºæœ¬è¯­å¥æ„æˆæ˜¯ï¼Ÿ é€‰æ‹©å™¨{å±æ€§1:å€¼1;å±æ€§2:å€¼2;â€¦} 9. ä½ åšçš„é¡µé¢åœ¨é‚£äº›æµè§ˆå™¨æµ‹è¯•è¿‡ï¼Ÿè¿™äº›æµè§ˆå™¨çš„å†…æ ¸åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿ IE(IEå†…æ ¸)ã€ç«ç‹(Gecko)ã€è°·æ­Œ(webkit)ã€opear(Presto) 10. å†™å‡ºå‡ ç§IE6 BUGçš„è§£å†³åŠæ³• åŒè¾¹è·BUGï¼šfloatå¼•èµ·çš„ï¼Œä½¿ç”¨displayï¼› åƒç´ é—®é¢˜ï¼šä½¿ç”¨floatå¼•èµ·çš„ï¼Œä½¿ç”¨display:inline -3px; è¶…é“¾æ¥hoverç‚¹å‡»åå¤±æ•ˆï¼šä½¿ç”¨æ­£ç¡®çš„ä¹¦å†™é¡ºåºlinkvisited hover activen IE z-indexé—®é¢˜:ç»™çˆ¶çº§æ·»åŠ position:relative pngé€æ˜ï¼šä½¿ç”¨jsä»£ç æ”¹ min-heightæœ€å°é«˜åº¦ï¼šimportantè§£å†³ selectåœ¨IE6ä¸‹é®ç›–ï¼šä½¿ç”¨iframeåµŒå¥—ï¼› ä¸ºä»€ä¹ˆæ²¡æœ‰åŠæ³•å®šä¹‰1pxå·¦å³çš„å®½åº¦å®¹å™¨(IE6é»˜è®¤çš„è¡Œé«˜é€ æˆçš„ï¼Œä½¿ç”¨over:hidden,0.08line-height:1px) 11. æ ‡ç­¾titleä¸altå±æ€§çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ Altï¼šå½“å›¾ç‰‡ä¸æ˜¾ç¤ºæ˜¯ç”¨æ–‡å­—ä»£è¡¨ã€‚ Titleï¼šä¸ºè¯¥å±æ€§æä¾›ä¿¡æ¯ 12. æè¿°css resetçš„ä½œç”¨å’Œç”¨é€”ã€‚ css resetçš„ä½œç”¨ï¼šreseté‡ç½®æµè§ˆå™¨çš„cssé»˜è®¤å±æ€§ï¼› ç”¨é€”ï¼šæµè§ˆå™¨çš„å“ç§ä¸åŒï¼Œæ ·å¼ä¸åŒï¼Œç„¶åé‡ç½®ï¼Œè®©ä»–ä»¬ç»Ÿä¸€ï¼› 13. è§£é‡Šcss spritesï¼Œå¦‚ä½•ä½¿ç”¨ã€‚ css spritesï¼šæŠŠä¸€å †å°çš„å›¾ç‰‡æ•´åˆåˆ°ä¸€å¼ å¤§çš„å›¾ç‰‡ä¸Šï¼Œå‡è½»æœåŠ¡å™¨å¯¹å›¾ç‰‡çš„è¯·æ±‚æ•°é‡ 14. æµè§ˆå™¨æ ‡å‡†æ¨¡å¼å’Œæ€ªå¼‚æ¨¡å¼ä¹‹é—´çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ ç›’å­æ¨¡å‹ æ¸²æŸ“æ¨¡å¼çš„ä¸åŒ ä½¿ç”¨window.top.document.compatMode å¯æ˜¾ç¤ºä¸ºä»€ä¹ˆæ¨¡å‹ 15. ä½ å¦‚ä½•å¯¹ç½‘ç«™çš„æ–‡ä»¶å’Œèµ„æºè¿›è¡Œä¼˜åŒ–ï¼ŸæœŸå¾…çš„è§£å†³æ–¹æ¡ˆåŒ…æ‹¬ï¼š æ–‡ä»¶åˆå¹¶ æ–‡ä»¶æœ€å°åŒ–/æ–‡ä»¶å‹ç¼© ä½¿ç”¨CDNæ‰˜ç®¡ ç¼“å­˜çš„ä½¿ç”¨ 16. ä»€ä¹ˆæ˜¯è¯­ä¹‰åŒ–çš„HTML? ç›´è§‚çš„è®¤è¯†æ ‡ç­¾ï¼Œå¯¹äºæœç´¢å¼•æ“çš„æŠ“å–æœ‰å¥½å¤„ 17. æ¸…é™¤æµ®åŠ¨çš„å‡ ç§æ–¹å¼ï¼Œå„è‡ªçš„ä¼˜ç¼ºç‚¹ ä½¿ç”¨ç©ºæ ‡ç­¾æ¸…é™¤æµ®åŠ¨clear:both(ç†è®ºä¸Šèƒ½æ¸…é™¤ä»»ä½•æ ‡ç­¾ï¼Œï¼Œï¼Œå¢åŠ æ— æ„ä¹‰çš„æ ‡ç­¾) ä½¿ç”¨overflow:auto(ç©ºæ ‡ç­¾å…ƒç´ æ¸…é™¤æµ®åŠ¨è€Œä¸å¾—ä¸å¢åŠ æ— æ„ä»£ç çš„å¼Šç«¯ï¼Œä½¿ç”¨zoom:1ç”¨äºå…¼å®¹IE) ä½¿ç”¨afertä¼ªå…ƒç´ æ¸…é™¤æµ®åŠ¨ï¼ˆç”¨äºéIEæµè§ˆå™¨ï¼‰","tags":[{"name":"reports","slug":"reports","permalink":"http://tech.noexception.cn/tags/reports/"},{"name":"css","slug":"css","permalink":"http://tech.noexception.cn/tags/css/"}]},{"title":"ç”¨SSHå®ç°æ— å¯†ç è‡ªåŠ¨ç™»é™†","date":"2016-08-22T14:45:30.000Z","path":"2016/08/22/ç”¨SSHå®ç°æ— å¯†ç è‡ªåŠ¨ç™»é™†/","text":"SSHçš„å…¬é’¥ç§é’¥é—®é¢˜ ç”¨SSHå®ç°æ— å¯†ç è‡ªåŠ¨ç™»é™† SSHå¹¿æ³›ç”¨äºè„šæœ¬è‡ªåŠ¨åŒ–ï¼Œå®ƒä½¿å¾—æˆ‘ä»¬å¯ä»¥åœ¨è¿œç¨‹ä¸»æœºä¸Šæ‰§è¡Œå‘½ä»¤å¹¶è¯»å–è¾“å‡ºã€‚SSHé€šå¸¸ä½¿ç”¨ç”¨æˆ·åå’Œå¯†ç è¿›è¡Œè®¤è¯ï¼Œåœ¨å…¶æ‰§è¡Œè¿‡ç¨‹ä¸­ä¼šæç¤ºè¾“å…¥å¯†ç ã€‚ä½†æ˜¯åœ¨è‡ªåŠ¨åŒ–è„šæœ¬ä¸­è¦æ±‚ç”¨æˆ·è¾“å…¥å¯†ç å°±æ˜¾å¾—ä¸å®é™…äº†ã€‚å› æ­¤éœ€è¦å°†ç™»å½•è¿‡ç¨‹è‡ªåŠ¨åŒ–ã€‚SSHåŒ…å«äº†ä¸€ä¸ªå†…å»ºç‰¹æ€§ï¼Œå¯ä»¥ç”¨SSHå¯†é’¥å®ç°è‡ªåŠ¨ç™»å½•ã€‚ 1. é¢„å¤‡çŸ¥è¯†ï¼š SSHé‡‡ç”¨éå¯¹ç§°åŠ å¯†æŠ€æœ¯ï¼Œè®¤è¯å¯†é’¥åŒ…å«ä¸¤éƒ¨åˆ†ï¼šä¸€ä¸ªå…¬é’¥å’Œä¸€ä¸ªç§é’¥ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ssh-keygen å‘½ä»¤åˆ›å»ºè®¤è¯å¯†é’¥ã€‚æƒ³è¦å®ç°è‡ªåŠ¨åŒ–è®¤è¯ï¼Œå…¬é’¥å¿…é¡»æ”¾ç½®åœ¨æœåŠ¡å™¨ä¸­ï¼ˆå°†å…¶åŠ å…¥æ–‡ä»¶~/.ssh/authorized_keysï¼‰ï¼Œä¸å…¬é’¥å¯¹åº”çš„ç§é’¥åº”è¯¥æ”¾å…¥ç™»å½•å®¢æˆ·æœºçš„~/.ssh ç›®å½•ä¸­ã€‚å¦ä¸€äº›ä¸SSHç›¸å…³çš„é…ç½®ä¿¡æ¯ï¼ˆä¾‹å¦‚ï¼Œarthorized_keysæ–‡ä»¶çš„è·¯å¾„ä¸åç§°ï¼‰å¯ä»¥é€šè¿‡ä¿®æ”¹æ–‡ä»¶/etc/ssh/sshd_configè¿›è¡Œé…ç½®ã€‚ 2. å®æˆ˜æ¼”ç»ƒï¼š è®¾ç½®SSHè‡ªåŠ¨åŒ–è®¤è¯éœ€è¦ä¸¤æ­¥ï¼š 1. åˆ›å»ºSSHå¯†é’¥ï¼Œè¿™é‡Œç”¨äºç™»å½•è¿œç¨‹ä¸»æœºï¼› 2. å°†ç”Ÿæˆçš„å…¬é’¥ä¼ ç»™è¿œç¨‹ä¸»æœºï¼Œå¹¶å°†å…¶åŠ å…¥æ–‡ä»¶~/.ssh/authorized_keys ä¸­ã€‚ è¾“å…¥å‘½ä»¤ssh-keygen åˆ›å»ºSSHå¯†é’¥ï¼Œå¹¶æŒ‡å®šåŠ å¯†ç®—æ³•ç±»å‹ä¸ºRSAï¼š 123456789101112131415161718192021$ ssh-keygen -t rsaGenerating public&#x2F;private rsa key pair.Enter file in which to save the key (&#x2F;home&#x2F;HELEN&#x2F;.ssh&#x2F;id_rsa):Enter passphrase (empty for no passphrase):Enter same passphrase again:Your identification has been saved in &#x2F;home&#x2F;HELEN&#x2F;.ssh&#x2F;id_rsa.Your public key has been saved in &#x2F;home&#x2F;HELEN&#x2F;.ssh&#x2F;id_rsa.pub.The key fingerprint is:SHA256:NKlL1KFVD867uAwLIAd01ujibgrwx18Q45FrFlOCV4Q HELEN@LuciferThe key&#39;s randomart image is:+---[RSA 2048]----+| . oo..+*.o ||. o...EB &#x3D; o ||. . .X &#x3D; o . || o . o X . . ||+ + O S . ||.&#x3D; o + o . . ||o . + o o . ||.o . o &#x3D; . ||+ o o |+----[SHA256]-----+ ä½ éœ€è¦è¾“å…¥ä¸€ä¸ªå£ä»¤æ¥ç”Ÿæˆä¸€å¯¹å…¬é’¥å’Œç§é’¥ã€‚å¦‚æœä¸è¾“å…¥çš„è¯ï¼Œä¹Ÿå¯ä»¥ç”Ÿæˆå¯†é’¥ï¼Œä½†æ˜¯è¿™æ ·åšå¯ä¸å®‰å…¨ã€‚æˆ‘ä»¬å¯ä»¥ç¼–å†™ç›‘æ§è„šæœ¬ï¼Œåˆ©ç”¨è‡ªåŠ¨ç™»é™†æ¥ç™»å…¥å¤šå°ä¸»æœºã€‚å¯¹äºè¿™ç§æƒ…å†µï¼Œåœ¨è¿è¡Œssh-keygen å‘½ä»¤æ—¶ï¼Œä¸è¦å¡«å…¥å£ä»¤ï¼Œè¿™æ ·å°±èƒ½å¤Ÿé¿å…åœ¨è„šæœ¬è¿è¡Œæ—¶å‘ä½ ç´¢è¦å£ä»¤äº†ã€‚ ç°åœ¨~/.ssh/id_rsa.pubå’Œ~/.ssh/id_rsa å·²ç»ç”Ÿæˆäº†ã€‚id_rsa.pubæ˜¯ç”Ÿæˆçš„å…¬é’¥ï¼Œ**i_rsaæ˜¯ç”Ÿæˆçš„ç§é’¥ã€‚**å…¬é’¥å¿…é¡»æ·»åŠ åˆ°è¿œç¨‹æœåŠ¡å™¨~/.ssh/authorized_keys æ–‡ä»¶ä¸­ï¼Œè¿™å°æœåŠ¡å™¨ä¹Ÿæ­£æ˜¯æˆ‘ä»¬æƒ³ä»å½“å‰ä¸»æœºè‡ªåŠ¨ç™»å…¥çš„é‚£å°æœåŠ¡å™¨ã€‚ å¤šæ•°Linuxå‘å¸ƒç‰ˆä¸­æœ‰ä¸€ä¸ªå«åš ssh-copy-di çš„å·¥å…·ï¼Œå®ƒå¯ä»¥è‡ªåŠ¨å°†å…¬é’¥åŠ å…¥è¿œç¨‹æœåŠ¡å™¨çš„authorized_keysæ–‡ä»¶ä¸­ã€‚ç”¨æ³•å¦‚ä¸‹ï¼šssh-copy-id USER@REMOTE_HOST","tags":[{"name":"ssh","slug":"ssh","permalink":"http://tech.noexception.cn/tags/ssh/"}]},{"title":"æ»‘åŠ¨èœå•","date":"2016-08-22T14:38:23.000Z","path":"2016/08/22/æ»‘åŠ¨èœå•/","text":"ä»‹ç»æ»‘åŠ¨èœå•çš„ç”¨æ³• é¢„å¤‡ï¼š support v4åŒ…ï¼Œç»§æ‰¿è‡ªViewGroup ç¤ºä¾‹ï¼š æ ·å¼ä¸€ï¼š ç¤ºä¾‹å¸ƒå±€ 1234567891011121314151617181920212223242526272829303132333435363738394041&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;&lt;android.support.v4.widget.SlidingPaneLayout xmlns:android=\"http://schemas.android.com/apk/res/android\" xmlns:app=\"http://schemas.android.com/apk/res-auto\" android:id=\"@+id/SlidingPane\" android:layout_width=\"match_parent\" android:layout_height=\"match\" android:background=\"#D32F2F\"&gt; &lt;LinearLayout android:id=\"@+id/ll_menu\" android:gravity=\"center\" android:layout_width=\"200dp\" android:background=\"#d32f2f\" android:layout_height=\"match_parent\"&gt; &lt;TextView android:text=\"Menu\" android:textSize=\"25sp\" android:textColor=\"#ffffff\" android:layout_width=\"wrap_content\" android:layout_height=\"wrap_content\" /&gt; &lt;/LinearLayout&gt; &lt;LinearLayout android:id=\"@+id/ll_main\" android:background=\"#ffffff\" android:orientation=\"vertical\" android:layout_width=\"match_parent\" android:layout_height=\"match_parent\"&gt; &lt;android.support.v7.widget.Toolbar android:id=\"@+id/toolbar\" android:layout_width=\"match_parent\" android:layout_height=\"?attr/actionBarSize\" android:background=\"@color/colorPrimary\" app:popupTheme=\"@style/ThemeOverlay.AppCompat.Light\" app:theme=\"@style/ThemeOverlay.AppCompat.Dark.ActionBar\"/&gt; &lt;/LinearLayout&gt;&lt;/android.support.v4.widget.SlidingPaneLayout&gt; SlidingPaneLayout ä¸€äº›ä¸»è¦çš„æ–¹æ³•ï¼š setParallaxDistance(int parallaxBy)è®¾ç½®æ»‘åŠ¨è§†å·® setCoveredFadeColor(int color)å¯¼èˆªèœå•è§†å›¾çš„æ»‘åŠ¨é¢œè‰²æ¸å˜ setSliderFadeColor(int color)ä¸»è§†å›¾çš„æ»‘åŠ¨é¢œè‰²æ¸å˜ setPanelSlideListener(SlidingPanelLayou.PanelSlideListener listener)æ»‘åŠ¨ç›‘å¬ openPanel()æ‰“å¼€å¯¼èˆªèœå• closePanel()å…³é—­å¯¼èˆªèœå• 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263public class SlidingPanelLayoutActivity extends AppCompatActivity &#123; private SlidingPaneLayout mSlidingPane; private LinearLayout ll_menu,ll_main; @Override protected void onCreate(@Nullable Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); setContentView(R.layout.first_layout); mSlidingPane=(SlidingPaneLayout)findViewById(R.id.SlidingPane); ll_main=(LinearLayout) findViewById(R.id.ll_main); ll_menu=(LinearLayout) findViewById(R.id.ll_menu); setSupportActionBar((Toolbar)findViewById(R.id.toolbar)); //è®¾ç½®æ»‘åŠ¨è§†å·® å¯é€‰ mSlidingPane.setParallaxDistance(200); //èœå•æ»‘åŠ¨çš„é¢œè‰²æ¸å˜è®¾ç½® å¯é€‰// mSlidingPane.setCoveredFadeColor(getResources().getColor(R.color.colorAccent)); //ä¸»è§†å›¾æ»‘åŠ¨çš„é¢œè‰²æ¸å˜è®¾ç½® å¯é€‰ mSlidingPane.setSliderFadeColor(0); //æ»‘åŠ¨ç›‘å¬ å¯é€‰ mSlidingPane.setPanelSlideListener(new SlidingPaneLayout.PanelSlideListener()&#123; /** * Called when a sliding pane's position changes. * * @param panel The child view that was moved * @param slideOffset The new offset of this sliding pane within its range, from 0-1 */ @Override public void onPanelSlide(View panel, float slideOffset) &#123; Log.d(\"mylog\", \"slide---\"+slideOffset); //slideOffsetè¿™ä¸ªå‚æ•°æ˜¯è·Ÿéšæ»‘åŠ¨0-1å˜åŒ–çš„ //é€šè¿‡è¿™ä¸ªç«–ç›´å˜åŒ–æˆ‘ä»¬å¯ä»¥åšå‡ºä¸€äº›ä¸ä¸€æ ·çš„æ»‘åŠ¨æ•ˆæœ// ll_menu.setScaleY(slideOffset/2+0.5F);// ll_menu.setScaleX(slideOffset/2+0.5F);// ll_main.setScaleY(1-slideOffset/5); &#125; /** * Called when a sliding pane becomes slid completely open. The pane may or may not * be interactive at this point depending on how much of the pane is visible. * * @param panel The child view that was slid to an open position, revealing other panes */ @Override public void onPanelOpened(View panel) &#123; Log.d(\"mylog\",\"slide---open\"); &#125; /** * Called when a sliding pane becomes slid completely closed. The pane is now guaranteed * to be interactive. It may now obscure other views in the layout. * * @param panel The child view that was slid to a closed position */ @Override public void onPanelClosed(View panel) &#123; Log.d(\"mylog\",\"slide---close\"); &#125; &#125;); &#125;&#125; è¿™æ ·å°±åšå‡ºäº†äº’åŠ¨å¯¼èˆªçš„æ•ˆæœ æ³¨æ„ï¼šåœ¨æ»‘åŠ¨ç›‘å¬ä¸­çš„è¿™ä¸ªæ–¹æ³•é‡Œï¼Œæ ¹æ®slideOffsetå‚æ•°0~1çš„å˜åŒ–å¯ä»¥å»æ”¹å˜è§†å›¾å¤§å°å°±ä¼šåšå‡ºæ›´å¤šç§ç±»çš„æ•ˆæœï¼Œè¿™é‡Œæˆ‘ä»¬è®¾ç½®æ»‘åŠ¨è¿‡ç¨‹ä¸­æ”¹å˜ä¸»è§†å›¾çš„å¤§å°ï¼Œä»£ç å¦‚ä¸‹ï¼š 1234567public void onPanelSlide(View panel, float slideOffset)&#123; //slideOffsetè¿™ä¸ªå‚æ•°æ˜¯è·Ÿéšæ»‘åŠ¨0~1å˜åŒ–çš„ //é€šè¿‡è¿™ä¸ªæ•°å€¼å˜åŒ–æˆ‘ä»¬å¯ä»¥åšå‡ºä¸€äº›ä¸ä¸€æ ·çš„æ»‘åŠ¨æ•ˆæœ ll_menu.setScaleY(slideOffset/2+0.5F); ll_menu.setScaleX(slideOffset.2+0.5F); ll_main.setScaleY(1-slideOffset/5);&#125; æ ·å¼äºŒï¼š å¿«é€Ÿå®ç°è¿™ä¸ªæ•ˆæœéœ€è¦åˆ©ç”¨V4åŒ…çš„DrawerLayoutè¿™ä¸ªå¸ƒå±€å®¹å™¨ï¼Œå¯è§V4åŒ…ä¸‹é¢æœ‰å¤šå°‘å¥½ä¸œè¥¿ï¼Œå¦å¤–å…¶å®SlidingPaneLayoutå’ŒDrawerLayoutéƒ½æ˜¯åˆ©ç”¨V4çš„ViewDragHelperå»å®ç°çš„ï¼Œè¿™æ˜¯ä¸€ä¸ªå¸®åŠ©ç±»ï¼Œè¿™é‡Œå°±ä¸å¤šä»‹ç»äº†ï¼Œå¯¹å®ƒæ„Ÿå…´è¶£çš„å¯ä»¥æ·±å…¥äº†è§£ä¸‹ã€‚ ç¤ºä¾‹å¸ƒå±€ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\" xmlns:tools=\"http://schemas.android.com/tools\" xmlns:app=\"http://schemas.android.com/apk/res-auto\" android:orientation=\"vertical\" android:layout_width=\"match_parent\" android:layout_height=\"match_parent\"&gt; &lt;android.support.v7.widget.Toolbar android:id=\"@+id/toolbar2\" android:layout_width=\"match_parent\" android:layout_height=\"?attr/actionBarSize\" android:background=\"@color/colorPrimary\" app:popupTheme=\"@style/ThemeOverlay.AppCompat.Light\" app:theme=\"@style/ThemeOverlay.AppCompat.Dark.ActionBar\"/&gt; &lt;android.support.v4.widget.DrawerLayout android:id=\"@+id/dl_left\" android:layout_width=\"match_parent\" android:layout_height=\"match_parent\"&gt; &lt;LinearLayout android:background=\"#ffffff\" android:layout_width=\"match_parent\" android:layout_height=\"match_parent\"&gt; &lt;/LinearLayout&gt; &lt;!--drawer layout--&gt; &lt;LinearLayout android:layout_width=\"200dp\" android:layout_height=\"match_parent\" android:background=\"#d32f2f\" android:layout_gravity=\"start\"&gt; &lt;TextView android:layout_width=\"match_parent\" android:layout_height=\"match_parent\" android:text=\"Menu\" android:textSize=\"25sp\" android:gravity=\"center\" android:textColor=\"#ffffff\"/&gt; &lt;/LinearLayout&gt; &lt;/android.support.v4.widget.DrawerLayout&gt;&lt;/LinearLayout&gt; éœ€è¦æ³¨æ„çš„æ˜¯ä¸»è§†å›¾çš„å¸ƒå±€ä»£ç è¦æ”¾åœ¨ä¾§æ»‘èœå•å¸ƒå±€çš„å‰é¢ï¼Œä¾§æ»‘èœå•å¸ƒå±€çš„ä»£ç ä¸­android:layout_gravity=&quot;start&quot;ä»å·¦ä¾§æ»‘åŠ¨ï¼Œåä¹‹endå³ä¾§æ»‘åŠ¨ DrawerLayoutçš„ä¸€äº›ä¸»è¦æ–¹æ³•ï¼š addDrawerListener(DrawerLayout.DrawerListener listener)æ·»åŠ æ»‘åŠ¨ç›‘å¬ openDrawer(int gravity)å¼€å¯å¯¼èˆªèœå•å‚æ•°ï¼šGravityCompat.START GravityCompat.ENDè¦è·ŸXMLè®¾ç½®ç›¸åŒ closeDrawer(int gravity)å…³é—­å¯¼èˆªèœå• isDrawerOpen(int drawerGravity)èœå•æ˜¯å¦å¼€å¯ 123456789101112131415161718192021222324252627282930313233343536373839404142public class DrawerLayoutActivity extends AppCompatActivity &#123; private DrawerLayout drawerLayout; private Toolbar toolbar; @Override protected void onCreate(@Nullable Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); setContentView(R.layout.second_layout); setSupportActionBar(toolbar = (Toolbar) findViewById(R.id.toolbar2)); drawerLayout = (DrawerLayout)findViewById(R.id.dl_left); //ActionBarDrawerToggleæ˜¯DrawerLayout.DrawerListenerçš„å®ç° //å¯ä»¥æ–¹ä¾¿çš„å°†drawlayoutå’Œactionbarç»“åˆèµ·æ¥ ActionBarDrawerToggle actionBarDrawerToggle = new ActionBarDrawerToggle(this,drawerLayout, toolbar, R.string.open, R.string.close)&#123; /** * &#123;@link DrawerLayout.DrawerListener&#125; callback method. If you do not use your * ActionBarDrawerToggle instance directly as your DrawerLayout's listener, you should call * through to this method from your own listener object. * * @param drawerView Drawer view that is now open */ @Override public void onDrawerOpened(View drawerView) &#123; super.onDrawerOpened(drawerView); &#125; /** * &#123;@link DrawerLayout.DrawerListener&#125; callback method. If you do not use your * ActionBarDrawerToggle instance directly as your DrawerLayout's listener, you should call * through to this method from your own listener object. * * @param drawerView Drawer view that is now closed */ @Override public void onDrawerClosed(View drawerView) &#123; super.onDrawerClosed(drawerView); &#125; &#125;; actionBarDrawerToggle.syncState(); drawerLayout.addDrawerListener(actionBarDrawerToggle); &#125;&#125; DrawerLayoutè·ŸActionBarDrawerToggleé…åˆå¿«é€Ÿå°±å¯ä»¥å¿«é€Ÿæ„å»ºå‡ºå…·æœ‰åŠ¨ç”»äº¤äº’çš„æ»‘åŠ¨å¯¼èˆªèœå•æ•ˆæœï¼Œæ˜¯ä¸æ˜¯å¾ˆç®€å•ã€‚ å½“ä¸‹çš„è®¾è®¡æ ‡å‡† æ¥ä¸‹æ¥æ€»ç»“â€œå½“ä¸‹â€å¦‚ä½•æŒ‰ç…§Androidçš„è®¾è®¡æ ‡å‡†å»æ»‘åŠ¨å¯¼èˆªèœå•ï¼Œæˆ‘ä¸ºä»€ä¹ˆè¯´çš„â€œå½“ä¸‹â€å‘¢ï¼Ÿå› ä¸ºè¿™ä¸ªè®¾è®¡æ ‡å‡†æ˜¯ä¼šå˜çš„ã€‚ æ»‘åŠ¨å¯¼èˆªèœå•éœ€è¦åœ¨Actionbar(Toolbar)ä¸‹é¢ï¼Œè¿™åœ¨Android 4.Xæ—¶ä»£æ˜¯æ¯”è¾ƒå¸¸è§çš„è®¾è®¡ï¼Œä¹Ÿæ˜¯å½“æ—¶Android Designæ ‡å‡†è®¾è®¡ã€‚ ###å®ç°æ­¥éª¤ï¼š å› ä¸ºNavigationViewåœ¨Designåº“ä¸­ï¼Œéœ€è¦æ·»åŠ ä¾èµ–ï¼šcompile 'com.android.support:design:24.0.0' åœ¨DrawLayout ä¸­æ·»åŠ  NavigationView: å¸ƒå±€ï¼š 1234567891011121314151617181920212223242526272829303132&lt;android.support.v4.widget.DrawerLayout xmlns:android=\"http://schemas.android.com/apk/res/android\" xmlns:app=\"http://schemas.android.com/apk/res-auto\" android:layout_width=\"match_parent\" android:layout_height=\"match_parent\" android:id=\"@+id/drawerlayout\" android:fitsSystemWindows=\"true\"&gt; &lt;LinearLayout android:id=\"@+id/ll_main\" android:layout_width=\"match_parent\" android:layout_height=\"match_parent\" android:orientation=\"vertical\"&gt; &lt;android.support.v7.widget.Toolbar android:id=\"@+id/toolbar\" android:layout_width=\"match_parent\" android:layout_height=\"?attr/actionBarSize\" android:background=\"@color/colorPrimary\" app:popupTheme=\"@style/ThemeOverlay.AppCompat.Light\" app:theme=\"@style/ThemeOverlay.AppCompat.Dark.ActionBar\"/&gt; &lt;/LinearLayout&gt; &lt;android.support.design.widget.NavigationView android:id=\"@+id/navigationView\" android:layout_width=\"wrap_content\" android:layout_height=\"match_parent\" android:layout_gravity=\"start\" app:headerLayout=\"@layout/nv_header\" app:menu=\"@menu/main_drawer\"/&gt;&lt;/android.support.v4.widget.DrawerLayout&gt; å› ä¸ºå±äºDrawLayoutçš„å¯¼èˆªèœå•å¸ƒå±€ï¼Œæ‰€ä»¥NavigationViewè¦åŠ ä¸Šandroid:layout_gravity=&quot;start&quot;ä»£è¡¨ä»å·¦é¢æ»‘åŠ¨ï¼Œåä¹‹æ˜¯&quot;end&quot;ã€‚ å…¶ä¸­app:headerLayout=&quot;@layout/nv_header&quot;éœ€è¦ä¼ å…¥ä¸€ä¸ªå¯¼èˆªèœå•çš„å¤´éƒ¨å¸ƒå±€ï¼Œå®ƒçš„ä½œç”¨å¦‚å›¾ç»¿æ¡†éƒ¨åˆ†ã€‚ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243//å¤´éƒ¨å¸ƒå±€ä»£ç &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\" android:orientation=\"vertical\" android:layout_width=\"match_parent\" android:layout_height=\"180dp\" android:background=\"@drawable/background_material\" android:gravity=\"bottom\" android:padding=\"16dp\"&gt; &lt;LinearLayout android:layout_marginTop=\"8dp\" android:layout_width=\"match_parent\" android:layout_height=\"0dp\" android:layout_weight=\"1\" android:gravity=\"center_vertical\"&gt; &lt;ImageView android:id=\"@+id/profile_image\" android:layout_width=\"76dp\" android:layout_height=\"76dp\" android:background=\"@drawable/z\"/&gt; &lt;/LinearLayout&gt; &lt;TextView android:text=\"xlucifer\" android:textSize=\"14sp\" android:textColor=\"#fff\" android:textStyle=\"bold\" android:paddingBottom=\"4dp\" android:layout_width=\"wrap_content\" android:layout_height=\"wrap_content\" /&gt; &lt;TextView android:layout_width=\"wrap_content\" android:layout_height=\"wrap_content\" android:text=\"1234567890\" android:textSize=\"14sp\" android:textColor=\"#fff\"/&gt;&lt;/LinearLayout&gt; app:menu=&quot;@menu/main_drawer&quot;ç”¨äºè®¾ç½®å¯¼èˆªèœå•ä¸­çš„èœå•éƒ¨åˆ†ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;&lt;menu xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;&lt;group&gt; &lt;item android:id=\"@+id/navigation_item1\" android:checkable=\"true\" android:title=\"First\" android:icon=\"@mipmap/ic_launcher\"/&gt; &lt;item android:id=\"@+id/navigation_item2\" android:checkable=\"true\" android:title=\"Second\" android:icon=\"@mipmap/ic_launcher\"/&gt; &lt;item android:id=\"@+id/navigation_item3\" android:checkable=\"true\" android:title=\"Third\" android:icon=\"@mipmap/ic_launcher\"/&gt; &lt;item android:id=\"@+id/navigation_item4\" android:checkable=\"true\" android:title=\"Fourth\" android:icon=\"@mipmap/ic_launcher\"/&gt; &lt;item android:id=\"@+id/navigation_sub\" android:title=\"å…¶ä»–\"&gt; &lt;menu&gt; &lt;item android:id=\"@+id/navigation_sub_item1\" android:checkable=\"true\" android:title=\"Fifth\" android:icon=\"@mipmap/ic_launcher\"/&gt; &lt;item android:id=\"@+id/navigation_sub_item2\" android:checkable=\"true\" android:title=\"Sixth\" android:icon=\"@mipmap/ic_launcher\"/&gt; &lt;item android:id=\"@+id/navigation_sub_item3\" android:checkable=\"true\" android:title=\"Seventh\" android:icon=\"@mipmap/ic_launcher\"/&gt; &lt;/menu&gt; &lt;/item&gt;&lt;/group&gt;&lt;/menu&gt; æœ€åæ˜¯javaä¸­ä»£ç å®ç°ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243public class NavigationViewActivity extends AppCompatActivity &#123; private DrawerLayout drawerLayout; private Toolbar toolbar; private NavigationView navigationView; @Override protected void onCreate(@Nullable Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); setContentView(R.layout.drawlayout_activity); if(Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.KITKAT)&#123; //é€æ˜çŠ¶æ€æ  getWindow().addFlags(WindowManager.LayoutParams.FLAG_TRANSLUCENT_STATUS); &#125; setSupportActionBar(toolbar=(Toolbar)findViewById(R.id.toolbar)); drawerLayout=(DrawerLayout)findViewById(R.id.drawerlayout); navigationView=(NavigationView)findViewById(R.id.navigationView); ActionBarDrawerToggle actionBarDrawerToggle = new ActionBarDrawerToggle(this, drawerLayout, toolbar, R.string.open, R.string.close); actionBarDrawerToggle.syncState(); drawerLayout.addDrawerListener(actionBarDrawerToggle); //navigationView menuç‚¹å‡»ç›‘å¬ navigationView.setNavigationItemSelectedListener(new NavigationView.OnNavigationItemSelectedListener()&#123; @Override public boolean onNavigationItemSelected(MenuItem menuItem) &#123; selectDrawerItem(menuItem); return true; &#125; &#125;); &#125; private void selectDrawerItem(MenuItem menuItem) &#123; switch (menuItem.getItemId())&#123; //... default: Toast.makeText(NavigationViewActivity.this, \"menu click\", Toast.LENGTH_SHORT).show(); break; &#125; menuItem.setChecked(true); drawerLayout.closeDrawers(); &#125;&#125; å…¶ä¸­ä¸‹é¢ä»£ç å’Œå¸ƒå±€ä»£ç ä¸­çš„android:fitsSystemWindows=&quot;true&quot;èµ·åˆ°ä¸€ä¸ªåŠé€æ˜çŠ¶æ€æ çš„ä½œç”¨ï¼ŒåŠé€æ˜çŠ¶æ€æ æ•ˆæœæœ‰å„ç§å®ç°æ–¹å¼ï¼Œgoogleä¹Ÿæ²¡èƒ½ç»™ä¸€ä¸ªå¥½çš„å®ç°æ–¹å¼ï¼Œåç»­å¯èƒ½ä¼šè€ƒè™‘å†™ä¸€ä¸ªå…¨é¢çš„äº†è§£é€æ˜çŠ¶æ€æ•ˆæœçš„æ–‡ç«  1234if(Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.KITKAT)&#123; //é€æ˜çŠ¶æ€æ  getWindow().addFlags(WindowManager.LayoutParams.FLAG_TRANSLUCENT_STATUS);&#125;","tags":[{"name":"view","slug":"view","permalink":"http://tech.noexception.cn/tags/view/"}]},{"title":"Android Studio NDKçš„é…ç½®","date":"2016-08-21T18:52:50.000Z","path":"2016/08/22/First/","text":"ç¯å¢ƒçš„é…ç½®ä»¥åŠHelloWorldä¾‹ç¨‹ æ–°å»ºProjectï¼Œæ­¤å¤„å·¥ç¨‹æ˜¯æœ€ç®€å•çš„ä¸€ä¸ªMainActivityå’Œä¸€ä¸ªlayoutæ–‡ä»¶ï¼Œåœ¨å·¥ç¨‹é‡Œå£°æ˜nativeæ–¹æ³•ã€‚public static native String Hello(); ç¼–è¯‘hå¤´æ–‡ä»¶ View-&gt;Tool Windows-&gt;Terminalï¼Œè¿›å…¥å·¥ç¨‹ç›®å½•ã€‚ cd app/src/main/java 2. ç¼–è¯‘å¤´æ–‡ä»¶javah -classpath D:/Android-ProjectsSetUp/MyNDK/app/src/main/java -d jni åŒ…å.MainActivty -classpath:ç±»æ‰€åœ¨ç›®å½• -d:è¾“å‡ºç›®å½• jni+åŒ…å+ç±»å ç¼–å†™Cæ–‡ä»¶ æ–°å»ºJNIæ–‡ä»¶å¤¹ å®ç°å¤´æ–‡ä»¶é‡Œçš„å‡½æ•° - **å°†åˆšæ‰çš„å¤´æ–‡ä»¶å¤åˆ¶åˆ°è¿™ä¸ªæ–°çš„jniæ–‡ä»¶å¤¹ä¸­** - æ–°å»ºä¸€ä¸ªCæºæ–‡ä»¶ï¼Œå®ç°ä»£ç ï¼ˆæ³¨ï¼šå½“æ—¶è¿è¡Œç¨‹åºå‡ºäº†é—®é¢˜ï¼Œä¸çŸ¥é“æ˜¯æˆ‘Rebulidè¿˜æ˜¯çœŸçš„æ˜¯å«äº†ä¸€ä¸ªç©ºçš„Cæºæ–‡ä»¶è§£å†³çš„é—®é¢˜ã€‚å› ä¸ºç½‘ä¸Šè¯´è¦åŠ ä¸€ä¸ªåœ¨Jniæ–‡ä»¶å¤¹ä¸­åŠ ä¸€ä¸ªç©ºçš„æºæ–‡ä»¶æ‰èƒ½é€šè¿‡ç¼–è¯‘ï¼Œå¦‚æœä½ ä¹Ÿå‡ºç°äº†é—®é¢˜ï¼ŒåŠ ä¸€ä¸ªè¯•è¯•çœ‹èƒ½ä¸èƒ½è§£å†³ï¼‰ 1234#include \"com_example_helen_ndkproject_MainActivity.h\"jstring Java_com_example_helen_ndkproject_MainActivity_sayHello(JNIEnv *env, jobject thiz)&#123; return (*env)-&gt;NewStringUTF(env, \"Hello from JNI !\");&#125; é…ç½®ä¸€äº›ä¿¡æ¯ åœ¨local.propertiesæ–‡ä»¶ä¸­è®¾ç½®ndkè·¯å¾„ åœ¨bulid.gradleçš„androidèŠ‚ç‚¹ä¸‹åŠ å…¥ndk{ moduleName &quot;MyJni&quot;//è¿™æ˜¯moduleçš„åå­— } åœ¨gradle.propertiesä¸‹é¢å¢åŠ ä¸€å¥è¯ï¼šandroid.useDeprecatedNdk=true åœ¨MainActivtyé‡Œè¯´æ˜è°ƒç”¨è¿™ä¸ªNDKstatic { System.loadLibrary(&quot;MyJni&quot;);} ç„¶åå°±å¯ä»¥è¿è¡ŒMainActivtyäº† å¦å¤–ç¯‡ï¼š åˆ†å¹³å°é…ç½®ç¼–è¯‘ï¼ˆå¯é€‰ï¼‰ è¿™ä¸€æ­¥ä¸æ˜¯å¿…é¡»çš„ï¼Œä½ å¯ä»¥æ ¹æ®éœ€è¦ï¼Œå¯¹å„ä¸ªå¹³å°è¿›è¡Œä¸åŒçš„ç¼–è¯‘é…ç½®ï¼Œå¯ä»¥è®¾ç½®è¦†ç›–å‰é¢çš„ç¼–è¯‘é€‰é¡¹ï¼ˆä¾‹å¦‚cFlagsï¼‰ã€‚ä¾‹å¦‚ä½ åªæƒ³ç¼–è¯‘æŒ‡å®šå¹³å°çš„.soï¼Œè€Œä¸æ˜¯æ‰€æœ‰çš„å¹³å°ã€‚å¦‚ä¸‹ 12345678910111213141516171819android &#123; &#x2F;&#x2F; .. android settings .. productFlavors &#123; x86 &#123; ndk &#123; abiFilter &quot;x86&quot; &#125; &#125; arm &#123; ndk &#123; abiFilter &quot;armeabi-v7a&quot; &#125; &#125; mips &#123; ndk &#123; abiFilter &quot;mips&quot; &#125; &#125; &#125; &#125; &#x2F;&#x2F; android å…¶ä»–ç¯‡ï¼š é»˜è®¤æƒ…å†µä¸‹ï¼Œä½ éœ€è¦æŠŠC/C++æºä»£ç æ”¾åœ¨[module]/src/main/jni/è·¯å¾„ä¸‹ï¼Œ å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥è‡ªå®šä¹‰æºä»£ç è·¯å¾„ï¼š 12345android &#123; // .. android settings .. sourceSets.main &#123; jni.srcDirs 'src/main/source' &#125;&#125;","tags":[]}]